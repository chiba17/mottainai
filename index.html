<html lang="ja"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6IjExYjc0YTUyNzgwMDk5ZjEzNDY0MmNlZWM3ZGE4MjNkMTc4MDc2ZjIiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIwNzE1ODkwNzg2MDAyMzE4NTExOCIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjX2IzMDQ0YTNlZWU0MmE2MzBfaW5kZXguaHRtbC0yNzMifSwiZXhwIjoxNzY1MDA0MTcwLCJpYXQiOjE3NjUwMDA1NzAsImFsZyI6IlJTMjU2In0.k2_XRgwkTozLszhg3Oqs9onv1vR9xmu0yBmtZETK8sPzIT0uAd_r-5AtBN9igQs07WImu7aASJO9P7jF0K-0Cs2T6KgQQ4_qj0y-jUAZmaUg002MATATQ6M7eN6ePDG5_pJxFcMKTuo40oKzWNV9CD4AEL85n0GInny4j3ThIpXtNfMcvrg0T5UO3ve6eZeL5QCSZ01jYHRU02ac3K9IkMXFM3jBSJLmQ5TjVV9Z3Rc2cj6utNXKjEihcihB1nNhK54KxRTZf7RQ4r1zIiuTYPmB1EM_E9z-fpbOlCfdHbFAm9ZUxN99LlvbH2G9S4xJEs5xjiy0VV0tJqYNBlznng","c_b3044a3eee42a630_index.html-273")</script><script>'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash-preview-09-2025","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-2.5-flash-image-preview","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>モッタイナイナー - 賞味期限管理</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin="anonymous" src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest" crossorigin="anonymous"></script>

    <!-- Google Fonts: Noto Sans JP & M PLUS Rounded 1c -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&amp;family=M+PLUS+Rounded+1c:wght@700&amp;display=swap" rel="stylesheet">

    <style>
        /* Base Setup */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
            background-color: #F5F5F7;
            color: #1D1D1F;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overscroll-behavior-y: none;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Glassmorphism Utilities */
        .glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        /* Floating Nav Glass */
        .glass-float {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        }

        /* Card Styles */
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 4px 20px -2px rgba(0, 0, 0, 0.05);
        }

        /* Active Tab Style */
        .tab-active {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 1);
            z-index: 10;
        }

        /* Inactive Tab Style */
        .tab-inactive {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.5);
            color: #86868b;
            box-shadow: none;
            z-index: 0;
        }
        .tab-inactive:hover {
            background: rgba(255, 255, 255, 0.9);
        }

        /* Animations */
        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.8) translateY(10px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }

        @keyframes swipeOut {
            to { transform: translateX(-100%); opacity: 0; height: 0; margin: 0; padding: 0; }
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .animate-slide-up { animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-fade-in { animation: fadeIn 0.2s ease-out forwards; }
        .animate-pop-in { animation: popIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-swipe-out { animation: swipeOut 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        .animate-bounce-in { animation: bounceIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); }

        input, select, textarea {
            font-size: 16px !important;
        }
        
        .tap-highlight-transparent {
            -webkit-tap-highlight-color: transparent;
        }
        
        /* iOS Date Input Fix */
        input[type="date"] {
            -webkit-appearance: none;
            appearance: none;
            min-height: 52px;
            background-color: #F9FAFB; /* bg-gray-50 */
        }
        input[type="date"]::-webkit-date-and-time-value {
            text-align: left;
            margin-top: auto;
            margin-bottom: auto;
        }

        /* Touch Device Hover Fix: Prevent sticky hover on touch devices */
        @media (hover: hover) {
            .hover-btn-emerald:hover {
                background-color: #d1fae5; /* bg-emerald-100 */
                color: #059669; /* text-emerald-600 */
            }
            .hover-btn-rose:hover {
                background-color: #ffe4e6; /* bg-rose-100 */
                color: #f43f5e; /* text-rose-500 */
            }
            .hover-btn-blue:hover {
                background-color: #dbeafe; /* bg-blue-100 */
            }
            .hover-btn-close:hover {
                color: #4b5563; /* text-gray-600 */
            }
        }

        /* Fade Out Animation */
        @keyframes fadeOut {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.95); }
        }
        .animate-fade-out { animation: fadeOut 0.3s ease-out forwards; }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0px}.bottom-8{bottom:2rem}.left-1\/2{left:50%}.top-0{top:0px}.left-0{left:0px}.left-4{left:1rem}.right-0{right:0px}.right-6{right:1.5rem}.top-1\/2{top:50%}.top-3{top:0.75rem}.top-6{top:1.5rem}.z-20{z-index:20}.z-40{z-index:40}.z-10{z-index:10}.z-50{z-index:50}.m-4{margin:1rem}.mx-2{margin-left:0.5rem;margin-right:0.5rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-8{margin-bottom:2rem}.mt-12{margin-top:3rem}.mt-2{margin-top:0.5rem}.mb-2{margin-bottom:0.5rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:0.25rem}.mt-6{margin-top:1.5rem}.mt-1{margin-top:0.25rem}.block{display:block}.flex{display:flex}.h-12{height:3rem}.h-2{height:0.5rem}.h-1{height:0.25rem}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-2{width:0.5rem}.w-28{width:7rem}.w-auto{width:auto}.w-full{width:100%}.max-w-\[95vw\]{max-width:95vw}.max-w-md{max-width:28rem}.flex-shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;user-select:none}.flex-row{flex-direction:row}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-5 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.rounded-full{border-radius:9999px}.rounded-\[2rem\]{border-radius:2rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-b-2{border-bottom-width:2px}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-200\/80{border-color:rgb(229 231 235 / 0.8)}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-blue-100{--tw-border-opacity:1;border-color:rgb(219 234 254 / var(--tw-border-opacity, 1))}.bg-\[\#F2F2F7\]{--tw-bg-opacity:1;background-color:rgb(242 242 247 / var(--tw-bg-opacity, 1))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-emerald-400{--tw-bg-opacity:1;background-color:rgb(52 211 153 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/40{background-color:rgb(255 255 255 / 0.4)}.bg-black\/20{background-color:rgb(0 0 0 / 0.2)}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.p-2{padding:0.5rem}.p-6{padding:1.5rem}.px-1\.5{padding-left:0.375rem;padding-right:0.375rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.py-20{padding-top:5rem;padding-bottom:5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.pb-40{padding-bottom:10rem}.pt-20{padding-top:5rem}.pb-6{padding-bottom:1.5rem}.pl-4{padding-left:1rem}.pl-6{padding-left:1.5rem}.pr-10{padding-right:2.5rem}.pr-2{padding-right:0.5rem}.pr-8{padding-right:2rem}.text-center{text-align:center}.text-\[10px\]{font-size:10px}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-2xl{font-size:1.5rem;line-height:2rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.font-normal{font-weight:400}.uppercase{text-transform:uppercase}.tracking-tight{letter-spacing:-0.025em}.tracking-widest{letter-spacing:0.1em}.tracking-wide{letter-spacing:0.025em}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.placeholder-gray-300::placeholder{--tw-placeholder-opacity:1;color:rgb(209 213 219 / var(--tw-placeholder-opacity, 1))}.opacity-40{opacity:0.4}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-\[0_0_8px_2px_rgba\(52\2c 211\2c 153\2c 0\.6\)\]{--tw-shadow:0 0 8px 2px rgba(52,211,153,0.6);--tw-shadow-colored:0 0 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-black\/20{--tw-shadow-color:rgb(0 0 0 / 0.2);--tw-shadow:var(--tw-shadow-colored)}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:text-gray-600:hover{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.focus\:border-black:focus{--tw-border-opacity:1;border-color:rgb(0 0 0 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-black\/5:focus{--tw-ring-color:rgb(0 0 0 / 0.05)}.active\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\:scale-\[0\.98\]:active{--tw-scale-x:0.98;--tw-scale-y:0.98;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\:text-gray-400:active{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.disabled\:opacity-50:disabled{opacity:0.5}.disabled\:shadow-none:disabled{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}</style><script>"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
var _React = React,
  useState = _React.useState,
  useEffect = _React.useEffect,
  useMemo = _React.useMemo;
var Icon = function Icon(_ref) {
  var name = _ref.name,
    _ref$size = _ref.size,
    size = _ref$size === void 0 ? 24 : _ref$size,
    _ref$className = _ref.className,
    className = _ref$className === void 0 ? "" : _ref$className;
  useEffect(function () {
    if (window.lucide) window.lucide.createIcons();
  }, [name]);
  return /*#__PURE__*/React.createElement("i", {
    "data-lucide": name,
    width: size,
    height: size,
    className: className
  });
};
var getDaysDiff = function getDaysDiff(targetDate) {
  var today = new Date();
  today.setHours(0, 0, 0, 0);
  var target = new Date(targetDate);
  target.setHours(0, 0, 0, 0);
  var diffTime = target - today;
  return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
};
var formatDate = function formatDate(dateStr) {
  if (!dateStr) return "";
  var date = new Date(dateStr);
  return "".concat(date.getMonth() + 1, "/").concat(date.getDate());
};
var getTodayString = function getTodayString() {
  var now = new Date();
  var days = ['日', '月', '火', '水', '木', '金', '土'];
  return "".concat(now.getMonth() + 1, "\u6708").concat(now.getDate(), "\u65E5 (").concat(days[now.getDay()], ")");
};
var getUrgencyStatus = function getUrgencyStatus(days) {
  if (days < 0) return {
    color: "bg-rose-500",
    text: "text-rose-600",
    bg: "bg-rose-50",
    label: "期限切れ"
  };
  if (days === 0) return {
    color: "bg-orange-500",
    text: "text-orange-600",
    bg: "bg-orange-50",
    label: "今日まで"
  };
  if (days <= 2) return {
    color: "bg-amber-400",
    text: "text-amber-600",
    bg: "bg-amber-50",
    label: "あと" + days + "日"
  };
  if (days <= 5) return {
    color: "bg-yellow-400",
    text: "text-yellow-700",
    bg: "bg-yellow-50",
    label: "あと" + days + "日"
  };
  return {
    color: "bg-emerald-400",
    text: "text-emerald-600",
    bg: "bg-emerald-50",
    label: "あと" + days + "日"
  };
};
var ADD_MESSAGES = ["大切に使いましょう", "美味しくいただきましょう", "新鮮なうちに使いましょう", "冷蔵庫の仲間入りです", "無駄なく使いましょう"];
var CONSUME_MESSAGES = ["ごちそうさまでした 🙏", "大事に使いましたね ✨", "きれいに使い切りました 👏", "食品ロス削減に貢献！ 🌏", "素晴らしい心がけです 💖"];
var SHOPPING_MESSAGES = ["買い忘れを防ぎましょう 📝", "メモしました！ ✅", "お買い物リストに追加 🛒"];
var App = function App() {
  // Views: 'stock' or 'shopping'
  var _useState = useState('stock'),
    _useState2 = _slicedToArray(_useState, 2),
    currentView = _useState2[0],
    setCurrentView = _useState2[1];

  // Stock Items State
  var _useState3 = useState(function () {
      var saved = localStorage.getItem('freshkeeper_items');
      return saved ? JSON.parse(saved) : []; // Initial empty state
    }),
    _useState4 = _slicedToArray(_useState3, 2),
    items = _useState4[0],
    setItems = _useState4[1];

  // Shopping List State
  var _useState5 = useState(function () {
      var saved = localStorage.getItem('freshkeeper_shopping');
      return saved ? JSON.parse(saved) : [];
    }),
    _useState6 = _slicedToArray(_useState5, 2),
    shoppingItems = _useState6[0],
    setShoppingItems = _useState6[1];

  // Modal State
  var _useState7 = useState(null),
    _useState8 = _slicedToArray(_useState7, 2),
    modalMode = _useState8[0],
    setModalMode = _useState8[1];
  var _useState9 = useState(null),
    _useState0 = _slicedToArray(_useState9, 2),
    editingItem = _useState0[0],
    setEditingItem = _useState0[1];
  var _useState1 = useState(''),
    _useState10 = _slicedToArray(_useState1, 2),
    inputName = _useState10[0],
    setInputName = _useState10[1];
  var _useState11 = useState(''),
    _useState12 = _slicedToArray(_useState11, 2),
    inputLabel = _useState12[0],
    setInputLabel = _useState12[1];
  var _useState13 = useState(''),
    _useState14 = _slicedToArray(_useState13, 2),
    inputDate = _useState14[0],
    setInputDate = _useState14[1];
  var _useState15 = useState('all'),
    _useState16 = _slicedToArray(_useState15, 2),
    filter = _useState16[0],
    setFilter = _useState16[1];
  var _useState17 = useState({
      message: null,
      actions: []
    }),
    _useState18 = _slicedToArray(_useState17, 2),
    toast = _useState18[0],
    setToast = _useState18[1];
  var _useState19 = useState(0),
    _useState20 = _slicedToArray(_useState19, 2),
    footerTapCount = _useState20[0],
    setFooterTapCount = _useState20[1];

  // Voice Input State
  var _useState21 = useState(false),
    _useState22 = _slicedToArray(_useState21, 2),
    isListening = _useState22[0],
    setIsListening = _useState22[1];

  // Persist
  useEffect(function () {
    localStorage.setItem('freshkeeper_items', JSON.stringify(items));
    if (window.lucide) window.lucide.createIcons();
  }, [items]);
  useEffect(function () {
    localStorage.setItem('freshkeeper_shopping', JSON.stringify(shoppingItems));
    if (window.lucide) window.lucide.createIcons();
  }, [shoppingItems]);

  // Modal Logic
  var openAddModal = function openAddModal() {
    setEditingItem(null);
    setInputName('');
    setInputLabel('');
    if (currentView === 'stock') {
      setModalMode('add');
      setInputDate('');
    } else {
      setModalMode('addShopping');
    }
  };
  var openEditModal = function openEditModal(item) {
    var isShopping = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    setEditingItem(item);
    setInputName(item.name);
    setInputLabel(item.label || '');
    if (isShopping) {
      setModalMode('editShopping');
    } else {
      setModalMode('edit');
      setInputDate(item.date);
    }
  };
  var openMoveModal = function openMoveModal(item) {
    setEditingItem(item);
    setInputName(item.name);
    setInputLabel(item.label || '');

    // 期限は未入力状態にする
    setInputDate('');
    setModalMode('moveFromShopping');
  };
  var handleSaveItem = function handleSaveItem() {
    if (!inputName) return;
    if ((modalMode === 'add' || modalMode === 'edit' || modalMode === 'moveFromShopping') && !inputDate) return;
    if (modalMode === 'add') {
      var newItem = {
        id: Date.now(),
        name: inputName,
        label: inputLabel,
        date: inputDate
      };
      setItems([].concat(_toConsumableArray(items), [newItem]));
      showToast("食材を追加しました");
      // 登録完了時に上部へスクロール
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    } else if (modalMode === 'edit' && editingItem) {
      var updatedItems = items.map(function (item) {
        return item.id === editingItem.id ? _objectSpread(_objectSpread({}, item), {}, {
          name: inputName,
          label: inputLabel,
          date: inputDate
        }) : item;
      });
      setItems(updatedItems);
      showToast("情報を更新しました");
    } else if (modalMode === 'addShopping') {
      var _newItem = {
        id: Date.now(),
        name: inputName,
        label: inputLabel
      };
      setShoppingItems([].concat(_toConsumableArray(shoppingItems), [_newItem]));
      showToast("買い物メモに追加しました");
    } else if (modalMode === 'editShopping' && editingItem) {
      var _updatedItems = shoppingItems.map(function (item) {
        return item.id === editingItem.id ? _objectSpread(_objectSpread({}, item), {}, {
          name: inputName,
          label: inputLabel
        }) : item;
      });
      setShoppingItems(_updatedItems);
      showToast("メモを更新しました");
    } else if (modalMode === 'moveFromShopping' && editingItem) {
      var _newItem2 = {
        id: Date.now(),
        name: inputName,
        label: inputLabel,
        date: inputDate
      };
      setItems([].concat(_toConsumableArray(items), [_newItem2]));
      setShoppingItems(shoppingItems.filter(function (i) {
        return i.id !== editingItem.id;
      }));
      showToast("食材リストに移動しました！🧊");
      // 移動完了時に上部へスクロール
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }
    closeModal();
  };
  var closeModal = function closeModal(e) {
    if (e && e.stopPropagation) e.stopPropagation();
    setModalMode(null);
    setEditingItem(null);
  };
  var handleDeleteItem = function handleDeleteItem(id) {
    var isShopping = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    if (isShopping) {
      var itemToDelete = shoppingItems.find(function (item) {
        return item.id === id;
      });
      if (!itemToDelete) return;
      setShoppingItems(shoppingItems.filter(function (item) {
        return item.id !== id;
      }));

      // 削除時に上部へスクロール
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
      var message = "リストから削除しました";
      setToast({
        message: message,
        type: "info",
        actions: [{
          label: "元に戻す",
          handler: function handler() {
            setShoppingItems(function (prev) {
              return [].concat(_toConsumableArray(prev), [itemToDelete]);
            });
            setToast({
              message: "取り消しました",
              actions: []
            });
            setTimeout(function () {
              return setToast({
                message: null,
                actions: []
              });
            }, 2000);
          }
        }]
      });
      setTimeout(function () {
        return setToast(function (prev) {
          return prev.message === message ? {
            message: null,
            actions: []
          } : prev;
        });
      }, 2500);
    } else {
      handleConsume(id);
    }
  };
  var handleConsume = function handleConsume(id) {
    var itemToDelete = items.find(function (item) {
      return item.id === id;
    });
    if (!itemToDelete) return;

    // 1. 在庫から削除
    setItems(function (prevItems) {
      return prevItems.filter(function (item) {
        return item.id !== id;
      });
    });
    // 使い切り時に上部へスクロール
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });

    // 2. トーストで選択肢を提示
    var randomMsg = "使い切りました！👏";
    setToast({
      message: randomMsg,
      type: "success",
      showCloseText: true,
      // 閉じるボタンを表示するフラグ
      actions: [{
        label: "元に戻す",
        style: "secondary",
        // 控えめなスタイル
        handler: function handler() {
          // 在庫に戻す
          setItems(function (prev) {
            return [].concat(_toConsumableArray(prev), [itemToDelete]);
          });
          setToast({
            message: "取り消しました",
            actions: []
          });
          setTimeout(function () {
            return setToast({
              message: null,
              actions: []
            });
          }, 2000);
        }
      }, {
        label: "買い物メモに追加",
        style: "primary",
        // 目立つスタイル
        handler: function handler() {
          var shoppingItem = {
            id: Date.now(),
            name: itemToDelete.name,
            label: itemToDelete.label
          };
          setShoppingItems(function (prev) {
            return [].concat(_toConsumableArray(prev), [shoppingItem]);
          });
          showToast("買い物メモに追加しました");
        }
      }]
    });

    // 表示時間を5秒に延長
    setTimeout(function () {
      return setToast(function (prev) {
        return prev.message === randomMsg ? {
          message: null,
          actions: []
        } : prev;
      });
    }, 5000);
  };
  var showToast = function showToast(message) {
    // 表示開始
    setToast({
      message: message,
      actions: [],
      isExiting: false
    });

    // 1.0秒後にフェードアウト開始 (1500ms -> 1000ms に短縮)
    setTimeout(function () {
      setToast(function (prev) {
        // メッセージが変わっていなければフェードアウトフラグを立てる
        if (prev.message === message) {
          return _objectSpread(_objectSpread({}, prev), {}, {
            isExiting: true
          });
        }
        return prev;
      });

      // アニメーション時間(300ms)待ってから完全に消去
      setTimeout(function () {
        setToast(function (prev) {
          if (prev.message === message && prev.isExiting) {
            return {
              message: null,
              actions: []
            };
          }
          return prev;
        });
      }, 300);
    }, 1000);
  };
  var getRandomMessage = function getRandomMessage(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  };
  var setDateOffset = function setDateOffset(days) {
    var date = new Date();
    date.setDate(date.getDate() + days);
    setInputDate(date.toISOString().split('T')[0]);
  };

  // Sorting & Filtering
  var sortedItems = useMemo(function () {
    // Unified view: Always sort by date, no filtering
    return _toConsumableArray(items).sort(function (a, b) {
      return new Date(a.date) - new Date(b.date);
    });
  }, [items]);
  var handleFooterTap = function handleFooterTap() {
    var now = Date.now();
    if (window.lastTap && now - window.lastTap < 500) {
      var newCount = footerTapCount + 1;
      setFooterTapCount(newCount);
      if (newCount >= 3) {
        downloadHtml();
        setFooterTapCount(0);
      }
    } else {
      setFooterTapCount(1);
    }
    window.lastTap = now;
  };
  var handleVoiceInput = function handleVoiceInput() {
    if (isListening) return;
    var SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    if (!SpeechRecognition) {
      showToast("音声入力未対応のブラウザです");
      return;
    }
    try {
      var recognition = new SpeechRecognition();
      recognition.lang = 'ja-JP';
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;
      recognition.onstart = function () {
        return setIsListening(true);
      };
      recognition.onresult = function (event) {
        var transcript = event.results[0][0].transcript;
        if (transcript) {
          setInputName(transcript);
        }
      };
      recognition.onerror = function (event) {
        console.error("Speech recognition error", event.error);
        setIsListening(false);
        if (event.error === 'not-allowed') {
          showToast("マイクの使用が許可されていません");
        }
      };
      recognition.onend = function () {
        setIsListening(false);
      };
      recognition.start();
    } catch (e) {
      console.error(e);
      showToast("音声入力を開始できませんでした");
    }
  };
  var downloadHtml = function downloadHtml() {
    var htmlContent = document.documentElement.outerHTML;
    var blob = new Blob([htmlContent], {
      type: 'text/html'
    });
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a');
    a.href = url;
    a.download = 'Mottainainer_Backup.html';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    showToast("バックアップを作成しました");
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen pb-40 relative overflow-hidden bg-[#F2F2F7]"
  }, /*#__PURE__*/React.createElement("header", {
    className: "fixed top-0 w-full z-20 glass px-6 py-4 flex justify-between items-center transition-all duration-300"
  }, /*#__PURE__*/React.createElement("h1", {
    className: "text-base font-bold text-gray-800 tracking-tight flex items-center gap-2",
    style: {
      fontFamily: "'M PLUS Rounded 1c', sans-serif"
    }
  }, "\u30E2\u30C3\u30BF\u30A4\u30CA\u30A4\u30CA\u30FC"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs font-semibold text-gray-500 flex items-center gap-2 border border-gray-200/80 bg-white/40 px-3 py-1.5 rounded-full shadow-sm"
  }, /*#__PURE__*/React.createElement("span", {
    className: "w-2 h-2 rounded-full bg-emerald-400 shadow-[0_0_8px_2px_rgba(52,211,153,0.6)] animate-pulse"
  }), getTodayString())), /*#__PURE__*/React.createElement("main", {
    className: "pt-20 px-4 max-w-md mx-auto min-h-screen"
  }, currentView === 'stock' && /*#__PURE__*/React.createElement("div", {
    className: "animate-fade-in"
  }, /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center px-2 mb-3"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xs font-bold text-gray-400 uppercase tracking-widest"
  }, "\u98DF\u6750\u30EA\u30B9\u30C8 (", items.length, ")")), sortedItems.length === 0 ? /*#__PURE__*/React.createElement("div", {
    className: "text-center py-20 opacity-40"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "package-open",
    size: 48,
    className: "mx-auto mb-4 text-gray-400"
  }), /*#__PURE__*/React.createElement("p", {
    className: "text-sm font-medium text-gray-500"
  }, "\u98DF\u6750\u30EA\u30B9\u30C8\u306F\u7A7A\u3063\u307D\u3067\u3059"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs mt-2 text-gray-400"
  }, "\u304A\u8CB7\u3044\u7269\u3092\u3057\u305F\u3089\u8FFD\u52A0\u3057\u307E\u3057\u3087\u3046")) : sortedItems.map(function (item) {
    return /*#__PURE__*/React.createElement(FoodItem, {
      key: item.id,
      item: item,
      onConsume: function onConsume() {
        return handleConsume(item.id);
      },
      onEdit: function onEdit() {
        return openEditModal(item);
      }
    });
  }))), currentView === 'shopping' && /*#__PURE__*/React.createElement("div", {
    className: "animate-fade-in"
  }, /*#__PURE__*/React.createElement("div", {
    className: "px-2 mb-4"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-gray-800 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "shopping-cart",
    className: "text-gray-600"
  }), "\u8CB7\u3044\u7269\u30E1\u30E2"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-gray-400 mt-1"
  }, "\u5FC5\u8981\u306A\u3082\u306E\u3092\u30E1\u30E2\u3057\u3066\u304A\u304D\u307E\u3057\u3087\u3046")), /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, shoppingItems.length === 0 ? /*#__PURE__*/React.createElement("div", {
    className: "text-center py-20 opacity-40"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "clipboard-list",
    size: 48,
    className: "mx-auto mb-4 text-gray-400"
  }), /*#__PURE__*/React.createElement("p", {
    className: "text-sm font-medium text-gray-500"
  }, "\u8CB7\u3046\u3082\u306E\u306F\u3042\u308A\u307E\u305B\u3093"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs mt-2 text-gray-400"
  }, "\uFF0B\u30DC\u30BF\u30F3\u3067\u30E1\u30E2\u3092\u8FFD\u52A0")) : shoppingItems.map(function (item) {
    return /*#__PURE__*/React.createElement(ShoppingItem, {
      key: item.id,
      item: item,
      onEdit: function onEdit() {
        return openEditModal(item, true);
      },
      onDelete: function onDelete() {
        return handleDeleteItem(item.id, true);
      },
      onMove: function onMove() {
        return openMoveModal(item);
      }
    });
  }))), /*#__PURE__*/React.createElement("div", {
    className: "mt-12 mb-8 text-center"
  }, /*#__PURE__*/React.createElement("p", {
    onClick: handleFooterTap,
    className: "text-[10px] text-gray-300 font-medium tracking-widest uppercase cursor-pointer select-none active:text-gray-400 transition-colors"
  }, "Love food, hate waste."))), /*#__PURE__*/React.createElement("div", {
    className: "fixed bottom-8 left-1/2 transform -translate-x-1/2 z-40 w-auto max-w-[95vw]"
  }, /*#__PURE__*/React.createElement("div", {
    className: "glass-float px-1.5 py-1.5 rounded-full shadow-2xl flex items-center"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setCurrentView('stock');
    },
    className: "flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 ".concat(currentView === 'stock' ? 'bg-white text-gray-900 border border-gray-200 shadow-sm' : 'text-gray-400 hover:text-gray-600')
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "refrigerator",
    size: 20,
    strokeWidth: currentView === 'stock' ? 2.5 : 2
  }), /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold"
  }, "\u98DF\u6750\u30EA\u30B9\u30C8")), /*#__PURE__*/React.createElement("button", {
    onClick: openAddModal,
    className: "w-12 h-12 mx-2 text-white rounded-full shadow-lg flex-shrink-0 flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-300 tap-highlight-transparent ".concat(currentView === 'shopping' ? 'bg-blue-600' : 'bg-black'),
    "aria-label": "\u8FFD\u52A0"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "plus",
    size: 24,
    strokeWidth: 3
  })), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setCurrentView('shopping');
    },
    className: "flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 ".concat(currentView === 'shopping' ? 'bg-white text-blue-600 border border-blue-100 shadow-sm' : 'text-gray-400 hover:text-gray-600')
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "shopping-cart",
    size: 20,
    strokeWidth: currentView === 'shopping' ? 2.5 : 2
  }), /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold"
  }, "\u8CB7\u3044\u7269")))), modalMode && /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-50 flex items-center justify-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity",
    onClick: closeModal
  }), /*#__PURE__*/React.createElement("div", {
    className: "bg-white w-full max-w-md rounded-[2rem] p-6 shadow-2xl animate-slide-up relative z-10 m-4 pb-6"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: closeModal,
    className: "absolute top-6 right-6 text-gray-400 hover-btn-close bg-gray-100 p-2 rounded-full transition-colors"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "x",
    size: 20
  })), /*#__PURE__*/React.createElement("div", {
    className: "w-12 h-1 bg-gray-200 rounded-full mx-auto mb-6"
  }), /*#__PURE__*/React.createElement("h3", {
    className: "text-xl font-bold text-gray-900 mb-6 flex items-center gap-2 pr-8"
  }, modalMode === 'moveFromShopping' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Icon, {
    name: "arrow-right-circle",
    size: 20,
    className: "text-blue-500"
  }), "\u98DF\u6750\u30EA\u30B9\u30C8\u3078\u79FB\u52D5 ") : modalMode.includes('Shopping') ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Icon, {
    name: "shopping-cart",
    size: 20
  }), modalMode === 'addShopping' ? 'メモを追加' : 'メモを編集') : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Icon, {
    name: modalMode === 'add' ? "shopping-bag" : "edit-3",
    size: 20
  }), modalMode === 'add' ? '食材を追加' : '情報を編集')), /*#__PURE__*/React.createElement("div", {
    className: "space-y-5"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide"
  }, "\u540D\u524D"), /*#__PURE__*/React.createElement("div", {
    className: "relative"
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "\u4F8B\uFF1A\u725B\u4E73\u3001\u8C46\u8150...",
    className: "w-full text-lg font-medium border-b-2 border-gray-100 py-2 pr-10 focus:outline-none focus:border-black bg-transparent placeholder-gray-300 transition-colors",
    value: inputName,
    onChange: function onChange(e) {
      return setInputName(e.target.value);
    },
    autoFocus: modalMode === 'add' || modalMode === 'addShopping'
  }), /*#__PURE__*/React.createElement("button", {
    onClick: handleVoiceInput,
    className: "absolute right-0 top-1/2 -translate-y-1/2 p-2 rounded-full transition-all ".concat(isListening ? 'text-rose-500 bg-rose-50 animate-pulse scale-110' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100'),
    title: "\u97F3\u58F0\u5165\u529B"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "mic",
    size: 20
  })))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide"
  }, "\u30E9\u30D9\u30EB ", /*#__PURE__*/React.createElement("span", {
    className: "font-normal text-gray-300 ml-1"
  }, "(\u4EFB\u610F)")), /*#__PURE__*/React.createElement("div", {
    className: "relative"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "tag",
    size: 16,
    className: "absolute left-0 top-3 text-gray-300"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "\u4F8B\uFF1A\u51B7\u51CD\u3001\u958B\u5C01\u6E08\u3001\u6B8B\u308A\u534A\u5206...",
    className: "w-full text-base font-medium border-b-2 border-gray-100 py-2 pl-6 focus:outline-none focus:border-black bg-transparent placeholder-gray-300 transition-colors",
    value: inputLabel,
    onChange: function onChange(e) {
      return setInputLabel(e.target.value);
    }
  }))), (!modalMode.includes('Shopping') || modalMode === 'moveFromShopping') && /*#__PURE__*/React.createElement("div", {
    className: "animate-fade-in"
  }, /*#__PURE__*/React.createElement("label", {
    className: "block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide"
  }, "\u671F\u9650"), /*#__PURE__*/React.createElement("div", {
    className: "relative"
  }, /*#__PURE__*/React.createElement("input", {
    type: "date",
    className: "w-full text-lg font-medium bg-gray-50 rounded-xl pl-4 pr-2 py-3 focus:outline-none focus:ring-2 focus:ring-black/5 ".concat(!inputDate ? 'text-transparent' : 'text-gray-800'),
    value: inputDate,
    onChange: function onChange(e) {
      return setInputDate(e.target.value);
    }
  }), !inputDate && /*#__PURE__*/React.createElement("span", {
    className: "absolute left-4 top-1/2 -translate-y-1/2 text-gray-300 pointer-events-none text-base font-medium"
  }, "\u5E74 / \u6708 / \u65E5"))), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-3 mt-6"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: handleSaveItem,
    disabled: !inputName || (!modalMode.includes('Shopping') || modalMode === 'moveFromShopping') && !inputDate,
    className: "w-full bg-black text-white font-bold text-base py-4 rounded-xl shadow-lg shadow-black/20 disabled:opacity-50 disabled:shadow-none active:scale-[0.98] transition-all"
  }, modalMode === 'moveFromShopping' ? '食材リストへ移動' : '保存する', " "))))), toast.message && /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-50 flex items-center justify-center pointer-events-none"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-black/5 backdrop-blur-[1px] transition-opacity ".concat(toast.isExiting ? 'animate-fade-out' : 'animate-fade-in')
  }), /*#__PURE__*/React.createElement("div", {
    className: "relative bg-white/95 backdrop-blur-xl px-6 py-5 rounded-[2rem] shadow-2xl flex flex-col items-center gap-4 pointer-events-auto max-w-[85%] text-center border border-white/50 ".concat(toast.isExiting ? 'animate-fade-out' : 'animate-pop-in')
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-2 bg-emerald-50 rounded-full text-emerald-500 shrink-0"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: toast.type === "success" ? "check" : "info",
    size: 24,
    strokeWidth: 3
  })), /*#__PURE__*/React.createElement("span", {
    className: "text-gray-800 font-bold text-base leading-snug"
  }, toast.message)), toast.actions && toast.actions.length > 0 && /*#__PURE__*/React.createElement("div", {
    className: "flex gap-3 w-full mt-1"
  }, toast.actions.map(function (action, index) {
    return /*#__PURE__*/React.createElement("button", {
      key: index,
      onClick: action.handler,
      className: "\n                                                    flex-1 py-2.5 px-4 rounded-xl text-sm font-bold transition-all active:scale-95\n                                                    ".concat(action.style === 'primary' ? 'bg-blue-600 text-white shadow-lg shadow-blue-200 hover:bg-blue-700' : 'bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700', "\n                                                ")
    }, action.label);
  })), toast.showCloseText && /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setToast({
        message: null,
        actions: []
      });
    },
    className: "mt-1 text-xs font-bold text-gray-400 hover:text-gray-600 py-2 px-4 transition-colors"
  }, "\u9589\u3058\u308B"))));
};
var FoodItem = function FoodItem(_ref2) {
  var item = _ref2.item,
    onConsume = _ref2.onConsume,
    onEdit = _ref2.onEdit;
  var days = getDaysDiff(item.date);
  var status = getUrgencyStatus(days);
  var _useState23 = useState(false),
    _useState24 = _slicedToArray(_useState23, 2),
    isExiting = _useState24[0],
    setIsExiting = _useState24[1];
  var handleComplete = function handleComplete(e) {
    e.stopPropagation();
    setIsExiting(true);
    setTimeout(function () {
      return onConsume(item.id);
    }, 300);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "relative group ".concat(isExiting ? 'animate-swipe-out' : 'animate-fade-in')
  }, /*#__PURE__*/React.createElement("div", {
    onClick: onEdit,
    className: "glass-card rounded-xl p-4 flex items-center justify-between shadow-sm transition-transform active:scale-[0.99] cursor-pointer"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-4 flex-1"
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-1.5 h-12 rounded-full ".concat(status.color)
  }), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2 flex-wrap"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-bold text-gray-800 text-lg leading-tight"
  }, item.name), item.label && /*#__PURE__*/React.createElement("span", {
    className: "text-[10px] font-medium text-gray-500 bg-gray-100 border border-gray-200 px-2 py-0.5 rounded-full whitespace-nowrap"
  }, item.label)), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2 mt-1"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold px-2 py-0.5 rounded-md ".concat(status.bg, " ").concat(status.text)
  }, status.label), /*#__PURE__*/React.createElement("span", {
    className: "text-xs text-gray-400 font-medium tracking-wide"
  }, formatDate(item.date), "\u307E\u3067")))), /*#__PURE__*/React.createElement("button", {
    onClick: handleComplete,
    className: "w-10 h-10 rounded-full bg-gray-100 flex-shrink-0 flex items-center justify-center text-gray-400 hover-btn-emerald active:bg-emerald-500 active:text-white transition-all tap-highlight-transparent z-10",
    "aria-label": "\u98DF\u3079\u304D\u3063\u305F"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "check",
    size: 20
  }))));
};
var ShoppingItem = function ShoppingItem(_ref3) {
  var item = _ref3.item,
    onEdit = _ref3.onEdit,
    onDelete = _ref3.onDelete,
    onMove = _ref3.onMove;
  return /*#__PURE__*/React.createElement("div", {
    className: "glass-card rounded-xl p-4 flex items-center justify-between shadow-sm animate-fade-in cursor-pointer active:scale-[0.99] transition-transform",
    onClick: onEdit
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-2 bg-gray-100 rounded-lg text-gray-500"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "shopping-bag",
    size: 20
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-bold text-gray-800 text-lg"
  }, item.name), item.label && /*#__PURE__*/React.createElement("span", {
    className: "text-[10px] font-medium text-gray-500 bg-gray-100 border border-gray-200 px-2 py-0.5 rounded-full whitespace-nowrap"
  }, item.label)))), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick(e) {
      e.stopPropagation();
      onMove();
    },
    className: "w-10 h-10 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center hover-btn-blue transition-colors",
    "aria-label": "\u98DF\u6750\u30EA\u30B9\u30C8\u3078\u79FB\u52D5" // Modified: Wording change
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "arrow-right",
    size: 20
  })), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick(e) {
      e.stopPropagation();
      onDelete();
    },
    className: "w-10 h-10 rounded-full bg-gray-50 text-gray-400 flex items-center justify-center hover-btn-rose transition-colors",
    "aria-label": "\u524A\u9664"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "trash-2",
    size: 18
  }))));
};
var root = ReactDOM.createRoot(document.getElementById('root'));
root.render(/*#__PURE__*/React.createElement(App, null));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUmVhY3QiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsIkljb24iLCJfcmVmIiwibmFtZSIsIl9yZWYkc2l6ZSIsInNpemUiLCJfcmVmJGNsYXNzTmFtZSIsImNsYXNzTmFtZSIsIndpbmRvdyIsImx1Y2lkZSIsImNyZWF0ZUljb25zIiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0RGF5c0RpZmYiLCJ0YXJnZXREYXRlIiwidG9kYXkiLCJEYXRlIiwic2V0SG91cnMiLCJ0YXJnZXQiLCJkaWZmVGltZSIsIk1hdGgiLCJjZWlsIiwiZm9ybWF0RGF0ZSIsImRhdGVTdHIiLCJkYXRlIiwiY29uY2F0IiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0VG9kYXlTdHJpbmciLCJub3ciLCJkYXlzIiwiZ2V0RGF5IiwiZ2V0VXJnZW5jeVN0YXR1cyIsImNvbG9yIiwidGV4dCIsImJnIiwibGFiZWwiLCJBRERfTUVTU0FHRVMiLCJDT05TVU1FX01FU1NBR0VTIiwiU0hPUFBJTkdfTUVTU0FHRVMiLCJBcHAiLCJfdXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkiLCJjdXJyZW50VmlldyIsInNldEN1cnJlbnRWaWV3IiwiX3VzZVN0YXRlMyIsInNhdmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsIl91c2VTdGF0ZTQiLCJpdGVtcyIsInNldEl0ZW1zIiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJzaG9wcGluZ0l0ZW1zIiwic2V0U2hvcHBpbmdJdGVtcyIsIl91c2VTdGF0ZTciLCJfdXNlU3RhdGU4IiwibW9kYWxNb2RlIiwic2V0TW9kYWxNb2RlIiwiX3VzZVN0YXRlOSIsIl91c2VTdGF0ZTAiLCJlZGl0aW5nSXRlbSIsInNldEVkaXRpbmdJdGVtIiwiX3VzZVN0YXRlMSIsIl91c2VTdGF0ZTEwIiwiaW5wdXROYW1lIiwic2V0SW5wdXROYW1lIiwiX3VzZVN0YXRlMTEiLCJfdXNlU3RhdGUxMiIsImlucHV0TGFiZWwiLCJzZXRJbnB1dExhYmVsIiwiX3VzZVN0YXRlMTMiLCJfdXNlU3RhdGUxNCIsImlucHV0RGF0ZSIsInNldElucHV0RGF0ZSIsIl91c2VTdGF0ZTE1IiwiX3VzZVN0YXRlMTYiLCJmaWx0ZXIiLCJzZXRGaWx0ZXIiLCJfdXNlU3RhdGUxNyIsIm1lc3NhZ2UiLCJhY3Rpb25zIiwiX3VzZVN0YXRlMTgiLCJ0b2FzdCIsInNldFRvYXN0IiwiX3VzZVN0YXRlMTkiLCJfdXNlU3RhdGUyMCIsImZvb3RlclRhcENvdW50Iiwic2V0Rm9vdGVyVGFwQ291bnQiLCJfdXNlU3RhdGUyMSIsIl91c2VTdGF0ZTIyIiwiaXNMaXN0ZW5pbmciLCJzZXRJc0xpc3RlbmluZyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJvcGVuQWRkTW9kYWwiLCJvcGVuRWRpdE1vZGFsIiwiaXRlbSIsImlzU2hvcHBpbmciLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJvcGVuTW92ZU1vZGFsIiwiaGFuZGxlU2F2ZUl0ZW0iLCJuZXdJdGVtIiwiaWQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJzaG93VG9hc3QiLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwidXBkYXRlZEl0ZW1zIiwibWFwIiwiX29iamVjdFNwcmVhZCIsImkiLCJjbG9zZU1vZGFsIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImhhbmRsZURlbGV0ZUl0ZW0iLCJpdGVtVG9EZWxldGUiLCJmaW5kIiwidHlwZSIsImhhbmRsZXIiLCJwcmV2Iiwic2V0VGltZW91dCIsImhhbmRsZUNvbnN1bWUiLCJwcmV2SXRlbXMiLCJyYW5kb21Nc2ciLCJzaG93Q2xvc2VUZXh0Iiwic3R5bGUiLCJzaG9wcGluZ0l0ZW0iLCJpc0V4aXRpbmciLCJnZXRSYW5kb21NZXNzYWdlIiwiYXJyIiwiZmxvb3IiLCJyYW5kb20iLCJzZXREYXRlT2Zmc2V0Iiwic2V0RGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJzb3J0ZWRJdGVtcyIsInNvcnQiLCJhIiwiYiIsImhhbmRsZUZvb3RlclRhcCIsImxhc3RUYXAiLCJuZXdDb3VudCIsImRvd25sb2FkSHRtbCIsImhhbmRsZVZvaWNlSW5wdXQiLCJTcGVlY2hSZWNvZ25pdGlvbiIsIndlYmtpdFNwZWVjaFJlY29nbml0aW9uIiwicmVjb2duaXRpb24iLCJsYW5nIiwiaW50ZXJpbVJlc3VsdHMiLCJtYXhBbHRlcm5hdGl2ZXMiLCJvbnN0YXJ0Iiwib25yZXN1bHQiLCJldmVudCIsInRyYW5zY3JpcHQiLCJyZXN1bHRzIiwib25lcnJvciIsImNvbnNvbGUiLCJlcnJvciIsIm9uZW5kIiwic3RhcnQiLCJodG1sQ29udGVudCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwib3V0ZXJIVE1MIiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJocmVmIiwiZG93bmxvYWQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwicmV2b2tlT2JqZWN0VVJMIiwiZm9udEZhbWlseSIsIkZvb2RJdGVtIiwia2V5Iiwib25Db25zdW1lIiwib25FZGl0IiwiU2hvcHBpbmdJdGVtIiwib25EZWxldGUiLCJvbk1vdmUiLCJvbkNsaWNrIiwic3Ryb2tlV2lkdGgiLCJGcmFnbWVudCIsImluY2x1ZGVzIiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiYXV0b0ZvY3VzIiwidGl0bGUiLCJkaXNhYmxlZCIsImFjdGlvbiIsImluZGV4IiwiX3JlZjIiLCJzdGF0dXMiLCJfdXNlU3RhdGUyMyIsIl91c2VTdGF0ZTI0Iiwic2V0SXNFeGl0aW5nIiwiaGFuZGxlQ29tcGxldGUiLCJfcmVmMyIsInJvb3QiLCJSZWFjdERPTSIsImNyZWF0ZVJvb3QiLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlciJdLCJzb3VyY2VzIjpbIklubGluZSBCYWJlbCBzY3JpcHQiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgICAgIGNvbnN0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbyB9ID0gUmVhY3Q7XG5cbiAgICAgICAgY29uc3QgSWNvbiA9ICh7IG5hbWUsIHNpemUgPSAyNCwgY2xhc3NOYW1lID0gXCJcIiB9KSA9PiB7XG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubHVjaWRlKSB3aW5kb3cubHVjaWRlLmNyZWF0ZUljb25zKCk7XG4gICAgICAgICAgICB9LCBbbmFtZV0pO1xuICAgICAgICAgICAgcmV0dXJuIDxpIGRhdGEtbHVjaWRlPXtuYW1lfSB3aWR0aD17c2l6ZX0gaGVpZ2h0PXtzaXplfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+PC9pPjtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZXREYXlzRGlmZiA9ICh0YXJnZXREYXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IG5ldyBEYXRlKHRhcmdldERhdGUpO1xuICAgICAgICAgICAgdGFyZ2V0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgY29uc3QgZGlmZlRpbWUgPSB0YXJnZXQgLSB0b2RheTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdERhdGUgPSAoZGF0ZVN0cikgPT4ge1xuICAgICAgICAgICAgaWYgKCFkYXRlU3RyKSByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcbiAgICAgICAgICAgIHJldHVybiBgJHtkYXRlLmdldE1vbnRoKCkgKyAxfS8ke2RhdGUuZ2V0RGF0ZSgpfWA7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0VG9kYXlTdHJpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgZGF5cyA9IFsn5pelJywgJ+aciCcsICfngasnLCAn5rC0JywgJ+acqCcsICfph5EnLCAn5ZyfJ107XG4gICAgICAgICAgICByZXR1cm4gYCR7bm93LmdldE1vbnRoKCkgKyAxfeaciCR7bm93LmdldERhdGUoKX3ml6UgKCR7ZGF5c1tub3cuZ2V0RGF5KCldfSlgO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldFVyZ2VuY3lTdGF0dXMgPSAoZGF5cykgPT4ge1xuICAgICAgICAgICAgaWYgKGRheXMgPCAwKSByZXR1cm4geyBjb2xvcjogXCJiZy1yb3NlLTUwMFwiLCB0ZXh0OiBcInRleHQtcm9zZS02MDBcIiwgYmc6IFwiYmctcm9zZS01MFwiLCBsYWJlbDogXCLmnJ/pmZDliIfjgoxcIiB9O1xuICAgICAgICAgICAgaWYgKGRheXMgPT09IDApIHJldHVybiB7IGNvbG9yOiBcImJnLW9yYW5nZS01MDBcIiwgdGV4dDogXCJ0ZXh0LW9yYW5nZS02MDBcIiwgYmc6IFwiYmctb3JhbmdlLTUwXCIsIGxhYmVsOiBcIuS7iuaXpeOBvuOBp1wiIH07XG4gICAgICAgICAgICBpZiAoZGF5cyA8PSAyKSByZXR1cm4geyBjb2xvcjogXCJiZy1hbWJlci00MDBcIiwgdGV4dDogXCJ0ZXh0LWFtYmVyLTYwMFwiLCBiZzogXCJiZy1hbWJlci01MFwiLCBsYWJlbDogXCLjgYLjgahcIiArIGRheXMgKyBcIuaXpVwiIH07XG4gICAgICAgICAgICBpZiAoZGF5cyA8PSA1KSByZXR1cm4geyBjb2xvcjogXCJiZy15ZWxsb3ctNDAwXCIsIHRleHQ6IFwidGV4dC15ZWxsb3ctNzAwXCIsIGJnOiBcImJnLXllbGxvdy01MFwiLCBsYWJlbDogXCLjgYLjgahcIiArIGRheXMgKyBcIuaXpVwiIH07XG4gICAgICAgICAgICByZXR1cm4geyBjb2xvcjogXCJiZy1lbWVyYWxkLTQwMFwiLCB0ZXh0OiBcInRleHQtZW1lcmFsZC02MDBcIiwgYmc6IFwiYmctZW1lcmFsZC01MFwiLCBsYWJlbDogXCLjgYLjgahcIiArIGRheXMgKyBcIuaXpVwiIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgQUREX01FU1NBR0VTID0gW1xuICAgICAgICAgICAgXCLlpKfliIfjgavkvb/jgYTjgb7jgZfjgofjgYZcIixcbiAgICAgICAgICAgIFwi576O5ZGz44GX44GP44GE44Gf44Gg44GN44G+44GX44KH44GGXCIsXG4gICAgICAgICAgICBcIuaWsOmuruOBquOBhuOBoeOBq+S9v+OBhOOBvuOBl+OCh+OBhlwiLFxuICAgICAgICAgICAgXCLlhrfolLXluqvjga7ku7LplpPlhaXjgorjgafjgZlcIixcbiAgICAgICAgICAgIFwi54Sh6aeE44Gq44GP5L2/44GE44G+44GX44KH44GGXCJcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBDT05TVU1FX01FU1NBR0VTID0gW1xuICAgICAgICAgICAgXCLjgZTjgaHjgZ3jgYbjgZXjgb7jgafjgZfjgZ8g8J+Zj1wiLFxuICAgICAgICAgICAgXCLlpKfkuovjgavkvb/jgYTjgb7jgZfjgZ/jga0g4pyoXCIsXG4gICAgICAgICAgICBcIuOBjeOCjOOBhOOBq+S9v+OBhOWIh+OCiuOBvuOBl+OBnyDwn5GPXCIsXG4gICAgICAgICAgICBcIumjn+WTgeODreOCueWJiua4m+OBq+iyoueMru+8gSDwn4yPXCIsXG4gICAgICAgICAgICBcIue0oOaZtOOCieOBl+OBhOW/g+OBjOOBkeOBp+OBmSDwn5KWXCJcbiAgICAgICAgXTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IFNIT1BQSU5HX01FU1NBR0VTID0gW1xuICAgICAgICAgICAgXCLosrfjgYTlv5jjgozjgpLpmLLjgY7jgb7jgZfjgofjgYYg8J+TnVwiLFxuICAgICAgICAgICAgXCLjg6Hjg6LjgZfjgb7jgZfjgZ/vvIEg4pyFXCIsXG4gICAgICAgICAgICBcIuOBiuiyt+OBhOeJqeODquOCueODiOOBq+i/veWKoCDwn5uSXCJcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBBcHAgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBWaWV3czogJ3N0b2NrJyBvciAnc2hvcHBpbmcnXG4gICAgICAgICAgICBjb25zdCBbY3VycmVudFZpZXcsIHNldEN1cnJlbnRWaWV3XSA9IHVzZVN0YXRlKCdzdG9jaycpO1xuXG4gICAgICAgICAgICAvLyBTdG9jayBJdGVtcyBTdGF0ZVxuICAgICAgICAgICAgY29uc3QgW2l0ZW1zLCBzZXRJdGVtc10gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZnJlc2hrZWVwZXJfaXRlbXMnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2F2ZWQgPyBKU09OLnBhcnNlKHNhdmVkKSA6IFtdOyAvLyBJbml0aWFsIGVtcHR5IHN0YXRlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU2hvcHBpbmcgTGlzdCBTdGF0ZVxuICAgICAgICAgICAgY29uc3QgW3Nob3BwaW5nSXRlbXMsIHNldFNob3BwaW5nSXRlbXNdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZyZXNoa2VlcGVyX3Nob3BwaW5nJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkID8gSlNPTi5wYXJzZShzYXZlZCkgOiBbXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBNb2RhbCBTdGF0ZVxuICAgICAgICAgICAgY29uc3QgW21vZGFsTW9kZSwgc2V0TW9kYWxNb2RlXSA9IHVzZVN0YXRlKG51bGwpOyBcbiAgICAgICAgICAgIGNvbnN0IFtlZGl0aW5nSXRlbSwgc2V0RWRpdGluZ0l0ZW1dID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IFtpbnB1dE5hbWUsIHNldElucHV0TmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgICAgICAgICBjb25zdCBbaW5wdXRMYWJlbCwgc2V0SW5wdXRMYWJlbF0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgICAgICAgICBjb25zdCBbaW5wdXREYXRlLCBzZXRJbnB1dERhdGVdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBbZmlsdGVyLCBzZXRGaWx0ZXJdID0gdXNlU3RhdGUoJ2FsbCcpO1xuICAgICAgICAgICAgY29uc3QgW3RvYXN0LCBzZXRUb2FzdF0gPSB1c2VTdGF0ZSh7IG1lc3NhZ2U6IG51bGwsIGFjdGlvbnM6IFtdIH0pO1xuICAgICAgICAgICAgY29uc3QgW2Zvb3RlclRhcENvdW50LCBzZXRGb290ZXJUYXBDb3VudF0gPSB1c2VTdGF0ZSgwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVm9pY2UgSW5wdXQgU3RhdGVcbiAgICAgICAgICAgIGNvbnN0IFtpc0xpc3RlbmluZywgc2V0SXNMaXN0ZW5pbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgICAgICAgICAvLyBQZXJzaXN0XG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmcmVzaGtlZXBlcl9pdGVtcycsIEpTT04uc3RyaW5naWZ5KGl0ZW1zKSk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sdWNpZGUpIHdpbmRvdy5sdWNpZGUuY3JlYXRlSWNvbnMoKTtcbiAgICAgICAgICAgIH0sIFtpdGVtc10pO1xuXG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmcmVzaGtlZXBlcl9zaG9wcGluZycsIEpTT04uc3RyaW5naWZ5KHNob3BwaW5nSXRlbXMpKTtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93Lmx1Y2lkZSkgd2luZG93Lmx1Y2lkZS5jcmVhdGVJY29ucygpO1xuICAgICAgICAgICAgfSwgW3Nob3BwaW5nSXRlbXNdKTtcblxuICAgICAgICAgICAgLy8gTW9kYWwgTG9naWNcbiAgICAgICAgICAgIGNvbnN0IG9wZW5BZGRNb2RhbCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nSXRlbShudWxsKTtcbiAgICAgICAgICAgICAgICBzZXRJbnB1dE5hbWUoJycpO1xuICAgICAgICAgICAgICAgIHNldElucHV0TGFiZWwoJycpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ3N0b2NrJykge1xuICAgICAgICAgICAgICAgICAgICBzZXRNb2RhbE1vZGUoJ2FkZCcpO1xuICAgICAgICAgICAgICAgICAgICBzZXRJbnB1dERhdGUoJycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldE1vZGFsTW9kZSgnYWRkU2hvcHBpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBvcGVuRWRpdE1vZGFsID0gKGl0ZW0sIGlzU2hvcHBpbmcgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEVkaXRpbmdJdGVtKGl0ZW0pO1xuICAgICAgICAgICAgICAgIHNldElucHV0TmFtZShpdGVtLm5hbWUpO1xuICAgICAgICAgICAgICAgIHNldElucHV0TGFiZWwoaXRlbS5sYWJlbCB8fCAnJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGlzU2hvcHBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TW9kYWxNb2RlKCdlZGl0U2hvcHBpbmcnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRNb2RhbE1vZGUoJ2VkaXQnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SW5wdXREYXRlKGl0ZW0uZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgb3Blbk1vdmVNb2RhbCA9IChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RWRpdGluZ0l0ZW0oaXRlbSk7XG4gICAgICAgICAgICAgICAgc2V0SW5wdXROYW1lKGl0ZW0ubmFtZSk7XG4gICAgICAgICAgICAgICAgc2V0SW5wdXRMYWJlbChpdGVtLmxhYmVsIHx8ICcnKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyDmnJ/pmZDjga/mnKrlhaXlipvnirbmhYvjgavjgZnjgotcbiAgICAgICAgICAgICAgICBzZXRJbnB1dERhdGUoJycpO1xuXG4gICAgICAgICAgICAgICAgc2V0TW9kYWxNb2RlKCdtb3ZlRnJvbVNob3BwaW5nJyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVTYXZlSXRlbSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0TmFtZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICgobW9kYWxNb2RlID09PSAnYWRkJyB8fCBtb2RhbE1vZGUgPT09ICdlZGl0JyB8fCBtb2RhbE1vZGUgPT09ICdtb3ZlRnJvbVNob3BwaW5nJykgJiYgIWlucHV0RGF0ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsTW9kZSA9PT0gJ2FkZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbSA9IHsgaWQ6IERhdGUubm93KCksIG5hbWU6IGlucHV0TmFtZSwgbGFiZWw6IGlucHV0TGFiZWwsIGRhdGU6IGlucHV0RGF0ZSB9O1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtcyhbLi4uaXRlbXMsIG5ld0l0ZW1dKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwi6aOf5p2Q44KS6L+95Yqg44GX44G+44GX44GfXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyDnmbvpjLLlrozkuobmmYLjgavkuIrpg6jjgbjjgrnjgq/jg63jg7zjg6tcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGFsTW9kZSA9PT0gJ2VkaXQnICYmIGVkaXRpbmdJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRJdGVtcyA9IGl0ZW1zLm1hcChpdGVtID0+IGl0ZW0uaWQgPT09IGVkaXRpbmdJdGVtLmlkID8geyAuLi5pdGVtLCBuYW1lOiBpbnB1dE5hbWUsIGxhYmVsOiBpbnB1dExhYmVsLCBkYXRlOiBpbnB1dERhdGUgfSA6IGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtcyh1cGRhdGVkSXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLmg4XloLHjgpLmm7TmlrDjgZfjgb7jgZfjgZ9cIik7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGFsTW9kZSA9PT0gJ2FkZFNob3BwaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtID0geyBpZDogRGF0ZS5ub3coKSwgbmFtZTogaW5wdXROYW1lLCBsYWJlbDogaW5wdXRMYWJlbCB9O1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG9wcGluZ0l0ZW1zKFsuLi5zaG9wcGluZ0l0ZW1zLCBuZXdJdGVtXSk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuiyt+OBhOeJqeODoeODouOBq+i/veWKoOOBl+OBvuOBl+OBn1wiKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kYWxNb2RlID09PSAnZWRpdFNob3BwaW5nJyAmJiBlZGl0aW5nSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkSXRlbXMgPSBzaG9wcGluZ0l0ZW1zLm1hcChpdGVtID0+IGl0ZW0uaWQgPT09IGVkaXRpbmdJdGVtLmlkID8geyAuLi5pdGVtLCBuYW1lOiBpbnB1dE5hbWUsIGxhYmVsOiBpbnB1dExhYmVsIH0gOiBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2hvcHBpbmdJdGVtcyh1cGRhdGVkSXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLjg6Hjg6LjgpLmm7TmlrDjgZfjgb7jgZfjgZ9cIik7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGFsTW9kZSA9PT0gJ21vdmVGcm9tU2hvcHBpbmcnICYmIGVkaXRpbmdJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSB7IGlkOiBEYXRlLm5vdygpLCBuYW1lOiBpbnB1dE5hbWUsIGxhYmVsOiBpbnB1dExhYmVsLCBkYXRlOiBpbnB1dERhdGUgfTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbXMoWy4uLml0ZW1zLCBuZXdJdGVtXSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3BwaW5nSXRlbXMoc2hvcHBpbmdJdGVtcy5maWx0ZXIoaSA9PiBpLmlkICE9PSBlZGl0aW5nSXRlbS5pZCkpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLpo5/mnZDjg6rjgrnjg4jjgavnp7vli5XjgZfjgb7jgZfjgZ/vvIHwn6eKXCIpOyBcbiAgICAgICAgICAgICAgICAgICAgLy8g56e75YuV5a6M5LqG5pmC44Gr5LiK6YOo44G444K544Kv44Ot44O844OrXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNsb3NlTW9kYWwgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlICYmIGUuc3RvcFByb3BhZ2F0aW9uKSBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHNldE1vZGFsTW9kZShudWxsKTtcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nSXRlbShudWxsKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZURlbGV0ZUl0ZW0gPSAoaWQsIGlzU2hvcHBpbmcgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc1Nob3BwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Ub0RlbGV0ZSA9IHNob3BwaW5nSXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtVG9EZWxldGUpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICBzZXRTaG9wcGluZ0l0ZW1zKHNob3BwaW5nSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIOWJiumZpOaZguOBq+S4iumDqOOBuOOCueOCr+ODreODvOODq1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcIuODquOCueODiOOBi+OCieWJiumZpOOBl+OBvuOBl+OBn1wiO1xuICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJpbmZvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIuWFg+OBq+aIu+OBmVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvcHBpbmdJdGVtcyhwcmV2ID0+IFsuLi5wcmV2LCBpdGVtVG9EZWxldGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9hc3QoeyBtZXNzYWdlOiBcIuWPluOCiua2iOOBl+OBvuOBl+OBn1wiLCBhY3Rpb25zOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdCh7IG1lc3NhZ2U6IG51bGwsIGFjdGlvbnM6IFtdIH0pLCAyMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdChwcmV2ID0+IChwcmV2Lm1lc3NhZ2UgPT09IG1lc3NhZ2UgPyB7IG1lc3NhZ2U6IG51bGwsIGFjdGlvbnM6IFtdIH0gOiBwcmV2KSksIDI1MDApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ29uc3VtZShpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlQ29uc3VtZSA9IChpZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Ub0RlbGV0ZSA9IGl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBpZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtVG9EZWxldGUpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIDEuIOWcqOW6q+OBi+OCieWJiumZpFxuICAgICAgICAgICAgICAgIHNldEl0ZW1zKHByZXZJdGVtcyA9PiBwcmV2SXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gaWQpKTtcbiAgICAgICAgICAgICAgICAvLyDkvb/jgYTliIfjgormmYLjgavkuIrpg6jjgbjjgrnjgq/jg63jg7zjg6tcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcblxuICAgICAgICAgICAgICAgIC8vIDIuIOODiOODvOOCueODiOOBp+mBuOaKnuiCouOCkuaPkOekulxuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbU1zZyA9IFwi5L2/44GE5YiH44KK44G+44GX44Gf77yB8J+Rj1wiO1xuXG4gICAgICAgICAgICAgICAgc2V0VG9hc3Qoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByYW5kb21Nc2csXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlVGV4dDogdHJ1ZSwgLy8g6ZaJ44GY44KL44Oc44K/44Oz44KS6KGo56S644GZ44KL44OV44Op44KwXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCLlhYPjgavmiLvjgZlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJzZWNvbmRhcnlcIiwgLy8g5o6n44GI44KB44Gq44K544K/44Kk44OrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlnKjluqvjgavmiLvjgZlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbXMocHJldiA9PiBbLi4ucHJldiwgaXRlbVRvRGVsZXRlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvYXN0KHsgbWVzc2FnZTogXCLlj5bjgormtojjgZfjgb7jgZfjgZ9cIiwgYWN0aW9uczogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0VG9hc3QoeyBtZXNzYWdlOiBudWxsLCBhY3Rpb25zOiBbXSB9KSwgMjAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCLosrfjgYTnianjg6Hjg6Ljgavov73liqBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJwcmltYXJ5XCIsIC8vIOebrueri+OBpOOCueOCv+OCpOODq1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvcHBpbmdJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtVG9EZWxldGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtVG9EZWxldGUubGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvcHBpbmdJdGVtcyhwcmV2ID0+IFsuLi5wcmV2LCBzaG9wcGluZ0l0ZW1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuiyt+OBhOeJqeODoeODouOBq+i/veWKoOOBl+OBvuOBl+OBn1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyDooajnpLrmmYLplpPjgpI156eS44Gr5bu26ZW3XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdChwcmV2ID0+IChwcmV2Lm1lc3NhZ2UgPT09IHJhbmRvbU1zZyA/IHsgbWVzc2FnZTogbnVsbCwgYWN0aW9uczogW10gfSA6IHByZXYpKSwgNTAwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBzaG93VG9hc3QgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIOihqOekuumWi+Wni1xuICAgICAgICAgICAgICAgIHNldFRvYXN0KHsgbWVzc2FnZSwgYWN0aW9uczogW10sIGlzRXhpdGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gMS4w56eS5b6M44Gr44OV44Kn44O844OJ44Ki44Km44OI6ZaL5aeLICgxNTAwbXMgLT4gMTAwMG1zIOOBq+efree4rilcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VG9hc3QocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDjg6Hjg4Pjgrvjg7zjgrjjgYzlpInjgo/jgaPjgabjgYTjgarjgZHjgozjgbDjg5Xjgqfjg7zjg4njgqLjgqbjg4jjg5Xjg6njgrDjgpLnq4vjgabjgotcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2Lm1lc3NhZ2UgPT09IG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCBpc0V4aXRpbmc6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyDjgqLjg4vjg6Hjg7zjgrfjg6fjg7PmmYLplpMoMzAwbXMp5b6F44Gj44Gm44GL44KJ5a6M5YWo44Gr5raI5Y67XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9hc3QocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYubWVzc2FnZSA9PT0gbWVzc2FnZSAmJiBwcmV2LmlzRXhpdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBudWxsLCBhY3Rpb25zOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZ2V0UmFuZG9tTWVzc2FnZSA9IChhcnIpID0+IGFycltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnIubGVuZ3RoKV07XG5cbiAgICAgICAgICAgIGNvbnN0IHNldERhdGVPZmZzZXQgPSAoZGF5cykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGRheXMpO1xuICAgICAgICAgICAgICAgIHNldElucHV0RGF0ZShkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTb3J0aW5nICYgRmlsdGVyaW5nXG4gICAgICAgICAgICBjb25zdCBzb3J0ZWRJdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFVuaWZpZWQgdmlldzogQWx3YXlzIHNvcnQgYnkgZGF0ZSwgbm8gZmlsdGVyaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5pdGVtc10uc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYS5kYXRlKSAtIG5ldyBEYXRlKGIuZGF0ZSkpO1xuICAgICAgICAgICAgfSwgW2l0ZW1zXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUZvb3RlclRhcCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubGFzdFRhcCAmJiBub3cgLSB3aW5kb3cubGFzdFRhcCA8IDUwMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDb3VudCA9IGZvb3RlclRhcENvdW50ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Rm9vdGVyVGFwQ291bnQobmV3Q291bnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3Q291bnQgPj0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRIdG1sKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGb290ZXJUYXBDb3VudCgwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEZvb3RlclRhcENvdW50KDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aW5kb3cubGFzdFRhcCA9IG5vdztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVZvaWNlSW5wdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTGlzdGVuaW5nKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjb25zdCBTcGVlY2hSZWNvZ25pdGlvbiA9IHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiB8fCB3aW5kb3cud2Via2l0U3BlZWNoUmVjb2duaXRpb247XG4gICAgICAgICAgICAgICAgaWYgKCFTcGVlY2hSZWNvZ25pdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLpn7Plo7DlhaXlipvmnKrlr77lv5zjga7jg5bjg6njgqbjgrbjgafjgZlcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNvZ25pdGlvbiA9IG5ldyBTcGVlY2hSZWNvZ25pdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICByZWNvZ25pdGlvbi5sYW5nID0gJ2phLUpQJztcbiAgICAgICAgICAgICAgICAgICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmVjb2duaXRpb24ubWF4QWx0ZXJuYXRpdmVzID0gMTtcblxuICAgICAgICAgICAgICAgICAgICByZWNvZ25pdGlvbi5vbnN0YXJ0ID0gKCkgPT4gc2V0SXNMaXN0ZW5pbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICByZWNvZ25pdGlvbi5vbnJlc3VsdCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNjcmlwdCA9IGV2ZW50LnJlc3VsdHNbMF1bMF0udHJhbnNjcmlwdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2NyaXB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5wdXROYW1lKHRyYW5zY3JpcHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml0aW9uLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTcGVlY2ggcmVjb2duaXRpb24gZXJyb3JcIiwgZXZlbnQuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNMaXN0ZW5pbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmVycm9yID09PSAnbm90LWFsbG93ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwi44Oe44Kk44Kv44Gu5L2/55So44GM6Kix5Y+v44GV44KM44Gm44GE44G+44Gb44KTXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml0aW9uLm9uZW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNMaXN0ZW5pbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml0aW9uLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLpn7Plo7DlhaXlipvjgpLplovlp4vjgafjgY3jgb7jgZvjgpPjgafjgZfjgZ9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgZG93bmxvYWRIdG1sID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxDb250ZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2h0bWxDb250ZW50XSwgeyB0eXBlOiAndGV4dC9odG1sJyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSAnTW90dGFpbmFpbmVyX0JhY2t1cC5odG1sJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLjg5Djg4Pjgq/jgqLjg4Pjg5fjgpLkvZzmiJDjgZfjgb7jgZfjgZ9cIik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIHBiLTQwIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiBiZy1bI0YyRjJGN11cIj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICAgICAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTAgdy1mdWxsIHotMjAgZ2xhc3MgcHgtNiBweS00IGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgdHJhY2tpbmctdGlnaHQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiBzdHlsZT17eyBmb250RmFtaWx5OiBcIidNIFBMVVMgUm91bmRlZCAxYycsIHNhbnMtc2VyaWZcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDjg6Ljg4Pjgr/jgqTjg4rjgqTjg4rjg7xcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBib3JkZXIgYm9yZGVyLWdyYXktMjAwLzgwIGJnLXdoaXRlLzQwIHB4LTMgcHktMS41IHJvdW5kZWQtZnVsbCBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy1lbWVyYWxkLTQwMCBzaGFkb3ctWzBfMF84cHhfMnB4X3JnYmEoNTIsMjExLDE1MywwLjYpXSBhbmltYXRlLXB1bHNlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRUb2RheVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogTWFpbiBDb250ZW50ICovfVxuICAgICAgICAgICAgICAgICAgICB7LyogTW9kaWZpZWQ6IFJlZHVjZWQgdG9wIHBhZGRpbmcgZnJvbSBwdC0yNCB0byBwdC0yMCAqL31cbiAgICAgICAgICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwicHQtMjAgcHgtNCBtYXgtdy1tZCBteC1hdXRvIG1pbi1oLXNjcmVlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogVklFVzogU1RPQ0sgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFZpZXcgPT09ICdzdG9jaycgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1mYWRlLWluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRm9vZCBJdGVtcyBMaXN0ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcHgtMiBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS00MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVzdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpo5/mnZDjg6rjgrnjg4ggKHtpdGVtcy5sZW5ndGh9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NvcnRlZEl0ZW1zLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTIwIG9wYWNpdHktNDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInBhY2thZ2Utb3BlblwiIHNpemU9ezQ4fSBjbGFzc05hbWU9XCJteC1hdXRvIG1iLTQgdGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg6aOf5p2Q44Oq44K544OI44Gv56m644Gj44G944Gn44GZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0yIHRleHQtZ3JheS00MDBcIj7jgYrosrfjgYTnianjgpLjgZfjgZ/jgonov73liqDjgZfjgb7jgZfjgofjgYY8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlZEl0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9vZEl0ZW0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0uaWR9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbT17aXRlbX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbnN1bWU9eygpID0+IGhhbmRsZUNvbnN1bWUoaXRlbS5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXQ9eygpID0+IG9wZW5FZGl0TW9kYWwoaXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFZJRVc6IFNIT1BQSU5HICovfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRWaWV3ID09PSAnc2hvcHBpbmcnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtZmFkZS1pblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInNob3BwaW5nLWNhcnRcIiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDosrfjgYTnianjg6Hjg6JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgbXQtMVwiPuW/heimgeOBquOCguOBruOCkuODoeODouOBl+OBpuOBiuOBjeOBvuOBl+OCh+OBhjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG9wcGluZ0l0ZW1zLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTIwIG9wYWNpdHktNDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cImNsaXBib2FyZC1saXN0XCIgc2l6ZT17NDh9IGNsYXNzTmFtZT1cIm14LWF1dG8gbWItNCB0ZXh0LWdyYXktNDAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwXCI+6LK344GG44KC44Gu44Gv44GC44KK44G+44Gb44KTPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTIgdGV4dC1ncmF5LTQwMFwiPu+8i+ODnOOCv+ODs+OBp+ODoeODouOCkui/veWKoDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcHBpbmdJdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNob3BwaW5nSXRlbSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXQ9eygpID0+IG9wZW5FZGl0TW9kYWwoaXRlbSwgdHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZT17KCkgPT4gaGFuZGxlRGVsZXRlSXRlbShpdGVtLmlkLCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW92ZT17KCkgPT4gb3Blbk1vdmVNb2RhbChpdGVtKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogRm9vdGVyIFNlY3JldCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTIgbWItOCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVGb290ZXJUYXB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtZ3JheS0zMDAgZm9udC1tZWRpdW0gdHJhY2tpbmctd2lkZXN0IHVwcGVyY2FzZSBjdXJzb3ItcG9pbnRlciBzZWxlY3Qtbm9uZSBhY3RpdmU6dGV4dC1ncmF5LTQwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb3ZlIGZvb2QsIGhhdGUgd2FzdGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbWFpbj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogSW50ZWdyYXRlZCBGbG9hdGluZyBOYXZpZ2F0aW9uICYgQWRkIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tOCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiB6LTQwIHctYXV0byBtYXgtdy1bOTV2d11cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtZmxvYXQgcHgtMS41IHB5LTEuNSByb3VuZGVkLWZ1bGwgc2hhZG93LTJ4bCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTdG9jayBUYWIgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFZpZXcoJ3N0b2NrJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMjggaC0xMiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIHRhcC1oaWdobGlnaHQtdHJhbnNwYXJlbnQgZ2FwLTIgJHtjdXJyZW50VmlldyA9PT0gJ3N0b2NrJyA/ICdiZy13aGl0ZSB0ZXh0LWdyYXktOTAwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgc2hhZG93LXNtJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwicmVmcmlnZXJhdG9yXCIgc2l6ZT17MjB9IHN0cm9rZVdpZHRoPXtjdXJyZW50VmlldyA9PT0gJ3N0b2NrJyA/IDIuNSA6IDJ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBNb2RpZmllZDogQ2hhbmdlZCBsYWJlbCB0byBcIumjn+adkOODquOCueODiFwiICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtYm9sZFwiPumjn+adkOODquOCueODiDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBBZGQgQnV0dG9uIChDZW50ZXIpICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29wZW5BZGRNb2RhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy0xMiBoLTEyIG14LTIgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgc2hhZG93LWxnIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaG92ZXI6c2NhbGUtMTA1IGFjdGl2ZTpzY2FsZS05NSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgdGFwLWhpZ2hsaWdodC10cmFuc3BhcmVudCAke2N1cnJlbnRWaWV3ID09PSAnc2hvcHBpbmcnID8gJ2JnLWJsdWUtNjAwJyA6ICdiZy1ibGFjayd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIui/veWKoFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwicGx1c1wiIHNpemU9ezI0fSBzdHJva2VXaWR0aD17M30gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG9wcGluZyBUYWIgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFZpZXcoJ3Nob3BwaW5nJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMjggaC0xMiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIHRhcC1oaWdobGlnaHQtdHJhbnNwYXJlbnQgZ2FwLTIgJHtjdXJyZW50VmlldyA9PT0gJ3Nob3BwaW5nJyA/ICdiZy13aGl0ZSB0ZXh0LWJsdWUtNjAwIGJvcmRlciBib3JkZXItYmx1ZS0xMDAgc2hhZG93LXNtJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwic2hvcHBpbmctY2FydFwiIHNpemU9ezIwfSBzdHJva2VXaWR0aD17Y3VycmVudFZpZXcgPT09ICdzaG9wcGluZycgPyAyLjUgOiAyfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtYm9sZFwiPuiyt+OBhOeJqTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBNb2RhbCAoU2hhcmVkIGZvciBTdG9jayBBZGQvRWRpdCwgU2hvcHBpbmcgQWRkL0VkaXQsIE1vdmUpICovfVxuICAgICAgICAgICAgICAgICAgICB7bW9kYWxNb2RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay8yMCBiYWNrZHJvcC1ibHVyLXNtIHRyYW5zaXRpb24tb3BhY2l0eVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Nsb3NlTW9kYWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgdy1mdWxsIG1heC13LW1kIHJvdW5kZWQtWzJyZW1dIHAtNiBzaGFkb3ctMnhsIGFuaW1hdGUtc2xpZGUtdXAgcmVsYXRpdmUgei0xMCBtLTQgcGItNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ2xvc2UgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2xvc2VNb2RhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC02IHJpZ2h0LTYgdGV4dC1ncmF5LTQwMCBob3Zlci1idG4tY2xvc2UgYmctZ3JheS0xMDAgcC0yIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJ4XCIgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEgYmctZ3JheS0yMDAgcm91bmRlZC1mdWxsIG14LWF1dG8gbWItNlwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwci04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kYWxNb2RlID09PSAnbW92ZUZyb21TaG9wcGluZycgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cImFycm93LXJpZ2h0LWNpcmNsZVwiIHNpemU9ezIwfSBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg6aOf5p2Q44Oq44K544OI44G456e75YuVIHsvKiBNb2RpZmllZDogV29yZGluZyBjaGFuZ2UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbW9kYWxNb2RlLmluY2x1ZGVzKCdTaG9wcGluZycpID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJzaG9wcGluZy1jYXJ0XCIgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb2RhbE1vZGUgPT09ICdhZGRTaG9wcGluZycgPyAn44Oh44Oi44KS6L+95YqgJyA6ICfjg6Hjg6LjgpLnt6jpm4YnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPXttb2RhbE1vZGUgPT09ICdhZGQnID8gXCJzaG9wcGluZy1iYWdcIiA6IFwiZWRpdC0zXCJ9IHNpemU9ezIwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kYWxNb2RlID09PSAnYWRkJyA/ICfpo5/mnZDjgpLov73liqAnIDogJ+aDheWgseOCkue3qOmbhid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogTmFtZSBJbnB1dCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS00MDAgbWItMiB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPuWQjeWJjTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLkvovvvJrniZvkubPjgIHosYbohZAuLi5cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxnIGZvbnQtbWVkaXVtIGJvcmRlci1iLTIgYm9yZGVyLWdyYXktMTAwIHB5LTIgcHItMTAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1ibGFjayBiZy10cmFuc3BhcmVudCBwbGFjZWhvbGRlci1ncmF5LTMwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXROYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0ZvY3VzPXttb2RhbE1vZGUgPT09ICdhZGQnIHx8IG1vZGFsTW9kZSA9PT0gJ2FkZFNob3BwaW5nJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVZvaWNlSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSByaWdodC0wIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBwLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsICR7aXNMaXN0ZW5pbmcgPyAndGV4dC1yb3NlLTUwMCBiZy1yb3NlLTUwIGFuaW1hdGUtcHVsc2Ugc2NhbGUtMTEwJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0xMDAnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIumfs+WjsOWFpeWKm1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJtaWNcIiBzaXplPXsyMH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIExhYmVsIElucHV0ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyBmb250LWJvbGQgdGV4dC1ncmF5LTQwMCBtYi0yIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOODqeODmeODqyA8c3BhbiBjbGFzc05hbWU9XCJmb250LW5vcm1hbCB0ZXh0LWdyYXktMzAwIG1sLTFcIj4o5Lu75oSPKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInRhZ1wiIHNpemU9ezE2fSBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTAgdG9wLTMgdGV4dC1ncmF5LTMwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuS+i++8muWGt+WHjeOAgemWi+Wwgea4iOOAgeaui+OCiuWNiuWIhi4uLlwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtYmFzZSBmb250LW1lZGl1bSBib3JkZXItYi0yIGJvcmRlci1ncmF5LTEwMCBweS0yIHBsLTYgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1ibGFjayBiZy10cmFuc3BhcmVudCBwbGFjZWhvbGRlci1ncmF5LTMwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXRMYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXRMYWJlbChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIERhdGUgSW5wdXQgKE9ubHkgZm9yIFN0b2NrIHJlbGF0ZWQgbW9kZXMpICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyghbW9kYWxNb2RlLmluY2x1ZGVzKCdTaG9wcGluZycpIHx8IG1vZGFsTW9kZSA9PT0gJ21vdmVGcm9tU2hvcHBpbmcnKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLWZhZGUtaW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS00MDAgbWItMiB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPuacn+mZkDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCB0ZXh0LWxnIGZvbnQtbWVkaXVtIGJnLWdyYXktNTAgcm91bmRlZC14bCBwbC00IHByLTIgcHktMyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmxhY2svNSAkeyFpbnB1dERhdGUgPyAndGV4dC10cmFuc3BhcmVudCcgOiAndGV4dC1ncmF5LTgwMCd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXREYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXREYXRlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ3VzdG9tIFBsYWNlaG9sZGVyICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFpbnB1dERhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtNCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTMwMCBwb2ludGVyLWV2ZW50cy1ub25lIHRleHQtYmFzZSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlubQgLyDmnIggLyDml6VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMyBtdC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZUl0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaW5wdXROYW1lIHx8ICgoIW1vZGFsTW9kZS5pbmNsdWRlcygnU2hvcHBpbmcnKSB8fCBtb2RhbE1vZGUgPT09ICdtb3ZlRnJvbVNob3BwaW5nJykgJiYgIWlucHV0RGF0ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ibGFjayB0ZXh0LXdoaXRlIGZvbnQtYm9sZCB0ZXh0LWJhc2UgcHktNCByb3VuZGVkLXhsIHNoYWRvdy1sZyBzaGFkb3ctYmxhY2svMjAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpzaGFkb3ctbm9uZSBhY3RpdmU6c2NhbGUtWzAuOThdIHRyYW5zaXRpb24tYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb2RhbE1vZGUgPT09ICdtb3ZlRnJvbVNob3BwaW5nJyA/ICfpo5/mnZDjg6rjgrnjg4jjgbjnp7vli5UnIDogJ+S/neWtmOOBmeOCiyd9IHsvKiBNb2RpZmllZDogV29yZGluZyBjaGFuZ2UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICB7LyogVG9hc3QgKi99XG4gICAgICAgICAgICAgICAgICAgIHt0b2FzdC5tZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFic29sdXRlIGluc2V0LTAgYmctYmxhY2svNSBiYWNrZHJvcC1ibHVyLVsxcHhdIHRyYW5zaXRpb24tb3BhY2l0eSAke3RvYXN0LmlzRXhpdGluZyA/ICdhbmltYXRlLWZhZGUtb3V0JyA6ICdhbmltYXRlLWZhZGUtaW4nfWB9PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgYmctd2hpdGUvOTUgYmFja2Ryb3AtYmx1ci14bCBweC02IHB5LTUgcm91bmRlZC1bMnJlbV0gc2hhZG93LTJ4bCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBnYXAtNCBwb2ludGVyLWV2ZW50cy1hdXRvIG1heC13LVs4NSVdIHRleHQtY2VudGVyIGJvcmRlciBib3JkZXItd2hpdGUvNTAgJHt0b2FzdC5pc0V4aXRpbmcgPyAnYW5pbWF0ZS1mYWRlLW91dCcgOiAnYW5pbWF0ZS1wb3AtaW4nfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgYmctZW1lcmFsZC01MCByb3VuZGVkLWZ1bGwgdGV4dC1lbWVyYWxkLTUwMCBzaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9e3RvYXN0LnR5cGUgPT09IFwic3VjY2Vzc1wiID8gXCJjaGVja1wiIDogXCJpbmZvXCJ9IHNpemU9ezI0fSBzdHJva2VXaWR0aD17M30gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTgwMCBmb250LWJvbGQgdGV4dC1iYXNlIGxlYWRpbmctc251Z1wiPnt0b2FzdC5tZXNzYWdlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG9hc3QuYWN0aW9ucyAmJiB0b2FzdC5hY3Rpb25zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zIHctZnVsbCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RvYXN0LmFjdGlvbnMubWFwKChhY3Rpb24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YWN0aW9uLmhhbmRsZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4LTEgcHktMi41IHB4LTQgcm91bmRlZC14bCB0ZXh0LXNtIGZvbnQtYm9sZCB0cmFuc2l0aW9uLWFsbCBhY3RpdmU6c2NhbGUtOTVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2FjdGlvbi5zdHlsZSA9PT0gJ3ByaW1hcnknIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHNoYWRvdy1sZyBzaGFkb3ctYmx1ZS0yMDAgaG92ZXI6YmctYmx1ZS03MDAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNTAwIGhvdmVyOmJnLWdyYXktMjAwIGhvdmVyOnRleHQtZ3JheS03MDAnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FjdGlvbi5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ2xvc2UgVGV4dCBCdXR0b24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0b2FzdC5zaG93Q2xvc2VUZXh0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VG9hc3QoeyBtZXNzYWdlOiBudWxsLCBhY3Rpb25zOiBbXSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTYwMCBweS0yIHB4LTQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOmWieOBmOOCi1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgRm9vZEl0ZW0gPSAoeyBpdGVtLCBvbkNvbnN1bWUsIG9uRWRpdCB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXlzID0gZ2V0RGF5c0RpZmYoaXRlbS5kYXRlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGdldFVyZ2VuY3lTdGF0dXMoZGF5cyk7XG4gICAgICAgICAgICBjb25zdCBbaXNFeGl0aW5nLCBzZXRJc0V4aXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVDb21wbGV0ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBzZXRJc0V4aXRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBvbkNvbnN1bWUoaXRlbS5pZCksIDMwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgZ3JvdXAgJHtpc0V4aXRpbmcgPyAnYW5pbWF0ZS1zd2lwZS1vdXQnIDogJ2FuaW1hdGUtZmFkZS1pbid9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkVkaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnbGFzcy1jYXJkIHJvdW5kZWQteGwgcC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBzaGFkb3ctc20gdHJhbnNpdGlvbi10cmFuc2Zvcm0gYWN0aXZlOnNjYWxlLVswLjk5XSBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTEuNSBoLTEyIHJvdW5kZWQtZnVsbCAke3N0YXR1cy5jb2xvcn1gfT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIHRleHQtbGcgbGVhZGluZy10aWdodFwiPntpdGVtLm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmxhYmVsICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGJnLWdyYXktMTAwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcHgtMiBweS0wLjUgcm91bmRlZC1mdWxsIHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQteHMgZm9udC1ib2xkIHB4LTIgcHktMC41IHJvdW5kZWQtbWQgJHtzdGF0dXMuYmd9ICR7c3RhdHVzLnRleHR9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0YXR1cy5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBmb250LW1lZGl1bSB0cmFja2luZy13aWRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdERhdGUoaXRlbS5kYXRlKX3jgb7jgadcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29tcGxldGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTEwMCBmbGV4LXNocmluay0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS00MDAgaG92ZXItYnRuLWVtZXJhbGQgYWN0aXZlOmJnLWVtZXJhbGQtNTAwIGFjdGl2ZTp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tYWxsIHRhcC1oaWdobGlnaHQtdHJhbnNwYXJlbnQgei0xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIumjn+OBueOBjeOBo+OBn1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cImNoZWNrXCIgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IFNob3BwaW5nSXRlbSA9ICh7IGl0ZW0sIG9uRWRpdCwgb25EZWxldGUsIG9uTW92ZSB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtY2FyZCByb3VuZGVkLXhsIHAtNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gc2hhZG93LXNtIGFuaW1hdGUtZmFkZS1pbiBjdXJzb3ItcG9pbnRlciBhY3RpdmU6c2NhbGUtWzAuOTldIHRyYW5zaXRpb24tdHJhbnNmb3JtXCIgb25DbGljaz17b25FZGl0fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yIGJnLWdyYXktMTAwIHJvdW5kZWQtbGcgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwic2hvcHBpbmctYmFnXCIgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1ncmF5LTgwMCB0ZXh0LWxnXCI+e2l0ZW0ubmFtZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5sYWJlbCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGJnLWdyYXktMTAwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcHgtMiBweS0wLjUgcm91bmRlZC1mdWxsIHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBvbk1vdmUoKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWJsdWUtNTAgdGV4dC1ibHVlLTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBob3Zlci1idG4tYmx1ZSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIumjn+adkOODquOCueODiOOBuOenu+WLlVwiIC8vIE1vZGlmaWVkOiBXb3JkaW5nIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJhcnJvdy1yaWdodFwiIHNpemU9ezIwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IG9uRGVsZXRlKCk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTUwIHRleHQtZ3JheS00MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaG92ZXItYnRuLXJvc2UgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCLliYrpmaRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJ0cmFzaC0yXCIgc2l6ZT17MTh9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpO1xuICAgICAgICByb290LnJlbmRlcig8QXBwIC8+KTtcbiAgICAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNRLElBQUFBLE1BQUEsR0FBeUNDLEtBQUs7RUFBdENDLFFBQVEsR0FBQUYsTUFBQSxDQUFSRSxRQUFRO0VBQUVDLFNBQVMsR0FBQUgsTUFBQSxDQUFURyxTQUFTO0VBQUVDLE9BQU8sR0FBQUosTUFBQSxDQUFQSSxPQUFPO0FBRXBDLElBQU1DLElBQUksR0FBRyxTQUFQQSxJQUFJQSxDQUFBQyxJQUFBLEVBQTRDO0VBQUEsSUFBdENDLElBQUksR0FBQUQsSUFBQSxDQUFKQyxJQUFJO0lBQUFDLFNBQUEsR0FBQUYsSUFBQSxDQUFFRyxJQUFJO0lBQUpBLElBQUksR0FBQUQsU0FBQSxjQUFHLEVBQUUsR0FBQUEsU0FBQTtJQUFBRSxjQUFBLEdBQUFKLElBQUEsQ0FBRUssU0FBUztJQUFUQSxTQUFTLEdBQUFELGNBQUEsY0FBRyxFQUFFLEdBQUFBLGNBQUE7RUFDM0NQLFNBQVMsQ0FBQyxZQUFNO0lBQ1osSUFBSVMsTUFBTSxDQUFDQyxNQUFNLEVBQUVELE1BQU0sQ0FBQ0MsTUFBTSxDQUFDQyxXQUFXLENBQUMsQ0FBQztFQUNsRCxDQUFDLEVBQUUsQ0FBQ1AsSUFBSSxDQUFDLENBQUM7RUFDVixvQkFBT04sS0FBQSxDQUFBYyxhQUFBO0lBQUcsZUFBYVIsSUFBSztJQUFDUyxLQUFLLEVBQUVQLElBQUs7SUFBQ1EsTUFBTSxFQUFFUixJQUFLO0lBQUNFLFNBQVMsRUFBRUE7RUFBVSxDQUFJLENBQUM7QUFDdEYsQ0FBQztBQUVELElBQU1PLFdBQVcsR0FBRyxTQUFkQSxXQUFXQSxDQUFJQyxVQUFVLEVBQUs7RUFDaEMsSUFBTUMsS0FBSyxHQUFHLElBQUlDLElBQUksQ0FBQyxDQUFDO0VBQ3hCRCxLQUFLLENBQUNFLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7RUFDMUIsSUFBTUMsTUFBTSxHQUFHLElBQUlGLElBQUksQ0FBQ0YsVUFBVSxDQUFDO0VBQ25DSSxNQUFNLENBQUNELFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7RUFDM0IsSUFBTUUsUUFBUSxHQUFHRCxNQUFNLEdBQUdILEtBQUs7RUFDL0IsT0FBT0ssSUFBSSxDQUFDQyxJQUFJLENBQUNGLFFBQVEsSUFBSSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUN0RCxDQUFDO0FBRUQsSUFBTUcsVUFBVSxHQUFHLFNBQWJBLFVBQVVBLENBQUlDLE9BQU8sRUFBSztFQUM1QixJQUFJLENBQUNBLE9BQU8sRUFBRSxPQUFPLEVBQUU7RUFDdkIsSUFBTUMsSUFBSSxHQUFHLElBQUlSLElBQUksQ0FBQ08sT0FBTyxDQUFDO0VBQzlCLFVBQUFFLE1BQUEsQ0FBVUQsSUFBSSxDQUFDRSxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBQUQsTUFBQSxDQUFJRCxJQUFJLENBQUNHLE9BQU8sQ0FBQyxDQUFDO0FBQ25ELENBQUM7QUFFRCxJQUFNQyxjQUFjLEdBQUcsU0FBakJBLGNBQWNBLENBQUEsRUFBUztFQUN6QixJQUFNQyxHQUFHLEdBQUcsSUFBSWIsSUFBSSxDQUFDLENBQUM7RUFDdEIsSUFBTWMsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0VBQ2hELFVBQUFMLE1BQUEsQ0FBVUksR0FBRyxDQUFDSCxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBQUQsTUFBQSxDQUFJSSxHQUFHLENBQUNGLE9BQU8sQ0FBQyxDQUFDLGNBQUFGLE1BQUEsQ0FBTUssSUFBSSxDQUFDRCxHQUFHLENBQUNFLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDekUsQ0FBQztBQUVELElBQU1DLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBZ0JBLENBQUlGLElBQUksRUFBSztFQUMvQixJQUFJQSxJQUFJLEdBQUcsQ0FBQyxFQUFFLE9BQU87SUFBRUcsS0FBSyxFQUFFLGFBQWE7SUFBRUMsSUFBSSxFQUFFLGVBQWU7SUFBRUMsRUFBRSxFQUFFLFlBQVk7SUFBRUMsS0FBSyxFQUFFO0VBQU8sQ0FBQztFQUNyRyxJQUFJTixJQUFJLEtBQUssQ0FBQyxFQUFFLE9BQU87SUFBRUcsS0FBSyxFQUFFLGVBQWU7SUFBRUMsSUFBSSxFQUFFLGlCQUFpQjtJQUFFQyxFQUFFLEVBQUUsY0FBYztJQUFFQyxLQUFLLEVBQUU7RUFBTyxDQUFDO0VBQzdHLElBQUlOLElBQUksSUFBSSxDQUFDLEVBQUUsT0FBTztJQUFFRyxLQUFLLEVBQUUsY0FBYztJQUFFQyxJQUFJLEVBQUUsZ0JBQWdCO0lBQUVDLEVBQUUsRUFBRSxhQUFhO0lBQUVDLEtBQUssRUFBRSxJQUFJLEdBQUdOLElBQUksR0FBRztFQUFJLENBQUM7RUFDcEgsSUFBSUEsSUFBSSxJQUFJLENBQUMsRUFBRSxPQUFPO0lBQUVHLEtBQUssRUFBRSxlQUFlO0lBQUVDLElBQUksRUFBRSxpQkFBaUI7SUFBRUMsRUFBRSxFQUFFLGNBQWM7SUFBRUMsS0FBSyxFQUFFLElBQUksR0FBR04sSUFBSSxHQUFHO0VBQUksQ0FBQztFQUN2SCxPQUFPO0lBQUVHLEtBQUssRUFBRSxnQkFBZ0I7SUFBRUMsSUFBSSxFQUFFLGtCQUFrQjtJQUFFQyxFQUFFLEVBQUUsZUFBZTtJQUFFQyxLQUFLLEVBQUUsSUFBSSxHQUFHTixJQUFJLEdBQUc7RUFBSSxDQUFDO0FBQy9HLENBQUM7QUFFRCxJQUFNTyxZQUFZLEdBQUcsQ0FDakIsV0FBVyxFQUNYLGNBQWMsRUFDZCxjQUFjLEVBQ2QsWUFBWSxFQUNaLFlBQVksQ0FDZjtBQUVELElBQU1DLGdCQUFnQixHQUFHLENBQ3JCLGNBQWMsRUFDZCxhQUFhLEVBQ2IsZ0JBQWdCLEVBQ2hCLGVBQWUsRUFDZixlQUFlLENBQ2xCO0FBRUQsSUFBTUMsaUJBQWlCLEdBQUcsQ0FDdEIsZ0JBQWdCLEVBQ2hCLFdBQVcsRUFDWCxlQUFlLENBQ2xCO0FBRUQsSUFBTUMsR0FBRyxHQUFHLFNBQU5BLEdBQUdBLENBQUEsRUFBUztFQUNkO0VBQ0EsSUFBQUMsU0FBQSxHQUFzQzVDLFFBQVEsQ0FBQyxPQUFPLENBQUM7SUFBQTZDLFVBQUEsR0FBQUMsY0FBQSxDQUFBRixTQUFBO0lBQWhERyxXQUFXLEdBQUFGLFVBQUE7SUFBRUcsY0FBYyxHQUFBSCxVQUFBOztFQUVsQztFQUNBLElBQUFJLFVBQUEsR0FBMEJqRCxRQUFRLENBQUMsWUFBTTtNQUNyQyxJQUFNa0QsS0FBSyxHQUFHQyxZQUFZLENBQUNDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztNQUN2RCxPQUFPRixLQUFLLEdBQUdHLElBQUksQ0FBQ0MsS0FBSyxDQUFDSixLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUMzQyxDQUFDLENBQUM7SUFBQUssVUFBQSxHQUFBVCxjQUFBLENBQUFHLFVBQUE7SUFIS08sS0FBSyxHQUFBRCxVQUFBO0lBQUVFLFFBQVEsR0FBQUYsVUFBQTs7RUFLdEI7RUFDQSxJQUFBRyxVQUFBLEdBQTBDMUQsUUFBUSxDQUFDLFlBQU07TUFDckQsSUFBTWtELEtBQUssR0FBR0MsWUFBWSxDQUFDQyxPQUFPLENBQUMsc0JBQXNCLENBQUM7TUFDMUQsT0FBT0YsS0FBSyxHQUFHRyxJQUFJLENBQUNDLEtBQUssQ0FBQ0osS0FBSyxDQUFDLEdBQUcsRUFBRTtJQUN6QyxDQUFDLENBQUM7SUFBQVMsVUFBQSxHQUFBYixjQUFBLENBQUFZLFVBQUE7SUFIS0UsYUFBYSxHQUFBRCxVQUFBO0lBQUVFLGdCQUFnQixHQUFBRixVQUFBOztFQUt0QztFQUNBLElBQUFHLFVBQUEsR0FBa0M5RCxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQUErRCxVQUFBLEdBQUFqQixjQUFBLENBQUFnQixVQUFBO0lBQXpDRSxTQUFTLEdBQUFELFVBQUE7SUFBRUUsWUFBWSxHQUFBRixVQUFBO0VBQzlCLElBQUFHLFVBQUEsR0FBc0NsRSxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQUFtRSxVQUFBLEdBQUFyQixjQUFBLENBQUFvQixVQUFBO0lBQTdDRSxXQUFXLEdBQUFELFVBQUE7SUFBRUUsY0FBYyxHQUFBRixVQUFBO0VBRWxDLElBQUFHLFVBQUEsR0FBa0N0RSxRQUFRLENBQUMsRUFBRSxDQUFDO0lBQUF1RSxXQUFBLEdBQUF6QixjQUFBLENBQUF3QixVQUFBO0lBQXZDRSxTQUFTLEdBQUFELFdBQUE7SUFBRUUsWUFBWSxHQUFBRixXQUFBO0VBQzlCLElBQUFHLFdBQUEsR0FBb0MxRSxRQUFRLENBQUMsRUFBRSxDQUFDO0lBQUEyRSxXQUFBLEdBQUE3QixjQUFBLENBQUE0QixXQUFBO0lBQXpDRSxVQUFVLEdBQUFELFdBQUE7SUFBRUUsYUFBYSxHQUFBRixXQUFBO0VBQ2hDLElBQUFHLFdBQUEsR0FBa0M5RSxRQUFRLENBQUMsRUFBRSxDQUFDO0lBQUErRSxXQUFBLEdBQUFqQyxjQUFBLENBQUFnQyxXQUFBO0lBQXZDRSxTQUFTLEdBQUFELFdBQUE7SUFBRUUsWUFBWSxHQUFBRixXQUFBO0VBRTlCLElBQUFHLFdBQUEsR0FBNEJsRixRQUFRLENBQUMsS0FBSyxDQUFDO0lBQUFtRixXQUFBLEdBQUFyQyxjQUFBLENBQUFvQyxXQUFBO0lBQXBDRSxNQUFNLEdBQUFELFdBQUE7SUFBRUUsU0FBUyxHQUFBRixXQUFBO0VBQ3hCLElBQUFHLFdBQUEsR0FBMEJ0RixRQUFRLENBQUM7TUFBRXVGLE9BQU8sRUFBRSxJQUFJO01BQUVDLE9BQU8sRUFBRTtJQUFHLENBQUMsQ0FBQztJQUFBQyxXQUFBLEdBQUEzQyxjQUFBLENBQUF3QyxXQUFBO0lBQTNESSxLQUFLLEdBQUFELFdBQUE7SUFBRUUsUUFBUSxHQUFBRixXQUFBO0VBQ3RCLElBQUFHLFdBQUEsR0FBNEM1RixRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQUE2RixXQUFBLEdBQUEvQyxjQUFBLENBQUE4QyxXQUFBO0lBQWhERSxjQUFjLEdBQUFELFdBQUE7SUFBRUUsaUJBQWlCLEdBQUFGLFdBQUE7O0VBRXhDO0VBQ0EsSUFBQUcsV0FBQSxHQUFzQ2hHLFFBQVEsQ0FBQyxLQUFLLENBQUM7SUFBQWlHLFdBQUEsR0FBQW5ELGNBQUEsQ0FBQWtELFdBQUE7SUFBOUNFLFdBQVcsR0FBQUQsV0FBQTtJQUFFRSxjQUFjLEdBQUFGLFdBQUE7O0VBRWxDO0VBQ0FoRyxTQUFTLENBQUMsWUFBTTtJQUNaa0QsWUFBWSxDQUFDaUQsT0FBTyxDQUFDLG1CQUFtQixFQUFFL0MsSUFBSSxDQUFDZ0QsU0FBUyxDQUFDN0MsS0FBSyxDQUFDLENBQUM7SUFDaEUsSUFBSTlDLE1BQU0sQ0FBQ0MsTUFBTSxFQUFFRCxNQUFNLENBQUNDLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDLENBQUM7RUFDbEQsQ0FBQyxFQUFFLENBQUM0QyxLQUFLLENBQUMsQ0FBQztFQUVYdkQsU0FBUyxDQUFDLFlBQU07SUFDWmtELFlBQVksQ0FBQ2lELE9BQU8sQ0FBQyxzQkFBc0IsRUFBRS9DLElBQUksQ0FBQ2dELFNBQVMsQ0FBQ3pDLGFBQWEsQ0FBQyxDQUFDO0lBQzNFLElBQUlsRCxNQUFNLENBQUNDLE1BQU0sRUFBRUQsTUFBTSxDQUFDQyxNQUFNLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0VBQ2xELENBQUMsRUFBRSxDQUFDZ0QsYUFBYSxDQUFDLENBQUM7O0VBRW5CO0VBQ0EsSUFBTTBDLFlBQVksR0FBRyxTQUFmQSxZQUFZQSxDQUFBLEVBQVM7SUFDdkJqQyxjQUFjLENBQUMsSUFBSSxDQUFDO0lBQ3BCSSxZQUFZLENBQUMsRUFBRSxDQUFDO0lBQ2hCSSxhQUFhLENBQUMsRUFBRSxDQUFDO0lBRWpCLElBQUk5QixXQUFXLEtBQUssT0FBTyxFQUFFO01BQ3pCa0IsWUFBWSxDQUFDLEtBQUssQ0FBQztNQUNuQmdCLFlBQVksQ0FBQyxFQUFFLENBQUM7SUFDcEIsQ0FBQyxNQUFNO01BQ0hoQixZQUFZLENBQUMsYUFBYSxDQUFDO0lBQy9CO0VBQ0osQ0FBQztFQUVELElBQU1zQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUlDLElBQUksRUFBeUI7SUFBQSxJQUF2QkMsVUFBVSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxLQUFLO0lBQzNDckMsY0FBYyxDQUFDbUMsSUFBSSxDQUFDO0lBQ3BCL0IsWUFBWSxDQUFDK0IsSUFBSSxDQUFDbkcsSUFBSSxDQUFDO0lBQ3ZCd0UsYUFBYSxDQUFDMkIsSUFBSSxDQUFDakUsS0FBSyxJQUFJLEVBQUUsQ0FBQztJQUUvQixJQUFJa0UsVUFBVSxFQUFFO01BQ1p4QyxZQUFZLENBQUMsY0FBYyxDQUFDO0lBQ2hDLENBQUMsTUFBTTtNQUNIQSxZQUFZLENBQUMsTUFBTSxDQUFDO01BQ3BCZ0IsWUFBWSxDQUFDdUIsSUFBSSxDQUFDN0UsSUFBSSxDQUFDO0lBQzNCO0VBQ0osQ0FBQztFQUVELElBQU1rRixhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUlMLElBQUksRUFBSztJQUM1Qm5DLGNBQWMsQ0FBQ21DLElBQUksQ0FBQztJQUNwQi9CLFlBQVksQ0FBQytCLElBQUksQ0FBQ25HLElBQUksQ0FBQztJQUN2QndFLGFBQWEsQ0FBQzJCLElBQUksQ0FBQ2pFLEtBQUssSUFBSSxFQUFFLENBQUM7O0lBRS9CO0lBQ0EwQyxZQUFZLENBQUMsRUFBRSxDQUFDO0lBRWhCaEIsWUFBWSxDQUFDLGtCQUFrQixDQUFDO0VBQ3BDLENBQUM7RUFFRCxJQUFNNkMsY0FBYyxHQUFHLFNBQWpCQSxjQUFjQSxDQUFBLEVBQVM7SUFDekIsSUFBSSxDQUFDdEMsU0FBUyxFQUFFO0lBRWhCLElBQUksQ0FBQ1IsU0FBUyxLQUFLLEtBQUssSUFBSUEsU0FBUyxLQUFLLE1BQU0sSUFBSUEsU0FBUyxLQUFLLGtCQUFrQixLQUFLLENBQUNnQixTQUFTLEVBQUU7SUFFckcsSUFBSWhCLFNBQVMsS0FBSyxLQUFLLEVBQUU7TUFDckIsSUFBTStDLE9BQU8sR0FBRztRQUFFQyxFQUFFLEVBQUU3RixJQUFJLENBQUNhLEdBQUcsQ0FBQyxDQUFDO1FBQUUzQixJQUFJLEVBQUVtRSxTQUFTO1FBQUVqQyxLQUFLLEVBQUVxQyxVQUFVO1FBQUVqRCxJQUFJLEVBQUVxRDtNQUFVLENBQUM7TUFDdkZ2QixRQUFRLElBQUE3QixNQUFBLENBQUFxRixrQkFBQSxDQUFLekQsS0FBSyxJQUFFdUQsT0FBTyxFQUFDLENBQUM7TUFDN0JHLFNBQVMsQ0FBQyxXQUFXLENBQUM7TUFDdEI7TUFDQXhHLE1BQU0sQ0FBQ3lHLFFBQVEsQ0FBQztRQUFFQyxHQUFHLEVBQUUsQ0FBQztRQUFFQyxRQUFRLEVBQUU7TUFBUyxDQUFDLENBQUM7SUFFbkQsQ0FBQyxNQUFNLElBQUlyRCxTQUFTLEtBQUssTUFBTSxJQUFJSSxXQUFXLEVBQUU7TUFDNUMsSUFBTWtELFlBQVksR0FBRzlELEtBQUssQ0FBQytELEdBQUcsQ0FBQyxVQUFBZixJQUFJO1FBQUEsT0FBSUEsSUFBSSxDQUFDUSxFQUFFLEtBQUs1QyxXQUFXLENBQUM0QyxFQUFFLEdBQUFRLGFBQUEsQ0FBQUEsYUFBQSxLQUFRaEIsSUFBSTtVQUFFbkcsSUFBSSxFQUFFbUUsU0FBUztVQUFFakMsS0FBSyxFQUFFcUMsVUFBVTtVQUFFakQsSUFBSSxFQUFFcUQ7UUFBUyxLQUFLd0IsSUFBSTtNQUFBLEVBQUM7TUFDNUkvQyxRQUFRLENBQUM2RCxZQUFZLENBQUM7TUFDdEJKLFNBQVMsQ0FBQyxXQUFXLENBQUM7SUFFMUIsQ0FBQyxNQUFNLElBQUlsRCxTQUFTLEtBQUssYUFBYSxFQUFFO01BQ3BDLElBQU0rQyxRQUFPLEdBQUc7UUFBRUMsRUFBRSxFQUFFN0YsSUFBSSxDQUFDYSxHQUFHLENBQUMsQ0FBQztRQUFFM0IsSUFBSSxFQUFFbUUsU0FBUztRQUFFakMsS0FBSyxFQUFFcUM7TUFBVyxDQUFDO01BQ3RFZixnQkFBZ0IsSUFBQWpDLE1BQUEsQ0FBQXFGLGtCQUFBLENBQUtyRCxhQUFhLElBQUVtRCxRQUFPLEVBQUMsQ0FBQztNQUM3Q0csU0FBUyxDQUFDLGNBQWMsQ0FBQztJQUU3QixDQUFDLE1BQU0sSUFBSWxELFNBQVMsS0FBSyxjQUFjLElBQUlJLFdBQVcsRUFBRTtNQUNwRCxJQUFNa0QsYUFBWSxHQUFHMUQsYUFBYSxDQUFDMkQsR0FBRyxDQUFDLFVBQUFmLElBQUk7UUFBQSxPQUFJQSxJQUFJLENBQUNRLEVBQUUsS0FBSzVDLFdBQVcsQ0FBQzRDLEVBQUUsR0FBQVEsYUFBQSxDQUFBQSxhQUFBLEtBQVFoQixJQUFJO1VBQUVuRyxJQUFJLEVBQUVtRSxTQUFTO1VBQUVqQyxLQUFLLEVBQUVxQztRQUFVLEtBQUs0QixJQUFJO01BQUEsRUFBQztNQUNuSTNDLGdCQUFnQixDQUFDeUQsYUFBWSxDQUFDO01BQzlCSixTQUFTLENBQUMsV0FBVyxDQUFDO0lBRTFCLENBQUMsTUFBTSxJQUFJbEQsU0FBUyxLQUFLLGtCQUFrQixJQUFJSSxXQUFXLEVBQUU7TUFDeEQsSUFBTTJDLFNBQU8sR0FBRztRQUFFQyxFQUFFLEVBQUU3RixJQUFJLENBQUNhLEdBQUcsQ0FBQyxDQUFDO1FBQUUzQixJQUFJLEVBQUVtRSxTQUFTO1FBQUVqQyxLQUFLLEVBQUVxQyxVQUFVO1FBQUVqRCxJQUFJLEVBQUVxRDtNQUFVLENBQUM7TUFDdkZ2QixRQUFRLElBQUE3QixNQUFBLENBQUFxRixrQkFBQSxDQUFLekQsS0FBSyxJQUFFdUQsU0FBTyxFQUFDLENBQUM7TUFDN0JsRCxnQkFBZ0IsQ0FBQ0QsYUFBYSxDQUFDd0IsTUFBTSxDQUFDLFVBQUFxQyxDQUFDO1FBQUEsT0FBSUEsQ0FBQyxDQUFDVCxFQUFFLEtBQUs1QyxXQUFXLENBQUM0QyxFQUFFO01BQUEsRUFBQyxDQUFDO01BQ3BFRSxTQUFTLENBQUMsaUJBQWlCLENBQUM7TUFDNUI7TUFDQXhHLE1BQU0sQ0FBQ3lHLFFBQVEsQ0FBQztRQUFFQyxHQUFHLEVBQUUsQ0FBQztRQUFFQyxRQUFRLEVBQUU7TUFBUyxDQUFDLENBQUM7SUFDbkQ7SUFFQUssVUFBVSxDQUFDLENBQUM7RUFDaEIsQ0FBQztFQUVELElBQU1BLFVBQVUsR0FBRyxTQUFiQSxVQUFVQSxDQUFJQyxDQUFDLEVBQUs7SUFDdEIsSUFBSUEsQ0FBQyxJQUFJQSxDQUFDLENBQUNDLGVBQWUsRUFBRUQsQ0FBQyxDQUFDQyxlQUFlLENBQUMsQ0FBQztJQUMvQzNELFlBQVksQ0FBQyxJQUFJLENBQUM7SUFDbEJJLGNBQWMsQ0FBQyxJQUFJLENBQUM7RUFDeEIsQ0FBQztFQUVELElBQU13RCxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUFJYixFQUFFLEVBQXlCO0lBQUEsSUFBdkJQLFVBQVUsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsS0FBSztJQUM1QyxJQUFJRCxVQUFVLEVBQUU7TUFDWixJQUFNcUIsWUFBWSxHQUFHbEUsYUFBYSxDQUFDbUUsSUFBSSxDQUFDLFVBQUF2QixJQUFJO1FBQUEsT0FBSUEsSUFBSSxDQUFDUSxFQUFFLEtBQUtBLEVBQUU7TUFBQSxFQUFDO01BQy9ELElBQUksQ0FBQ2MsWUFBWSxFQUFFO01BRW5CakUsZ0JBQWdCLENBQUNELGFBQWEsQ0FBQ3dCLE1BQU0sQ0FBQyxVQUFBb0IsSUFBSTtRQUFBLE9BQUlBLElBQUksQ0FBQ1EsRUFBRSxLQUFLQSxFQUFFO01BQUEsRUFBQyxDQUFDOztNQUU5RDtNQUNBdEcsTUFBTSxDQUFDeUcsUUFBUSxDQUFDO1FBQUVDLEdBQUcsRUFBRSxDQUFDO1FBQUVDLFFBQVEsRUFBRTtNQUFTLENBQUMsQ0FBQztNQUUvQyxJQUFNOUIsT0FBTyxHQUFHLGFBQWE7TUFDN0JJLFFBQVEsQ0FBQztRQUNMSixPQUFPLEVBQUVBLE9BQU87UUFDaEJ5QyxJQUFJLEVBQUUsTUFBTTtRQUNaeEMsT0FBTyxFQUFFLENBQUM7VUFDTmpELEtBQUssRUFBRSxNQUFNO1VBQ2IwRixPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQSxFQUFRO1lBQ1hwRSxnQkFBZ0IsQ0FBQyxVQUFBcUUsSUFBSTtjQUFBLFVBQUF0RyxNQUFBLENBQUFxRixrQkFBQSxDQUFRaUIsSUFBSSxJQUFFSixZQUFZO1lBQUEsQ0FBQyxDQUFDO1lBQ2pEbkMsUUFBUSxDQUFDO2NBQUVKLE9BQU8sRUFBRSxTQUFTO2NBQUVDLE9BQU8sRUFBRTtZQUFHLENBQUMsQ0FBQztZQUM3QzJDLFVBQVUsQ0FBQztjQUFBLE9BQU14QyxRQUFRLENBQUM7Z0JBQUVKLE9BQU8sRUFBRSxJQUFJO2dCQUFFQyxPQUFPLEVBQUU7Y0FBRyxDQUFDLENBQUM7WUFBQSxHQUFFLElBQUksQ0FBQztVQUNwRTtRQUNKLENBQUM7TUFDTCxDQUFDLENBQUM7TUFDRjJDLFVBQVUsQ0FBQztRQUFBLE9BQU14QyxRQUFRLENBQUMsVUFBQXVDLElBQUk7VUFBQSxPQUFLQSxJQUFJLENBQUMzQyxPQUFPLEtBQUtBLE9BQU8sR0FBRztZQUFFQSxPQUFPLEVBQUUsSUFBSTtZQUFFQyxPQUFPLEVBQUU7VUFBRyxDQUFDLEdBQUcwQyxJQUFJO1FBQUEsQ0FBQyxDQUFDO01BQUEsR0FBRSxJQUFJLENBQUM7SUFFaEgsQ0FBQyxNQUFNO01BQ0hFLGFBQWEsQ0FBQ3BCLEVBQUUsQ0FBQztJQUNyQjtFQUNKLENBQUM7RUFFRCxJQUFNb0IsYUFBYSxHQUFHLFNBQWhCQSxhQUFhQSxDQUFJcEIsRUFBRSxFQUFLO0lBQzFCLElBQU1jLFlBQVksR0FBR3RFLEtBQUssQ0FBQ3VFLElBQUksQ0FBQyxVQUFBdkIsSUFBSTtNQUFBLE9BQUlBLElBQUksQ0FBQ1EsRUFBRSxLQUFLQSxFQUFFO0lBQUEsRUFBQztJQUN2RCxJQUFJLENBQUNjLFlBQVksRUFBRTs7SUFFbkI7SUFDQXJFLFFBQVEsQ0FBQyxVQUFBNEUsU0FBUztNQUFBLE9BQUlBLFNBQVMsQ0FBQ2pELE1BQU0sQ0FBQyxVQUFBb0IsSUFBSTtRQUFBLE9BQUlBLElBQUksQ0FBQ1EsRUFBRSxLQUFLQSxFQUFFO01BQUEsRUFBQztJQUFBLEVBQUM7SUFDL0Q7SUFDQXRHLE1BQU0sQ0FBQ3lHLFFBQVEsQ0FBQztNQUFFQyxHQUFHLEVBQUUsQ0FBQztNQUFFQyxRQUFRLEVBQUU7SUFBUyxDQUFDLENBQUM7O0lBRS9DO0lBQ0EsSUFBTWlCLFNBQVMsR0FBRyxZQUFZO0lBRTlCM0MsUUFBUSxDQUFDO01BQ0xKLE9BQU8sRUFBRStDLFNBQVM7TUFDbEJOLElBQUksRUFBRSxTQUFTO01BQ2ZPLGFBQWEsRUFBRSxJQUFJO01BQUU7TUFDckIvQyxPQUFPLEVBQUUsQ0FDTDtRQUNJakQsS0FBSyxFQUFFLE1BQU07UUFDYmlHLEtBQUssRUFBRSxXQUFXO1FBQUU7UUFDcEJQLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBLEVBQVE7VUFDWDtVQUNBeEUsUUFBUSxDQUFDLFVBQUF5RSxJQUFJO1lBQUEsVUFBQXRHLE1BQUEsQ0FBQXFGLGtCQUFBLENBQVFpQixJQUFJLElBQUVKLFlBQVk7VUFBQSxDQUFDLENBQUM7VUFDekNuQyxRQUFRLENBQUM7WUFBRUosT0FBTyxFQUFFLFNBQVM7WUFBRUMsT0FBTyxFQUFFO1VBQUcsQ0FBQyxDQUFDO1VBQzdDMkMsVUFBVSxDQUFDO1lBQUEsT0FBTXhDLFFBQVEsQ0FBQztjQUFFSixPQUFPLEVBQUUsSUFBSTtjQUFFQyxPQUFPLEVBQUU7WUFBRyxDQUFDLENBQUM7VUFBQSxHQUFFLElBQUksQ0FBQztRQUNwRTtNQUNKLENBQUMsRUFDRDtRQUNJakQsS0FBSyxFQUFFLFVBQVU7UUFDakJpRyxLQUFLLEVBQUUsU0FBUztRQUFFO1FBQ2xCUCxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQSxFQUFRO1VBQ1gsSUFBTVEsWUFBWSxHQUFHO1lBQ2pCekIsRUFBRSxFQUFFN0YsSUFBSSxDQUFDYSxHQUFHLENBQUMsQ0FBQztZQUNkM0IsSUFBSSxFQUFFeUgsWUFBWSxDQUFDekgsSUFBSTtZQUN2QmtDLEtBQUssRUFBRXVGLFlBQVksQ0FBQ3ZGO1VBQ3hCLENBQUM7VUFDRHNCLGdCQUFnQixDQUFDLFVBQUFxRSxJQUFJO1lBQUEsVUFBQXRHLE1BQUEsQ0FBQXFGLGtCQUFBLENBQVFpQixJQUFJLElBQUVPLFlBQVk7VUFBQSxDQUFDLENBQUM7VUFFakR2QixTQUFTLENBQUMsY0FBYyxDQUFDO1FBQzdCO01BQ0osQ0FBQztJQUVULENBQUMsQ0FBQzs7SUFFRjtJQUNBaUIsVUFBVSxDQUFDO01BQUEsT0FBTXhDLFFBQVEsQ0FBQyxVQUFBdUMsSUFBSTtRQUFBLE9BQUtBLElBQUksQ0FBQzNDLE9BQU8sS0FBSytDLFNBQVMsR0FBRztVQUFFL0MsT0FBTyxFQUFFLElBQUk7VUFBRUMsT0FBTyxFQUFFO1FBQUcsQ0FBQyxHQUFHMEMsSUFBSTtNQUFBLENBQUMsQ0FBQztJQUFBLEdBQUUsSUFBSSxDQUFDO0VBQ2xILENBQUM7RUFFRCxJQUFNaEIsU0FBUyxHQUFHLFNBQVpBLFNBQVNBLENBQUkzQixPQUFPLEVBQUs7SUFDM0I7SUFDQUksUUFBUSxDQUFDO01BQUVKLE9BQU8sRUFBUEEsT0FBTztNQUFFQyxPQUFPLEVBQUUsRUFBRTtNQUFFa0QsU0FBUyxFQUFFO0lBQU0sQ0FBQyxDQUFDOztJQUVwRDtJQUNBUCxVQUFVLENBQUMsWUFBTTtNQUNieEMsUUFBUSxDQUFDLFVBQUF1QyxJQUFJLEVBQUk7UUFDYjtRQUNBLElBQUlBLElBQUksQ0FBQzNDLE9BQU8sS0FBS0EsT0FBTyxFQUFFO1VBQzFCLE9BQUFpQyxhQUFBLENBQUFBLGFBQUEsS0FBWVUsSUFBSTtZQUFFUSxTQUFTLEVBQUU7VUFBSTtRQUNyQztRQUNBLE9BQU9SLElBQUk7TUFDZixDQUFDLENBQUM7O01BRUY7TUFDQUMsVUFBVSxDQUFDLFlBQU07UUFDYnhDLFFBQVEsQ0FBQyxVQUFBdUMsSUFBSSxFQUFJO1VBQ2IsSUFBSUEsSUFBSSxDQUFDM0MsT0FBTyxLQUFLQSxPQUFPLElBQUkyQyxJQUFJLENBQUNRLFNBQVMsRUFBRTtZQUM1QyxPQUFPO2NBQUVuRCxPQUFPLEVBQUUsSUFBSTtjQUFFQyxPQUFPLEVBQUU7WUFBRyxDQUFDO1VBQ3pDO1VBQ0EsT0FBTzBDLElBQUk7UUFDZixDQUFDLENBQUM7TUFDTixDQUFDLEVBQUUsR0FBRyxDQUFDO0lBQ1gsQ0FBQyxFQUFFLElBQUksQ0FBQztFQUNaLENBQUM7RUFFRCxJQUFNUyxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUFJQyxHQUFHO0lBQUEsT0FBS0EsR0FBRyxDQUFDckgsSUFBSSxDQUFDc0gsS0FBSyxDQUFDdEgsSUFBSSxDQUFDdUgsTUFBTSxDQUFDLENBQUMsR0FBR0YsR0FBRyxDQUFDakMsTUFBTSxDQUFDLENBQUM7RUFBQTtFQUU3RSxJQUFNb0MsYUFBYSxHQUFHLFNBQWhCQSxhQUFhQSxDQUFJOUcsSUFBSSxFQUFLO0lBQzVCLElBQU1OLElBQUksR0FBRyxJQUFJUixJQUFJLENBQUMsQ0FBQztJQUN2QlEsSUFBSSxDQUFDcUgsT0FBTyxDQUFDckgsSUFBSSxDQUFDRyxPQUFPLENBQUMsQ0FBQyxHQUFHRyxJQUFJLENBQUM7SUFDbkNnRCxZQUFZLENBQUN0RCxJQUFJLENBQUNzSCxXQUFXLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDbEQsQ0FBQzs7RUFFRDtFQUNBLElBQU1DLFdBQVcsR0FBR2pKLE9BQU8sQ0FBQyxZQUFNO0lBQzlCO0lBQ0EsT0FBTytHLGtCQUFBLENBQUl6RCxLQUFLLEVBQUU0RixJQUFJLENBQUMsVUFBQ0MsQ0FBQyxFQUFFQyxDQUFDO01BQUEsT0FBSyxJQUFJbkksSUFBSSxDQUFDa0ksQ0FBQyxDQUFDMUgsSUFBSSxDQUFDLEdBQUcsSUFBSVIsSUFBSSxDQUFDbUksQ0FBQyxDQUFDM0gsSUFBSSxDQUFDO0lBQUEsRUFBQztFQUN6RSxDQUFDLEVBQUUsQ0FBQzZCLEtBQUssQ0FBQyxDQUFDO0VBRVgsSUFBTStGLGVBQWUsR0FBRyxTQUFsQkEsZUFBZUEsQ0FBQSxFQUFTO0lBQzFCLElBQU12SCxHQUFHLEdBQUdiLElBQUksQ0FBQ2EsR0FBRyxDQUFDLENBQUM7SUFDdEIsSUFBSXRCLE1BQU0sQ0FBQzhJLE9BQU8sSUFBSXhILEdBQUcsR0FBR3RCLE1BQU0sQ0FBQzhJLE9BQU8sR0FBRyxHQUFHLEVBQUU7TUFDOUMsSUFBTUMsUUFBUSxHQUFHM0QsY0FBYyxHQUFHLENBQUM7TUFDbkNDLGlCQUFpQixDQUFDMEQsUUFBUSxDQUFDO01BQzNCLElBQUlBLFFBQVEsSUFBSSxDQUFDLEVBQUU7UUFDZkMsWUFBWSxDQUFDLENBQUM7UUFDZDNELGlCQUFpQixDQUFDLENBQUMsQ0FBQztNQUN4QjtJQUNKLENBQUMsTUFBTTtNQUNIQSxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7SUFDeEI7SUFDQXJGLE1BQU0sQ0FBQzhJLE9BQU8sR0FBR3hILEdBQUc7RUFDeEIsQ0FBQztFQUVELElBQU0ySCxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUFBLEVBQVM7SUFDM0IsSUFBSXpELFdBQVcsRUFBRTtJQUVqQixJQUFNMEQsaUJBQWlCLEdBQUdsSixNQUFNLENBQUNrSixpQkFBaUIsSUFBSWxKLE1BQU0sQ0FBQ21KLHVCQUF1QjtJQUNwRixJQUFJLENBQUNELGlCQUFpQixFQUFFO01BQ3BCMUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDO01BQzNCO0lBQ0o7SUFFQSxJQUFJO01BQ0EsSUFBTTRDLFdBQVcsR0FBRyxJQUFJRixpQkFBaUIsQ0FBQyxDQUFDO01BQzNDRSxXQUFXLENBQUNDLElBQUksR0FBRyxPQUFPO01BQzFCRCxXQUFXLENBQUNFLGNBQWMsR0FBRyxLQUFLO01BQ2xDRixXQUFXLENBQUNHLGVBQWUsR0FBRyxDQUFDO01BRS9CSCxXQUFXLENBQUNJLE9BQU8sR0FBRztRQUFBLE9BQU0vRCxjQUFjLENBQUMsSUFBSSxDQUFDO01BQUE7TUFFaEQyRCxXQUFXLENBQUNLLFFBQVEsR0FBRyxVQUFDQyxLQUFLLEVBQUs7UUFDOUIsSUFBTUMsVUFBVSxHQUFHRCxLQUFLLENBQUNFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ0QsVUFBVTtRQUNqRCxJQUFJQSxVQUFVLEVBQUU7VUFDWjVGLFlBQVksQ0FBQzRGLFVBQVUsQ0FBQztRQUM1QjtNQUNKLENBQUM7TUFFRFAsV0FBVyxDQUFDUyxPQUFPLEdBQUcsVUFBQ0gsS0FBSyxFQUFLO1FBQzdCSSxPQUFPLENBQUNDLEtBQUssQ0FBQywwQkFBMEIsRUFBRUwsS0FBSyxDQUFDSyxLQUFLLENBQUM7UUFDdER0RSxjQUFjLENBQUMsS0FBSyxDQUFDO1FBQ3JCLElBQUlpRSxLQUFLLENBQUNLLEtBQUssS0FBSyxhQUFhLEVBQUU7VUFDL0J2RCxTQUFTLENBQUMsa0JBQWtCLENBQUM7UUFDakM7TUFDSixDQUFDO01BRUQ0QyxXQUFXLENBQUNZLEtBQUssR0FBRyxZQUFNO1FBQ3RCdkUsY0FBYyxDQUFDLEtBQUssQ0FBQztNQUN6QixDQUFDO01BRUQyRCxXQUFXLENBQUNhLEtBQUssQ0FBQyxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxPQUFPaEQsQ0FBQyxFQUFFO01BQ1I2QyxPQUFPLENBQUNDLEtBQUssQ0FBQzlDLENBQUMsQ0FBQztNQUNoQlQsU0FBUyxDQUFDLGlCQUFpQixDQUFDO0lBQ2hDO0VBQ0osQ0FBQztFQUVELElBQU13QyxZQUFZLEdBQUcsU0FBZkEsWUFBWUEsQ0FBQSxFQUFTO0lBQ3ZCLElBQU1rQixXQUFXLEdBQUdDLFFBQVEsQ0FBQ0MsZUFBZSxDQUFDQyxTQUFTO0lBQ3RELElBQU1DLElBQUksR0FBRyxJQUFJQyxJQUFJLENBQUMsQ0FBQ0wsV0FBVyxDQUFDLEVBQUU7TUFBRTVDLElBQUksRUFBRTtJQUFZLENBQUMsQ0FBQztJQUMzRCxJQUFNa0QsR0FBRyxHQUFHQyxHQUFHLENBQUNDLGVBQWUsQ0FBQ0osSUFBSSxDQUFDO0lBQ3JDLElBQU0zQixDQUFDLEdBQUd3QixRQUFRLENBQUNoSyxhQUFhLENBQUMsR0FBRyxDQUFDO0lBQ3JDd0ksQ0FBQyxDQUFDZ0MsSUFBSSxHQUFHSCxHQUFHO0lBQ1o3QixDQUFDLENBQUNpQyxRQUFRLEdBQUcsMEJBQTBCO0lBQ3ZDVCxRQUFRLENBQUNVLElBQUksQ0FBQ0MsV0FBVyxDQUFDbkMsQ0FBQyxDQUFDO0lBQzVCQSxDQUFDLENBQUNvQyxLQUFLLENBQUMsQ0FBQztJQUNUWixRQUFRLENBQUNVLElBQUksQ0FBQ0csV0FBVyxDQUFDckMsQ0FBQyxDQUFDO0lBQzVCOEIsR0FBRyxDQUFDUSxlQUFlLENBQUNULEdBQUcsQ0FBQztJQUN4QmhFLFNBQVMsQ0FBQyxlQUFlLENBQUM7RUFDOUIsQ0FBQztFQUVELG9CQUNJbkgsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUEwRCxnQkFHckVWLEtBQUEsQ0FBQWMsYUFBQTtJQUFRSixTQUFTLEVBQUM7RUFBdUcsZ0JBQ3JIVixLQUFBLENBQUFjLGFBQUE7SUFBSUosU0FBUyxFQUFDLDBFQUEwRTtJQUFDK0gsS0FBSyxFQUFFO01BQUVvRCxVQUFVLEVBQUU7SUFBa0M7RUFBRSxHQUFDLGtEQUUvSSxDQUFDLGVBQ0w3TCxLQUFBLENBQUFjLGFBQUE7SUFBR0osU0FBUyxFQUFDO0VBQXNJLGdCQUMvSVYsS0FBQSxDQUFBYyxhQUFBO0lBQU1KLFNBQVMsRUFBQztFQUE2RixDQUFPLENBQUMsRUFDcEhzQixjQUFjLENBQUMsQ0FDakIsQ0FDQyxDQUFDLGVBSVRoQyxLQUFBLENBQUFjLGFBQUE7SUFBTUosU0FBUyxFQUFDO0VBQTBDLEdBR3JEc0MsV0FBVyxLQUFLLE9BQU8saUJBQ3BCaEQsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUFpQixnQkFHNUJWLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBVyxnQkFDdEJWLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBNkMsZ0JBQ3hEVixLQUFBLENBQUFjLGFBQUE7SUFBSUosU0FBUyxFQUFDO0VBQTJELEdBQUMsa0NBQy9ELEVBQUMrQyxLQUFLLENBQUNtRCxNQUFNLEVBQUMsR0FDckIsQ0FDSCxDQUFDLEVBRUx3QyxXQUFXLENBQUN4QyxNQUFNLEtBQUssQ0FBQyxnQkFDckI1RyxLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxFQUFDO0VBQThCLGdCQUN6Q1YsS0FBQSxDQUFBYyxhQUFBLENBQUNWLElBQUk7SUFBQ0UsSUFBSSxFQUFDLGNBQWM7SUFBQ0UsSUFBSSxFQUFFLEVBQUc7SUFBQ0UsU0FBUyxFQUFDO0VBQTRCLENBQUUsQ0FBQyxlQUM3RVYsS0FBQSxDQUFBYyxhQUFBO0lBQUdKLFNBQVMsRUFBQztFQUFtQyxHQUFDLG9FQUU5QyxDQUFDLGVBQ0pWLEtBQUEsQ0FBQWMsYUFBQTtJQUFHSixTQUFTLEVBQUM7RUFBNEIsR0FBQyw0RkFBa0IsQ0FDM0QsQ0FBQyxHQUVOMEksV0FBVyxDQUFDNUIsR0FBRyxDQUFDLFVBQUNmLElBQUk7SUFBQSxvQkFDakJ6RyxLQUFBLENBQUFjLGFBQUEsQ0FBQ2dMLFFBQVE7TUFDTEMsR0FBRyxFQUFFdEYsSUFBSSxDQUFDUSxFQUFHO01BQ2JSLElBQUksRUFBRUEsSUFBSztNQUNYdUYsU0FBUyxFQUFFLFNBQVhBLFNBQVNBLENBQUE7UUFBQSxPQUFRM0QsYUFBYSxDQUFDNUIsSUFBSSxDQUFDUSxFQUFFLENBQUM7TUFBQSxDQUFDO01BQ3hDZ0YsTUFBTSxFQUFFLFNBQVJBLE1BQU1BLENBQUE7UUFBQSxPQUFRekYsYUFBYSxDQUFDQyxJQUFJLENBQUM7TUFBQTtJQUFDLENBQ3JDLENBQUM7RUFBQSxDQUNMLENBRUosQ0FDSixDQUNSLEVBR0F6RCxXQUFXLEtBQUssVUFBVSxpQkFDdkJoRCxLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxFQUFDO0VBQWlCLGdCQUM1QlYsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUFXLGdCQUN0QlYsS0FBQSxDQUFBYyxhQUFBO0lBQUlKLFNBQVMsRUFBQztFQUEwRCxnQkFDcEVWLEtBQUEsQ0FBQWMsYUFBQSxDQUFDVixJQUFJO0lBQUNFLElBQUksRUFBQyxlQUFlO0lBQUNJLFNBQVMsRUFBQztFQUFlLENBQUUsQ0FBQyxrQ0FFdkQsQ0FBQyxlQUNMVixLQUFBLENBQUFjLGFBQUE7SUFBR0osU0FBUyxFQUFDO0VBQTRCLEdBQUMsa0dBQW1CLENBQzVELENBQUMsZUFFTlYsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUFXLEdBQ3JCbUQsYUFBYSxDQUFDK0MsTUFBTSxLQUFLLENBQUMsZ0JBQ3ZCNUcsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUE4QixnQkFDekNWLEtBQUEsQ0FBQWMsYUFBQSxDQUFDVixJQUFJO0lBQUNFLElBQUksRUFBQyxnQkFBZ0I7SUFBQ0UsSUFBSSxFQUFFLEVBQUc7SUFBQ0UsU0FBUyxFQUFDO0VBQTRCLENBQUUsQ0FBQyxlQUMvRVYsS0FBQSxDQUFBYyxhQUFBO0lBQUdKLFNBQVMsRUFBQztFQUFtQyxHQUFDLDhEQUFhLENBQUMsZUFDL0RWLEtBQUEsQ0FBQWMsYUFBQTtJQUFHSixTQUFTLEVBQUM7RUFBNEIsR0FBQyw4REFBYSxDQUN0RCxDQUFDLEdBRU5tRCxhQUFhLENBQUMyRCxHQUFHLENBQUMsVUFBQ2YsSUFBSTtJQUFBLG9CQUNuQnpHLEtBQUEsQ0FBQWMsYUFBQSxDQUFDb0wsWUFBWTtNQUNUSCxHQUFHLEVBQUV0RixJQUFJLENBQUNRLEVBQUc7TUFDYlIsSUFBSSxFQUFFQSxJQUFLO01BQ1h3RixNQUFNLEVBQUUsU0FBUkEsTUFBTUEsQ0FBQTtRQUFBLE9BQVF6RixhQUFhLENBQUNDLElBQUksRUFBRSxJQUFJLENBQUM7TUFBQSxDQUFDO01BQ3hDMEYsUUFBUSxFQUFFLFNBQVZBLFFBQVFBLENBQUE7UUFBQSxPQUFRckUsZ0JBQWdCLENBQUNyQixJQUFJLENBQUNRLEVBQUUsRUFBRSxJQUFJLENBQUM7TUFBQSxDQUFDO01BQ2hEbUYsTUFBTSxFQUFFLFNBQVJBLE1BQU1BLENBQUE7UUFBQSxPQUFRdEYsYUFBYSxDQUFDTCxJQUFJLENBQUM7TUFBQTtJQUFDLENBQ3JDLENBQUM7RUFBQSxDQUNMLENBRUosQ0FDSixDQUNSLGVBR0R6RyxLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxFQUFDO0VBQXdCLGdCQUNuQ1YsS0FBQSxDQUFBYyxhQUFBO0lBQ0l1TCxPQUFPLEVBQUU3QyxlQUFnQjtJQUN6QjlJLFNBQVMsRUFBQztFQUFtSSxHQUNoSix3QkFFRSxDQUNGLENBQ0gsQ0FBQyxlQUdQVixLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxFQUFDO0VBQTZFLGdCQUN4RlYsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUFxRSxnQkFHaEZWLEtBQUEsQ0FBQWMsYUFBQTtJQUNJdUwsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUE7TUFBQSxPQUFRcEosY0FBYyxDQUFDLE9BQU8sQ0FBQztJQUFBLENBQUM7SUFDdkN2QyxTQUFTLGtJQUFBbUIsTUFBQSxDQUFrSW1CLFdBQVcsS0FBSyxPQUFPLEdBQUcseURBQXlELEdBQUcsbUNBQW1DO0VBQUcsZ0JBRXZRaEQsS0FBQSxDQUFBYyxhQUFBLENBQUNWLElBQUk7SUFBQ0UsSUFBSSxFQUFDLGNBQWM7SUFBQ0UsSUFBSSxFQUFFLEVBQUc7SUFBQzhMLFdBQVcsRUFBRXRKLFdBQVcsS0FBSyxPQUFPLEdBQUcsR0FBRyxHQUFHO0VBQUUsQ0FBRSxDQUFDLGVBRXRGaEQsS0FBQSxDQUFBYyxhQUFBO0lBQU1KLFNBQVMsRUFBQztFQUFtQixHQUFDLGdDQUFXLENBQzNDLENBQUMsZUFHVFYsS0FBQSxDQUFBYyxhQUFBO0lBQ0l1TCxPQUFPLEVBQUU5RixZQUFhO0lBQ3RCN0YsU0FBUywyTEFBQW1CLE1BQUEsQ0FBMkxtQixXQUFXLEtBQUssVUFBVSxHQUFHLGFBQWEsR0FBRyxVQUFVLENBQUc7SUFDOVAsY0FBVztFQUFJLGdCQUVmaEQsS0FBQSxDQUFBYyxhQUFBLENBQUNWLElBQUk7SUFBQ0UsSUFBSSxFQUFDLE1BQU07SUFBQ0UsSUFBSSxFQUFFLEVBQUc7SUFBQzhMLFdBQVcsRUFBRTtFQUFFLENBQUUsQ0FDekMsQ0FBQyxlQUdUdE0sS0FBQSxDQUFBYyxhQUFBO0lBQ0l1TCxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQTtNQUFBLE9BQVFwSixjQUFjLENBQUMsVUFBVSxDQUFDO0lBQUEsQ0FBQztJQUMxQ3ZDLFNBQVMsa0lBQUFtQixNQUFBLENBQWtJbUIsV0FBVyxLQUFLLFVBQVUsR0FBRyx5REFBeUQsR0FBRyxtQ0FBbUM7RUFBRyxnQkFFMVFoRCxLQUFBLENBQUFjLGFBQUEsQ0FBQ1YsSUFBSTtJQUFDRSxJQUFJLEVBQUMsZUFBZTtJQUFDRSxJQUFJLEVBQUUsRUFBRztJQUFDOEwsV0FBVyxFQUFFdEosV0FBVyxLQUFLLFVBQVUsR0FBRyxHQUFHLEdBQUc7RUFBRSxDQUFFLENBQUMsZUFDMUZoRCxLQUFBLENBQUFjLGFBQUE7SUFBTUosU0FBUyxFQUFDO0VBQW1CLEdBQUMsb0JBQVMsQ0FDekMsQ0FFUCxDQUNKLENBQUMsRUFHTHVELFNBQVMsaUJBQ05qRSxLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxFQUFDO0VBQXFELGdCQUNoRVYsS0FBQSxDQUFBYyxhQUFBO0lBQ0lKLFNBQVMsRUFBQyxrRUFBa0U7SUFDNUUyTCxPQUFPLEVBQUUxRTtFQUFXLENBQ2xCLENBQUMsZUFFUDNILEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBZ0csZ0JBRTNHVixLQUFBLENBQUFjLGFBQUE7SUFDSXVMLE9BQU8sRUFBRTFFLFVBQVc7SUFDcEJqSCxTQUFTLEVBQUM7RUFBcUcsZ0JBRS9HVixLQUFBLENBQUFjLGFBQUEsQ0FBQ1YsSUFBSTtJQUFDRSxJQUFJLEVBQUMsR0FBRztJQUFDRSxJQUFJLEVBQUU7RUFBRyxDQUFFLENBQ3RCLENBQUMsZUFFVFIsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUFnRCxDQUFNLENBQUMsZUFFdEVWLEtBQUEsQ0FBQWMsYUFBQTtJQUFJSixTQUFTLEVBQUM7RUFBbUUsR0FDNUV1RCxTQUFTLEtBQUssa0JBQWtCLGdCQUM3QmpFLEtBQUEsQ0FBQWMsYUFBQSxDQUFBZCxLQUFBLENBQUF1TSxRQUFBLHFCQUNJdk0sS0FBQSxDQUFBYyxhQUFBLENBQUNWLElBQUk7SUFBQ0UsSUFBSSxFQUFDLG9CQUFvQjtJQUFDRSxJQUFJLEVBQUUsRUFBRztJQUFDRSxTQUFTLEVBQUM7RUFBZSxDQUFFLENBQUMscURBRXhFLENBQUMsR0FDSHVELFNBQVMsQ0FBQ3VJLFFBQVEsQ0FBQyxVQUFVLENBQUMsZ0JBQzlCeE0sS0FBQSxDQUFBYyxhQUFBLENBQUFkLEtBQUEsQ0FBQXVNLFFBQUEscUJBQ0l2TSxLQUFBLENBQUFjLGFBQUEsQ0FBQ1YsSUFBSTtJQUFDRSxJQUFJLEVBQUMsZUFBZTtJQUFDRSxJQUFJLEVBQUU7RUFBRyxDQUFFLENBQUMsRUFDdEN5RCxTQUFTLEtBQUssYUFBYSxHQUFHLE9BQU8sR0FBRyxPQUMzQyxDQUFDLGdCQUVIakUsS0FBQSxDQUFBYyxhQUFBLENBQUFkLEtBQUEsQ0FBQXVNLFFBQUEscUJBQ0l2TSxLQUFBLENBQUFjLGFBQUEsQ0FBQ1YsSUFBSTtJQUFDRSxJQUFJLEVBQUUyRCxTQUFTLEtBQUssS0FBSyxHQUFHLGNBQWMsR0FBRyxRQUFTO0lBQUN6RCxJQUFJLEVBQUU7RUFBRyxDQUFFLENBQUMsRUFDeEV5RCxTQUFTLEtBQUssS0FBSyxHQUFHLE9BQU8sR0FBRyxPQUNuQyxDQUVOLENBQUMsZUFFTGpFLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBVyxnQkFFdEJWLEtBQUEsQ0FBQWMsYUFBQSwyQkFDSWQsS0FBQSxDQUFBYyxhQUFBO0lBQU9KLFNBQVMsRUFBQztFQUFvRSxHQUFDLGNBQVMsQ0FBQyxlQUNoR1YsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUFVLGdCQUNyQlYsS0FBQSxDQUFBYyxhQUFBO0lBQ0ltSCxJQUFJLEVBQUMsTUFBTTtJQUNYd0UsV0FBVyxFQUFDLCtDQUFZO0lBQ3hCL0wsU0FBUyxFQUFDLDhKQUE4SjtJQUN4S2dNLEtBQUssRUFBRWpJLFNBQVU7SUFDakJrSSxRQUFRLEVBQUUsU0FBVkEsUUFBUUEsQ0FBRy9FLENBQUM7TUFBQSxPQUFLbEQsWUFBWSxDQUFDa0QsQ0FBQyxDQUFDdEcsTUFBTSxDQUFDb0wsS0FBSyxDQUFDO0lBQUEsQ0FBQztJQUM5Q0UsU0FBUyxFQUFFM0ksU0FBUyxLQUFLLEtBQUssSUFBSUEsU0FBUyxLQUFLO0VBQWMsQ0FDakUsQ0FBQyxlQUNGakUsS0FBQSxDQUFBYyxhQUFBO0lBQ0l1TCxPQUFPLEVBQUV6QyxnQkFBaUI7SUFDMUJsSixTQUFTLCtFQUFBbUIsTUFBQSxDQUErRXNFLFdBQVcsR0FBRyxrREFBa0QsR0FBRyxxREFBcUQsQ0FBRztJQUNuTjBHLEtBQUssRUFBQztFQUFNLGdCQUVaN00sS0FBQSxDQUFBYyxhQUFBLENBQUNWLElBQUk7SUFBQ0UsSUFBSSxFQUFDLEtBQUs7SUFBQ0UsSUFBSSxFQUFFO0VBQUcsQ0FBRSxDQUN4QixDQUNQLENBQ0osQ0FBQyxlQUdOUixLQUFBLENBQUFjLGFBQUEsMkJBQ0lkLEtBQUEsQ0FBQWMsYUFBQTtJQUFPSixTQUFTLEVBQUM7RUFBb0UsR0FBQyxxQkFDOUUsZUFBQVYsS0FBQSxDQUFBYyxhQUFBO0lBQU1KLFNBQVMsRUFBQztFQUFnQyxHQUFDLGdCQUFVLENBQzVELENBQUMsZUFDUlYsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUFVLGdCQUNyQlYsS0FBQSxDQUFBYyxhQUFBLENBQUNWLElBQUk7SUFBQ0UsSUFBSSxFQUFDLEtBQUs7SUFBQ0UsSUFBSSxFQUFFLEVBQUc7SUFBQ0UsU0FBUyxFQUFDO0VBQXFDLENBQUUsQ0FBQyxlQUM3RVYsS0FBQSxDQUFBYyxhQUFBO0lBQ0ltSCxJQUFJLEVBQUMsTUFBTTtJQUNYd0UsV0FBVyxFQUFDLG1GQUFrQjtJQUM5Qi9MLFNBQVMsRUFBQywrSkFBK0o7SUFDektnTSxLQUFLLEVBQUU3SCxVQUFXO0lBQ2xCOEgsUUFBUSxFQUFFLFNBQVZBLFFBQVFBLENBQUcvRSxDQUFDO01BQUEsT0FBSzlDLGFBQWEsQ0FBQzhDLENBQUMsQ0FBQ3RHLE1BQU0sQ0FBQ29MLEtBQUssQ0FBQztJQUFBO0VBQUMsQ0FDbEQsQ0FDQSxDQUNKLENBQUMsRUFHTCxDQUFDLENBQUN6SSxTQUFTLENBQUN1SSxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUl2SSxTQUFTLEtBQUssa0JBQWtCLGtCQUNqRWpFLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBaUIsZ0JBQzVCVixLQUFBLENBQUFjLGFBQUE7SUFBT0osU0FBUyxFQUFDO0VBQW9FLEdBQUMsY0FBUyxDQUFDLGVBQ2hHVixLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxFQUFDO0VBQVUsZ0JBQ3JCVixLQUFBLENBQUFjLGFBQUE7SUFDSW1ILElBQUksRUFBQyxNQUFNO0lBQ1h2SCxTQUFTLHdIQUFBbUIsTUFBQSxDQUF3SCxDQUFDb0QsU0FBUyxHQUFHLGtCQUFrQixHQUFHLGVBQWUsQ0FBRztJQUNyTHlILEtBQUssRUFBRXpILFNBQVU7SUFDakIwSCxRQUFRLEVBQUUsU0FBVkEsUUFBUUEsQ0FBRy9FLENBQUM7TUFBQSxPQUFLMUMsWUFBWSxDQUFDMEMsQ0FBQyxDQUFDdEcsTUFBTSxDQUFDb0wsS0FBSyxDQUFDO0lBQUE7RUFBQyxDQUNqRCxDQUFDLEVBRUQsQ0FBQ3pILFNBQVMsaUJBQ1BqRixLQUFBLENBQUFjLGFBQUE7SUFBTUosU0FBUyxFQUFDO0VBQWtHLEdBQUMsMEJBRTdHLENBRVQsQ0FDSixDQUNSLGVBRURWLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBaUIsZ0JBQzVCVixLQUFBLENBQUFjLGFBQUE7SUFDSXVMLE9BQU8sRUFBRXRGLGNBQWU7SUFDeEIrRixRQUFRLEVBQUUsQ0FBQ3JJLFNBQVMsSUFBSyxDQUFDLENBQUNSLFNBQVMsQ0FBQ3VJLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSXZJLFNBQVMsS0FBSyxrQkFBa0IsS0FBSyxDQUFDZ0IsU0FBVztJQUM5R3ZFLFNBQVMsRUFBQztFQUFzSyxHQUUvS3VELFNBQVMsS0FBSyxrQkFBa0IsR0FBRyxVQUFVLEdBQUcsTUFBTSxFQUFDLEdBQ3BELENBQ1AsQ0FDSixDQUNKLENBQ0osQ0FDUixFQUdBMEIsS0FBSyxDQUFDSCxPQUFPLGlCQUNWeEYsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUF5RSxnQkFDcEZWLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLHdFQUFBbUIsTUFBQSxDQUF3RThELEtBQUssQ0FBQ2dELFNBQVMsR0FBRyxrQkFBa0IsR0FBRyxpQkFBaUI7RUFBRyxDQUFNLENBQUMsZUFDeEozSSxLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxtTEFBQW1CLE1BQUEsQ0FBbUw4RCxLQUFLLENBQUNnRCxTQUFTLEdBQUcsa0JBQWtCLEdBQUcsZ0JBQWdCO0VBQUcsZ0JBRXZQM0ksS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUF5QixnQkFDcENWLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBMEQsZ0JBQ3JFVixLQUFBLENBQUFjLGFBQUEsQ0FBQ1YsSUFBSTtJQUFDRSxJQUFJLEVBQUVxRixLQUFLLENBQUNzQyxJQUFJLEtBQUssU0FBUyxHQUFHLE9BQU8sR0FBRyxNQUFPO0lBQUN6SCxJQUFJLEVBQUUsRUFBRztJQUFDOEwsV0FBVyxFQUFFO0VBQUUsQ0FBRSxDQUNuRixDQUFDLGVBQ050TSxLQUFBLENBQUFjLGFBQUE7SUFBTUosU0FBUyxFQUFDO0VBQWdELEdBQUVpRixLQUFLLENBQUNILE9BQWMsQ0FDckYsQ0FBQyxFQUVMRyxLQUFLLENBQUNGLE9BQU8sSUFBSUUsS0FBSyxDQUFDRixPQUFPLENBQUNtQixNQUFNLEdBQUcsQ0FBQyxpQkFDdEM1RyxLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxFQUFDO0VBQXdCLEdBQ2xDaUYsS0FBSyxDQUFDRixPQUFPLENBQUMrQixHQUFHLENBQUMsVUFBQ3VGLE1BQU0sRUFBRUMsS0FBSztJQUFBLG9CQUM3QmhOLEtBQUEsQ0FBQWMsYUFBQTtNQUNJaUwsR0FBRyxFQUFFaUIsS0FBTTtNQUNYWCxPQUFPLEVBQUVVLE1BQU0sQ0FBQzdFLE9BQVE7TUFDeEJ4SCxTQUFTLCtMQUFBbUIsTUFBQSxDQUVIa0wsTUFBTSxDQUFDdEUsS0FBSyxLQUFLLFNBQVMsR0FDdEIsb0VBQW9FLEdBQ3BFLGlFQUFpRTtJQUN6RSxHQUVEc0UsTUFBTSxDQUFDdkssS0FDSixDQUFDO0VBQUEsQ0FDWixDQUNBLENBQ1IsRUFHQW1ELEtBQUssQ0FBQzZDLGFBQWEsaUJBQ2hCeEksS0FBQSxDQUFBYyxhQUFBO0lBQ0l1TCxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQTtNQUFBLE9BQVF6RyxRQUFRLENBQUM7UUFBRUosT0FBTyxFQUFFLElBQUk7UUFBRUMsT0FBTyxFQUFFO01BQUcsQ0FBQyxDQUFDO0lBQUEsQ0FBQztJQUN4RC9FLFNBQVMsRUFBQztFQUFzRixHQUNuRyxvQkFFTyxDQUVYLENBQ0osQ0FFUixDQUFDO0FBRWQsQ0FBQztBQUVELElBQU1vTCxRQUFRLEdBQUcsU0FBWEEsUUFBUUEsQ0FBQW1CLEtBQUEsRUFBb0M7RUFBQSxJQUE5QnhHLElBQUksR0FBQXdHLEtBQUEsQ0FBSnhHLElBQUk7SUFBRXVGLFNBQVMsR0FBQWlCLEtBQUEsQ0FBVGpCLFNBQVM7SUFBRUMsTUFBTSxHQUFBZ0IsS0FBQSxDQUFOaEIsTUFBTTtFQUN2QyxJQUFNL0osSUFBSSxHQUFHakIsV0FBVyxDQUFDd0YsSUFBSSxDQUFDN0UsSUFBSSxDQUFDO0VBQ25DLElBQU1zTCxNQUFNLEdBQUc5SyxnQkFBZ0IsQ0FBQ0YsSUFBSSxDQUFDO0VBQ3JDLElBQUFpTCxXQUFBLEdBQWtDbE4sUUFBUSxDQUFDLEtBQUssQ0FBQztJQUFBbU4sV0FBQSxHQUFBckssY0FBQSxDQUFBb0ssV0FBQTtJQUExQ3hFLFNBQVMsR0FBQXlFLFdBQUE7SUFBRUMsWUFBWSxHQUFBRCxXQUFBO0VBRTlCLElBQU1FLGNBQWMsR0FBRyxTQUFqQkEsY0FBY0EsQ0FBSTFGLENBQUMsRUFBSztJQUMxQkEsQ0FBQyxDQUFDQyxlQUFlLENBQUMsQ0FBQztJQUNuQndGLFlBQVksQ0FBQyxJQUFJLENBQUM7SUFDbEJqRixVQUFVLENBQUM7TUFBQSxPQUFNNEQsU0FBUyxDQUFDdkYsSUFBSSxDQUFDUSxFQUFFLENBQUM7SUFBQSxHQUFFLEdBQUcsQ0FBQztFQUM3QyxDQUFDO0VBRUQsb0JBQ0lqSCxLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxvQkFBQW1CLE1BQUEsQ0FBb0I4RyxTQUFTLEdBQUcsbUJBQW1CLEdBQUcsaUJBQWlCO0VBQUcsZ0JBQ3BGM0ksS0FBQSxDQUFBYyxhQUFBO0lBQ0l1TCxPQUFPLEVBQUVKLE1BQU87SUFDaEJ2TCxTQUFTLEVBQUM7RUFBK0gsZ0JBRXpJVixLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxFQUFDO0VBQWdDLGdCQUMzQ1YsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsNkJBQUFtQixNQUFBLENBQTZCcUwsTUFBTSxDQUFDN0ssS0FBSztFQUFHLENBQU0sQ0FBQyxlQUNqRXJDLEtBQUEsQ0FBQWMsYUFBQSwyQkFDSWQsS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUFtQyxnQkFDOUNWLEtBQUEsQ0FBQWMsYUFBQTtJQUFJSixTQUFTLEVBQUM7RUFBK0MsR0FBRStGLElBQUksQ0FBQ25HLElBQVMsQ0FBQyxFQUM3RW1HLElBQUksQ0FBQ2pFLEtBQUssaUJBQ1B4QyxLQUFBLENBQUFjLGFBQUE7SUFBTUosU0FBUyxFQUFDO0VBQXFILEdBQ2hJK0YsSUFBSSxDQUFDakUsS0FDSixDQUVULENBQUMsZUFDTnhDLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBOEIsZ0JBQ3pDVixLQUFBLENBQUFjLGFBQUE7SUFBTUosU0FBUyw4Q0FBQW1CLE1BQUEsQ0FBOENxTCxNQUFNLENBQUMzSyxFQUFFLE9BQUFWLE1BQUEsQ0FBSXFMLE1BQU0sQ0FBQzVLLElBQUk7RUFBRyxHQUNuRjRLLE1BQU0sQ0FBQzFLLEtBQ04sQ0FBQyxlQUNQeEMsS0FBQSxDQUFBYyxhQUFBO0lBQU1KLFNBQVMsRUFBQztFQUFpRCxHQUM1RGdCLFVBQVUsQ0FBQytFLElBQUksQ0FBQzdFLElBQUksQ0FBQyxFQUFDLGNBQ3JCLENBQ0wsQ0FDSixDQUNKLENBQUMsZUFDTjVCLEtBQUEsQ0FBQWMsYUFBQTtJQUNJdUwsT0FBTyxFQUFFaUIsY0FBZTtJQUN4QjVNLFNBQVMsRUFBQyx5TUFBeU07SUFDbk4sY0FBVztFQUFPLGdCQUVsQlYsS0FBQSxDQUFBYyxhQUFBLENBQUNWLElBQUk7SUFBQ0UsSUFBSSxFQUFDLE9BQU87SUFBQ0UsSUFBSSxFQUFFO0VBQUcsQ0FBRSxDQUMxQixDQUNQLENBQ0osQ0FBQztBQUVkLENBQUM7QUFFRCxJQUFNMEwsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUFxQixLQUFBLEVBQTJDO0VBQUEsSUFBckM5RyxJQUFJLEdBQUE4RyxLQUFBLENBQUo5RyxJQUFJO0lBQUV3RixNQUFNLEdBQUFzQixLQUFBLENBQU50QixNQUFNO0lBQUVFLFFBQVEsR0FBQW9CLEtBQUEsQ0FBUnBCLFFBQVE7SUFBRUMsTUFBTSxHQUFBbUIsS0FBQSxDQUFObkIsTUFBTTtFQUNsRCxvQkFDSXBNLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUMsK0lBQStJO0lBQUMyTCxPQUFPLEVBQUVKO0VBQU8sZ0JBQzNLak0sS0FBQSxDQUFBYyxhQUFBO0lBQUtKLFNBQVMsRUFBQztFQUF5QixnQkFDbkNWLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBMEMsZ0JBQ3JEVixLQUFBLENBQUFjLGFBQUEsQ0FBQ1YsSUFBSTtJQUFDRSxJQUFJLEVBQUMsY0FBYztJQUFDRSxJQUFJLEVBQUU7RUFBRyxDQUFFLENBQ3BDLENBQUMsZUFDTlIsS0FBQSxDQUFBYyxhQUFBLDJCQUNHZCxLQUFBLENBQUFjLGFBQUE7SUFBS0osU0FBUyxFQUFDO0VBQXlCLGdCQUNwQ1YsS0FBQSxDQUFBYyxhQUFBO0lBQUlKLFNBQVMsRUFBQztFQUFpQyxHQUFFK0YsSUFBSSxDQUFDbkcsSUFBUyxDQUFDLEVBQy9EbUcsSUFBSSxDQUFDakUsS0FBSyxpQkFDUHhDLEtBQUEsQ0FBQWMsYUFBQTtJQUFNSixTQUFTLEVBQUM7RUFBcUgsR0FDaEkrRixJQUFJLENBQUNqRSxLQUNKLENBRVQsQ0FDSCxDQUNMLENBQUMsZUFDTnhDLEtBQUEsQ0FBQWMsYUFBQTtJQUFLSixTQUFTLEVBQUM7RUFBeUIsZ0JBQ25DVixLQUFBLENBQUFjLGFBQUE7SUFDR3VMLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFHekUsQ0FBQyxFQUFLO01BQUVBLENBQUMsQ0FBQ0MsZUFBZSxDQUFDLENBQUM7TUFBRXVFLE1BQU0sQ0FBQyxDQUFDO0lBQUUsQ0FBRTtJQUNuRDFMLFNBQVMsRUFBQyxtSEFBbUg7SUFDN0gsY0FBVyxrREFBVSxDQUFDO0VBQUEsZ0JBRXRCVixLQUFBLENBQUFjLGFBQUEsQ0FBQ1YsSUFBSTtJQUFDRSxJQUFJLEVBQUMsYUFBYTtJQUFDRSxJQUFJLEVBQUU7RUFBRyxDQUFFLENBQ2hDLENBQUMsZUFDVFIsS0FBQSxDQUFBYyxhQUFBO0lBQ0l1TCxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBR3pFLENBQUMsRUFBSztNQUFFQSxDQUFDLENBQUNDLGVBQWUsQ0FBQyxDQUFDO01BQUVzRSxRQUFRLENBQUMsQ0FBQztJQUFFLENBQUU7SUFDckR6TCxTQUFTLEVBQUMsbUhBQW1IO0lBQzdILGNBQVc7RUFBSSxnQkFFZlYsS0FBQSxDQUFBYyxhQUFBLENBQUNWLElBQUk7SUFBQ0UsSUFBSSxFQUFDLFNBQVM7SUFBQ0UsSUFBSSxFQUFFO0VBQUcsQ0FBRSxDQUM1QixDQUNQLENBQ0osQ0FBQztBQUVkLENBQUM7QUFFRCxJQUFNZ04sSUFBSSxHQUFHQyxRQUFRLENBQUNDLFVBQVUsQ0FBQzVDLFFBQVEsQ0FBQzZDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNqRUgsSUFBSSxDQUFDSSxNQUFNLGNBQUM1TixLQUFBLENBQUFjLGFBQUEsQ0FBQzhCLEdBQUcsTUFBRSxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=</script></head>
<body>
    <div id="root"><div class="min-h-screen pb-40 relative overflow-hidden bg-[#F2F2F7]"><header class="fixed top-0 w-full z-20 glass px-6 py-4 flex justify-between items-center transition-all duration-300"><h1 class="text-base font-bold text-gray-800 tracking-tight flex items-center gap-2" style="font-family: &quot;M PLUS Rounded 1c&quot;, sans-serif;">モッタイナイナー</h1><p class="text-xs font-semibold text-gray-500 flex items-center gap-2 border border-gray-200/80 bg-white/40 px-3 py-1.5 rounded-full shadow-sm"><span class="w-2 h-2 rounded-full bg-emerald-400 shadow-[0_0_8px_2px_rgba(52,211,153,0.6)] animate-pulse"></span>12月6日 (土)</p></header><main class="pt-20 px-4 max-w-md mx-auto min-h-screen"><div class="animate-fade-in"><div class="px-2 mb-4"><h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="shopping-cart" class="lucide lucide-shopping-cart text-gray-600"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path></svg>買い物メモ</h2><p class="text-xs text-gray-400 mt-1">必要なものをメモしておきましょう</p></div><div class="space-y-3"><div class="text-center py-20 opacity-40"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="clipboard-list" class="lucide lucide-clipboard-list mx-auto mb-4 text-gray-400"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg><p class="text-sm font-medium text-gray-500">買うものはありません</p><p class="text-xs mt-2 text-gray-400">＋ボタンでメモを追加</p></div></div></div><div class="mt-12 mb-8 text-center"><p class="text-[10px] text-gray-300 font-medium tracking-widest uppercase cursor-pointer select-none active:text-gray-400 transition-colors">Love food, hate waste.</p></div></main><div class="fixed bottom-8 left-1/2 transform -translate-x-1/2 z-40 w-auto max-w-[95vw]"><div class="glass-float px-1.5 py-1.5 rounded-full shadow-2xl flex items-center"><button class="flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 text-gray-400 hover:text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="refrigerator" class="lucide lucide-refrigerator"><path d="M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z"></path><path d="M5 10h14"></path><path d="M15 7v6"></path></svg><span class="text-xs font-bold">食材リスト</span></button><button class="w-12 h-12 mx-2 text-white rounded-full shadow-lg flex-shrink-0 flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-300 tap-highlight-transparent bg-blue-600" aria-label="追加"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="plus" class="lucide lucide-plus"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg></button><button class="flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 bg-white text-blue-600 border border-blue-100 shadow-sm"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="shopping-cart" class="lucide lucide-shopping-cart"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path></svg><span class="text-xs font-bold">買い物</span></button></div></div></div></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const Icon = ({ name, size = 24, className = "" }) => {
            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [name]);
            return <i data-lucide={name} width={size} height={size} className={className}></i>;
        };

        const getDaysDiff = (targetDate) => {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            const target = new Date(targetDate);
            target.setHours(0, 0, 0, 0);
            const diffTime = target - today;
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        };

        const formatDate = (dateStr) => {
            if (!dateStr) return "";
            const date = new Date(dateStr);
            return `${date.getMonth() + 1}/${date.getDate()}`;
        };

        const getTodayString = () => {
            const now = new Date();
            const days = ['日', '月', '火', '水', '木', '金', '土'];
            return `${now.getMonth() + 1}月${now.getDate()}日 (${days[now.getDay()]})`;
        };

        const getUrgencyStatus = (days) => {
            if (days < 0) return { color: "bg-rose-500", text: "text-rose-600", bg: "bg-rose-50", label: "期限切れ" };
            if (days === 0) return { color: "bg-orange-500", text: "text-orange-600", bg: "bg-orange-50", label: "今日まで" };
            if (days <= 2) return { color: "bg-amber-400", text: "text-amber-600", bg: "bg-amber-50", label: "あと" + days + "日" };
            if (days <= 5) return { color: "bg-yellow-400", text: "text-yellow-700", bg: "bg-yellow-50", label: "あと" + days + "日" };
            return { color: "bg-emerald-400", text: "text-emerald-600", bg: "bg-emerald-50", label: "あと" + days + "日" };
        };

        const ADD_MESSAGES = [
            "大切に使いましょう",
            "美味しくいただきましょう",
            "新鮮なうちに使いましょう",
            "冷蔵庫の仲間入りです",
            "無駄なく使いましょう"
        ];

        const CONSUME_MESSAGES = [
            "ごちそうさまでした 🙏",
            "大事に使いましたね ✨",
            "きれいに使い切りました 👏",
            "食品ロス削減に貢献！ 🌏",
            "素晴らしい心がけです 💖"
        ];
        
        const SHOPPING_MESSAGES = [
            "買い忘れを防ぎましょう 📝",
            "メモしました！ ✅",
            "お買い物リストに追加 🛒"
        ];

        const App = () => {
            // Views: 'stock' or 'shopping'
            const [currentView, setCurrentView] = useState('stock');

            // Stock Items State
            const [items, setItems] = useState(() => {
                const saved = localStorage.getItem('freshkeeper_items');
                return saved ? JSON.parse(saved) : []; // Initial empty state
            });

            // Shopping List State
            const [shoppingItems, setShoppingItems] = useState(() => {
                const saved = localStorage.getItem('freshkeeper_shopping');
                return saved ? JSON.parse(saved) : [];
            });
            
            // Modal State
            const [modalMode, setModalMode] = useState(null); 
            const [editingItem, setEditingItem] = useState(null);
            
            const [inputName, setInputName] = useState('');
            const [inputLabel, setInputLabel] = useState('');
            const [inputDate, setInputDate] = useState('');
            
            const [filter, setFilter] = useState('all');
            const [toast, setToast] = useState({ message: null, actions: [] });
            const [footerTapCount, setFooterTapCount] = useState(0);
            
            // Voice Input State
            const [isListening, setIsListening] = useState(false);

            // Persist
            useEffect(() => {
                localStorage.setItem('freshkeeper_items', JSON.stringify(items));
                if (window.lucide) window.lucide.createIcons();
            }, [items]);

            useEffect(() => {
                localStorage.setItem('freshkeeper_shopping', JSON.stringify(shoppingItems));
                if (window.lucide) window.lucide.createIcons();
            }, [shoppingItems]);

            // Modal Logic
            const openAddModal = () => {
                setEditingItem(null);
                setInputName('');
                setInputLabel('');
                
                if (currentView === 'stock') {
                    setModalMode('add');
                    setInputDate('');
                } else {
                    setModalMode('addShopping');
                }
            };

            const openEditModal = (item, isShopping = false) => {
                setEditingItem(item);
                setInputName(item.name);
                setInputLabel(item.label || '');
                
                if (isShopping) {
                    setModalMode('editShopping');
                } else {
                    setModalMode('edit');
                    setInputDate(item.date);
                }
            };

            const openMoveModal = (item) => {
                setEditingItem(item);
                setInputName(item.name);
                setInputLabel(item.label || '');
                
                // 期限は未入力状態にする
                setInputDate('');

                setModalMode('moveFromShopping');
            };

            const handleSaveItem = () => {
                if (!inputName) return;
                
                if ((modalMode === 'add' || modalMode === 'edit' || modalMode === 'moveFromShopping') && !inputDate) return;

                if (modalMode === 'add') {
                    const newItem = { id: Date.now(), name: inputName, label: inputLabel, date: inputDate };
                    setItems([...items, newItem]);
                    showToast("食材を追加しました");
                    // 登録完了時に上部へスクロール
                    window.scrollTo({ top: 0, behavior: 'smooth' });

                } else if (modalMode === 'edit' && editingItem) {
                    const updatedItems = items.map(item => item.id === editingItem.id ? { ...item, name: inputName, label: inputLabel, date: inputDate } : item);
                    setItems(updatedItems);
                    showToast("情報を更新しました");

                } else if (modalMode === 'addShopping') {
                    const newItem = { id: Date.now(), name: inputName, label: inputLabel };
                    setShoppingItems([...shoppingItems, newItem]);
                    showToast("買い物メモに追加しました");

                } else if (modalMode === 'editShopping' && editingItem) {
                    const updatedItems = shoppingItems.map(item => item.id === editingItem.id ? { ...item, name: inputName, label: inputLabel } : item);
                    setShoppingItems(updatedItems);
                    showToast("メモを更新しました");

                } else if (modalMode === 'moveFromShopping' && editingItem) {
                    const newItem = { id: Date.now(), name: inputName, label: inputLabel, date: inputDate };
                    setItems([...items, newItem]);
                    setShoppingItems(shoppingItems.filter(i => i.id !== editingItem.id));
                    showToast("食材リストに移動しました！🧊"); 
                    // 移動完了時に上部へスクロール
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }

                closeModal();
            };

            const closeModal = (e) => {
                if (e && e.stopPropagation) e.stopPropagation();
                setModalMode(null);
                setEditingItem(null);
            };

            const handleDeleteItem = (id, isShopping = false) => {
                if (isShopping) {
                    const itemToDelete = shoppingItems.find(item => item.id === id);
                    if (!itemToDelete) return;

                    setShoppingItems(shoppingItems.filter(item => item.id !== id));
                    
                    // 削除時に上部へスクロール
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                    const message = "リストから削除しました";
                    setToast({
                        message: message,
                        type: "info",
                        actions: [{
                            label: "元に戻す",
                            handler: () => {
                                setShoppingItems(prev => [...prev, itemToDelete]);
                                setToast({ message: "取り消しました", actions: [] });
                                setTimeout(() => setToast({ message: null, actions: [] }), 2000);
                            }
                        }]
                    });
                    setTimeout(() => setToast(prev => (prev.message === message ? { message: null, actions: [] } : prev)), 2500);

                } else {
                    handleConsume(id);
                }
            };

            const handleConsume = (id) => {
                const itemToDelete = items.find(item => item.id === id);
                if (!itemToDelete) return;

                // 1. 在庫から削除
                setItems(prevItems => prevItems.filter(item => item.id !== id));
                // 使い切り時に上部へスクロール
                window.scrollTo({ top: 0, behavior: 'smooth' });

                // 2. トーストで選択肢を提示
                const randomMsg = "使い切りました！👏";

                setToast({
                    message: randomMsg,
                    type: "success", 
                    showCloseText: true, // 閉じるボタンを表示するフラグ
                    actions: [
                        {
                            label: "元に戻す",
                            style: "secondary", // 控えめなスタイル
                            handler: () => {
                                // 在庫に戻す
                                setItems(prev => [...prev, itemToDelete]);
                                setToast({ message: "取り消しました", actions: [] });
                                setTimeout(() => setToast({ message: null, actions: [] }), 2000);
                            }
                        },
                        {
                            label: "買い物メモに追加",
                            style: "primary", // 目立つスタイル
                            handler: () => {
                                const shoppingItem = {
                                    id: Date.now(),
                                    name: itemToDelete.name,
                                    label: itemToDelete.label
                                };
                                setShoppingItems(prev => [...prev, shoppingItem]);
                                
                                showToast("買い物メモに追加しました");
                            }
                        }
                    ]
                });
                
                // 表示時間を5秒に延長
                setTimeout(() => setToast(prev => (prev.message === randomMsg ? { message: null, actions: [] } : prev)), 5000);
            };

            const showToast = (message) => {
                // 表示開始
                setToast({ message, actions: [], isExiting: false });
                
                // 1.0秒後にフェードアウト開始 (1500ms -> 1000ms に短縮)
                setTimeout(() => {
                    setToast(prev => {
                        // メッセージが変わっていなければフェードアウトフラグを立てる
                        if (prev.message === message) {
                            return { ...prev, isExiting: true };
                        }
                        return prev;
                    });

                    // アニメーション時間(300ms)待ってから完全に消去
                    setTimeout(() => {
                        setToast(prev => {
                            if (prev.message === message && prev.isExiting) {
                                return { message: null, actions: [] };
                            }
                            return prev;
                        });
                    }, 300);
                }, 1000);
            };
            
            const getRandomMessage = (arr) => arr[Math.floor(Math.random() * arr.length)];

            const setDateOffset = (days) => {
                const date = new Date();
                date.setDate(date.getDate() + days);
                setInputDate(date.toISOString().split('T')[0]);
            };

            // Sorting & Filtering
            const sortedItems = useMemo(() => {
                // Unified view: Always sort by date, no filtering
                return [...items].sort((a, b) => new Date(a.date) - new Date(b.date));
            }, [items]);

            const handleFooterTap = () => {
                const now = Date.now();
                if (window.lastTap && now - window.lastTap < 500) {
                    const newCount = footerTapCount + 1;
                    setFooterTapCount(newCount);
                    if (newCount >= 3) {
                        downloadHtml();
                        setFooterTapCount(0);
                    }
                } else {
                    setFooterTapCount(1);
                }
                window.lastTap = now;
            };

            const handleVoiceInput = () => {
                if (isListening) return;

                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                if (!SpeechRecognition) {
                    showToast("音声入力未対応のブラウザです");
                    return;
                }

                try {
                    const recognition = new SpeechRecognition();
                    recognition.lang = 'ja-JP';
                    recognition.interimResults = false;
                    recognition.maxAlternatives = 1;

                    recognition.onstart = () => setIsListening(true);
                    
                    recognition.onresult = (event) => {
                        const transcript = event.results[0][0].transcript;
                        if (transcript) {
                            setInputName(transcript);
                        }
                    };

                    recognition.onerror = (event) => {
                        console.error("Speech recognition error", event.error);
                        setIsListening(false);
                        if (event.error === 'not-allowed') {
                            showToast("マイクの使用が許可されていません");
                        }
                    };

                    recognition.onend = () => {
                        setIsListening(false);
                    };

                    recognition.start();
                } catch (e) {
                    console.error(e);
                    showToast("音声入力を開始できませんでした");
                }
            };

            const downloadHtml = () => {
                const htmlContent = document.documentElement.outerHTML;
                const blob = new Blob([htmlContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'Mottainainer_Backup.html';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                showToast("バックアップを作成しました");
            };

            return (
                <div className="min-h-screen pb-40 relative overflow-hidden bg-[#F2F2F7]">
                    
                    {/* Header */}
                    <header className="fixed top-0 w-full z-20 glass px-6 py-4 flex justify-between items-center transition-all duration-300">
                        <h1 className="text-base font-bold text-gray-800 tracking-tight flex items-center gap-2" style={{ fontFamily: "'M PLUS Rounded 1c', sans-serif" }}>
                            モッタイナイナー
                        </h1>
                        <p className="text-xs font-semibold text-gray-500 flex items-center gap-2 border border-gray-200/80 bg-white/40 px-3 py-1.5 rounded-full shadow-sm">
                            <span className="w-2 h-2 rounded-full bg-emerald-400 shadow-[0_0_8px_2px_rgba(52,211,153,0.6)] animate-pulse"></span>
                            {getTodayString()}
                        </p>
                    </header>

                    {/* Main Content */}
                    {/* Modified: Reduced top padding from pt-24 to pt-20 */}
                    <main className="pt-20 px-4 max-w-md mx-auto min-h-screen">
                        
                        {/* VIEW: STOCK */}
                        {currentView === 'stock' && (
                            <div className="animate-fade-in">
                                
                                {/* Food Items List */}
                                <div className="space-y-3">
                                    <div className="flex justify-between items-center px-2 mb-3">
                                        <h2 className="text-xs font-bold text-gray-400 uppercase tracking-widest">
                                            食材リスト ({items.length})
                                        </h2>
                                    </div>

                                    {sortedItems.length === 0 ? (
                                        <div className="text-center py-20 opacity-40">
                                            <Icon name="package-open" size={48} className="mx-auto mb-4 text-gray-400" />
                                            <p className="text-sm font-medium text-gray-500">
                                                食材リストは空っぽです
                                            </p>
                                            <p className="text-xs mt-2 text-gray-400">お買い物をしたら追加しましょう</p>
                                        </div>
                                    ) : (
                                        sortedItems.map((item) => (
                                            <FoodItem 
                                                key={item.id} 
                                                item={item} 
                                                onConsume={() => handleConsume(item.id)}
                                                onEdit={() => openEditModal(item)}
                                            />
                                        ))
                                    )}
                                </div>
                            </div>
                        )}

                        {/* VIEW: SHOPPING */}
                        {currentView === 'shopping' && (
                            <div className="animate-fade-in">
                                <div className="px-2 mb-4">
                                    <h2 className="text-2xl font-bold text-gray-800 flex items-center gap-2">
                                        <Icon name="shopping-cart" className="text-gray-600" />
                                        買い物メモ
                                    </h2>
                                    <p className="text-xs text-gray-400 mt-1">必要なものをメモしておきましょう</p>
                                </div>

                                <div className="space-y-3">
                                    {shoppingItems.length === 0 ? (
                                        <div className="text-center py-20 opacity-40">
                                            <Icon name="clipboard-list" size={48} className="mx-auto mb-4 text-gray-400" />
                                            <p className="text-sm font-medium text-gray-500">買うものはありません</p>
                                            <p className="text-xs mt-2 text-gray-400">＋ボタンでメモを追加</p>
                                        </div>
                                    ) : (
                                        shoppingItems.map((item) => (
                                            <ShoppingItem 
                                                key={item.id}
                                                item={item}
                                                onEdit={() => openEditModal(item, true)}
                                                onDelete={() => handleDeleteItem(item.id, true)}
                                                onMove={() => openMoveModal(item)}
                                            />
                                        ))
                                    )}
                                </div>
                            </div>
                        )}
                        
                        {/* Footer Secret */}
                        <div className="mt-12 mb-8 text-center">
                            <p 
                                onClick={handleFooterTap}
                                className="text-[10px] text-gray-300 font-medium tracking-widest uppercase cursor-pointer select-none active:text-gray-400 transition-colors"
                            >
                                Love food, hate waste.
                            </p>
                        </div>
                    </main>

                    {/* Integrated Floating Navigation & Add Button */}
                    <div className="fixed bottom-8 left-1/2 transform -translate-x-1/2 z-40 w-auto max-w-[95vw]">
                        <div className="glass-float px-1.5 py-1.5 rounded-full shadow-2xl flex items-center">
                            
                            {/* Stock Tab */}
                            <button 
                                onClick={() => setCurrentView('stock')}
                                className={`flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 ${currentView === 'stock' ? 'bg-white text-gray-900 border border-gray-200 shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}
                            >
                                <Icon name="refrigerator" size={20} strokeWidth={currentView === 'stock' ? 2.5 : 2} />
                                {/* Modified: Changed label to "食材リスト" */}
                                <span className="text-xs font-bold">食材リスト</span>
                            </button>

                            {/* Add Button (Center) */}
                            <button 
                                onClick={openAddModal}
                                className={`w-12 h-12 mx-2 text-white rounded-full shadow-lg flex-shrink-0 flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-300 tap-highlight-transparent ${currentView === 'shopping' ? 'bg-blue-600' : 'bg-black'}`}
                                aria-label="追加"
                            >
                                <Icon name="plus" size={24} strokeWidth={3} />
                            </button>

                            {/* Shopping Tab */}
                            <button 
                                onClick={() => setCurrentView('shopping')}
                                className={`flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 ${currentView === 'shopping' ? 'bg-white text-blue-600 border border-blue-100 shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}
                            >
                                <Icon name="shopping-cart" size={20} strokeWidth={currentView === 'shopping' ? 2.5 : 2} />
                                <span className="text-xs font-bold">買い物</span>
                            </button>

                        </div>
                    </div>

                    {/* Modal (Shared for Stock Add/Edit, Shopping Add/Edit, Move) */}
                    {modalMode && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center">
                            <div 
                                className="absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity"
                                onClick={closeModal}
                            ></div>
                            
                            <div className="bg-white w-full max-w-md rounded-[2rem] p-6 shadow-2xl animate-slide-up relative z-10 m-4 pb-6">
                                {/* Close Button */}
                                <button 
                                    onClick={closeModal}
                                    className="absolute top-6 right-6 text-gray-400 hover-btn-close bg-gray-100 p-2 rounded-full transition-colors"
                                >
                                    <Icon name="x" size={20} />
                                </button>

                                <div className="w-12 h-1 bg-gray-200 rounded-full mx-auto mb-6"></div>
                                
                                <h3 className="text-xl font-bold text-gray-900 mb-6 flex items-center gap-2 pr-8">
                                    {modalMode === 'moveFromShopping' ? (
                                        <>
                                            <Icon name="arrow-right-circle" size={20} className="text-blue-500" />
                                            食材リストへ移動 {/* Modified: Wording change */}
                                        </>
                                    ) : modalMode.includes('Shopping') ? (
                                        <>
                                            <Icon name="shopping-cart" size={20} />
                                            {modalMode === 'addShopping' ? 'メモを追加' : 'メモを編集'}
                                        </>
                                    ) : (
                                        <>
                                            <Icon name={modalMode === 'add' ? "shopping-bag" : "edit-3"} size={20} />
                                            {modalMode === 'add' ? '食材を追加' : '情報を編集'}
                                        </>
                                    )}
                                </h3>

                                <div className="space-y-5">
                                    {/* Name Input */}
                                    <div>
                                        <label className="block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide">名前</label>
                                        <div className="relative">
                                            <input 
                                                type="text" 
                                                placeholder="例：牛乳、豆腐..." 
                                                className="w-full text-lg font-medium border-b-2 border-gray-100 py-2 pr-10 focus:outline-none focus:border-black bg-transparent placeholder-gray-300 transition-colors"
                                                value={inputName}
                                                onChange={(e) => setInputName(e.target.value)}
                                                autoFocus={modalMode === 'add' || modalMode === 'addShopping'}
                                            />
                                            <button 
                                                onClick={handleVoiceInput}
                                                className={`absolute right-0 top-1/2 -translate-y-1/2 p-2 rounded-full transition-all ${isListening ? 'text-rose-500 bg-rose-50 animate-pulse scale-110' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100'}`}
                                                title="音声入力"
                                            >
                                                <Icon name="mic" size={20} />
                                            </button>
                                        </div>
                                    </div>

                                    {/* Label Input */}
                                    <div>
                                        <label className="block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide">
                                            ラベル <span className="font-normal text-gray-300 ml-1">(任意)</span>
                                        </label>
                                        <div className="relative">
                                            <Icon name="tag" size={16} className="absolute left-0 top-3 text-gray-300" />
                                            <input 
                                                type="text" 
                                                placeholder="例：冷凍、開封済、残り半分..." 
                                                className="w-full text-base font-medium border-b-2 border-gray-100 py-2 pl-6 focus:outline-none focus:border-black bg-transparent placeholder-gray-300 transition-colors"
                                                value={inputLabel}
                                                onChange={(e) => setInputLabel(e.target.value)}
                                            />
                                        </div>
                                    </div>

                                    {/* Date Input (Only for Stock related modes) */}
                                    {(!modalMode.includes('Shopping') || modalMode === 'moveFromShopping') && (
                                        <div className="animate-fade-in">
                                            <label className="block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide">期限</label>
                                            <div className="relative">
                                                <input 
                                                    type="date" 
                                                    className={`w-full text-lg font-medium bg-gray-50 rounded-xl pl-4 pr-2 py-3 focus:outline-none focus:ring-2 focus:ring-black/5 ${!inputDate ? 'text-transparent' : 'text-gray-800'}`}
                                                    value={inputDate}
                                                    onChange={(e) => setInputDate(e.target.value)}
                                                />
                                                {/* Custom Placeholder */}
                                                {!inputDate && (
                                                    <span className="absolute left-4 top-1/2 -translate-y-1/2 text-gray-300 pointer-events-none text-base font-medium">
                                                        年 / 月 / 日
                                                    </span>
                                                )}
                                            </div>
                                        </div>
                                    )}

                                    <div className="flex gap-3 mt-6">
                                        <button 
                                            onClick={handleSaveItem}
                                            disabled={!inputName || ((!modalMode.includes('Shopping') || modalMode === 'moveFromShopping') && !inputDate)}
                                            className="w-full bg-black text-white font-bold text-base py-4 rounded-xl shadow-lg shadow-black/20 disabled:opacity-50 disabled:shadow-none active:scale-[0.98] transition-all"
                                        >
                                            {modalMode === 'moveFromShopping' ? '食材リストへ移動' : '保存する'} {/* Modified: Wording change */}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Toast */}
                    {toast.message && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center pointer-events-none">
                            <div className={`absolute inset-0 bg-black/5 backdrop-blur-[1px] transition-opacity ${toast.isExiting ? 'animate-fade-out' : 'animate-fade-in'}`}></div>
                            <div className={`relative bg-white/95 backdrop-blur-xl px-6 py-5 rounded-[2rem] shadow-2xl flex flex-col items-center gap-4 pointer-events-auto max-w-[85%] text-center border border-white/50 ${toast.isExiting ? 'animate-fade-out' : 'animate-pop-in'}`}>
                                
                                <div className="flex items-center gap-3">
                                    <div className="p-2 bg-emerald-50 rounded-full text-emerald-500 shrink-0">
                                        <Icon name={toast.type === "success" ? "check" : "info"} size={24} strokeWidth={3} />
                                    </div>
                                    <span className="text-gray-800 font-bold text-base leading-snug">{toast.message}</span>
                                </div>
                                
                                {toast.actions && toast.actions.length > 0 && (
                                    <div className="flex gap-3 w-full mt-1">
                                        {toast.actions.map((action, index) => (
                                            <button 
                                                key={index}
                                                onClick={action.handler}
                                                className={`
                                                    flex-1 py-2.5 px-4 rounded-xl text-sm font-bold transition-all active:scale-95
                                                    ${action.style === 'primary' 
                                                        ? 'bg-blue-600 text-white shadow-lg shadow-blue-200 hover:bg-blue-700' 
                                                        : 'bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700'}
                                                `}
                                            >
                                                {action.label}
                                            </button>
                                        ))}
                                    </div>
                                )}

                                {/* Close Text Button */}
                                {toast.showCloseText && (
                                    <button 
                                        onClick={() => setToast({ message: null, actions: [] })}
                                        className="mt-1 text-xs font-bold text-gray-400 hover:text-gray-600 py-2 px-4 transition-colors"
                                    >
                                        閉じる
                                    </button>
                                )}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const FoodItem = ({ item, onConsume, onEdit }) => {
            const days = getDaysDiff(item.date);
            const status = getUrgencyStatus(days);
            const [isExiting, setIsExiting] = useState(false);

            const handleComplete = (e) => {
                e.stopPropagation();
                setIsExiting(true);
                setTimeout(() => onConsume(item.id), 300);
            };

            return (
                <div className={`relative group ${isExiting ? 'animate-swipe-out' : 'animate-fade-in'}`}>
                    <div 
                        onClick={onEdit}
                        className="glass-card rounded-xl p-4 flex items-center justify-between shadow-sm transition-transform active:scale-[0.99] cursor-pointer"
                    >
                        <div className="flex items-center gap-4 flex-1">
                            <div className={`w-1.5 h-12 rounded-full ${status.color}`}></div>
                            <div>
                                <div className="flex items-center gap-2 flex-wrap">
                                    <h3 className="font-bold text-gray-800 text-lg leading-tight">{item.name}</h3>
                                    {item.label && (
                                        <span className="text-[10px] font-medium text-gray-500 bg-gray-100 border border-gray-200 px-2 py-0.5 rounded-full whitespace-nowrap">
                                            {item.label}
                                        </span>
                                    )}
                                </div>
                                <div className="flex items-center gap-2 mt-1">
                                    <span className={`text-xs font-bold px-2 py-0.5 rounded-md ${status.bg} ${status.text}`}>
                                        {status.label}
                                    </span>
                                    <span className="text-xs text-gray-400 font-medium tracking-wide">
                                        {formatDate(item.date)}まで
                                    </span>
                                </div>
                            </div>
                        </div>
                        <button 
                            onClick={handleComplete}
                            className="w-10 h-10 rounded-full bg-gray-100 flex-shrink-0 flex items-center justify-center text-gray-400 hover-btn-emerald active:bg-emerald-500 active:text-white transition-all tap-highlight-transparent z-10"
                            aria-label="食べきった"
                        >
                            <Icon name="check" size={20} />
                        </button>
                    </div>
                </div>
            );
        };

        const ShoppingItem = ({ item, onEdit, onDelete, onMove }) => {
            return (
                <div className="glass-card rounded-xl p-4 flex items-center justify-between shadow-sm animate-fade-in cursor-pointer active:scale-[0.99] transition-transform" onClick={onEdit}>
                    <div className="flex items-center gap-3">
                         <div className="p-2 bg-gray-100 rounded-lg text-gray-500">
                             <Icon name="shopping-bag" size={20} />
                         </div>
                         <div>
                            <div className="flex items-center gap-2">
                                <h3 className="font-bold text-gray-800 text-lg">{item.name}</h3>
                                {item.label && (
                                    <span className="text-[10px] font-medium text-gray-500 bg-gray-100 border border-gray-200 px-2 py-0.5 rounded-full whitespace-nowrap">
                                        {item.label}
                                    </span>
                                )}
                            </div>
                         </div>
                    </div>
                    <div className="flex items-center gap-2">
                         <button 
                            onClick={(e) => { e.stopPropagation(); onMove(); }}
                            className="w-10 h-10 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center hover-btn-blue transition-colors"
                            aria-label="食材リストへ移動" // Modified: Wording change
                        >
                            <Icon name="arrow-right" size={20} />
                        </button>
                        <button 
                            onClick={(e) => { e.stopPropagation(); onDelete(); }}
                            className="w-10 h-10 rounded-full bg-gray-50 text-gray-400 flex items-center justify-center hover-btn-rose transition-colors"
                            aria-label="削除"
                        >
                            <Icon name="trash-2" size={18} />
                        </button>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>

</body></html>