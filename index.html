<html lang="ja"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6IjExYjc0YTUyNzgwMDk5ZjEzNDY0MmNlZWM3ZGE4MjNkMTc4MDc2ZjIiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIwNzE1ODkwNzg2MDAyMzE4NTExOCIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjXzYzMTM2NmQ4ZmNmZWU0ODVfaW5kZXguaHRtbC0xOTEifSwiZXhwIjoxNzY1MTc4MDg1LCJpYXQiOjE3NjUxNzQ0ODUsImFsZyI6IlJTMjU2In0.SLn4zhSaVMfoTwFFOHRbgf9kCeGc2lRm5qo3UocEGFtjnbz5Q4BL2XpBrjGf-LsvUrokX873J8uP7trrStPWthp_5LFkls8vxWRF5MFeSQggGqCiD841ofBKCQhCD4HfA12ceOG99KFUWxruN7sRMBL4_AAdbdrqxPrVFeSlnTaHYMMLDlzZIZ2cJQE4chvjpTIR6DGs32eHe907MSa3aUz_cm70w-9Ef81MwVNEAnNKcX9Zy8ZyXgL27k8KpwCqinun1uj3IS5X9mz2UszWkAEbGG6_cWObgPNoOe-48q8JwIQFXPrzim-uhflQ-1gQyJGe_TQ4J0bv1Iouv7uuAA","c_631366d8fcfee485_index.html-191")</script><script>'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash-preview-09-2025","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-2.5-flash-image-preview","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- iOS PWA Settings -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="モッタイナイナー">

    <title>モッタイナイナー - 共有機能付き</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin="anonymous" src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    
    <!-- Firebase SDKs (Compat version) -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"M PLUS Rounded 1c"', '"Noto Sans JP"', 'sans-serif'],
                        mono: ['"Roboto Mono"', 'monospace'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.2s ease-out forwards',
                        'slide-up': 'slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'slide-down': 'slideDown 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards',
                        'pop-in': 'popIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'swipe-out': 'swipeOut 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards',
                        'fade-out': 'fadeOut 0.5s ease-out forwards',
                        'scale-in': 'scaleIn 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'bounce-slight': 'bounceSlight 2s infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'scale(0.95)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(100%)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        slideDown: {
                            '0%': { transform: 'translateY(0)', opacity: '1' },
                            '100%': { transform: 'translateY(100%)', opacity: '0' },
                        },
                        popIn: {
                            '0%': { opacity: '0', transform: 'scale(0.8) translateY(10px)' },
                            '100%': { opacity: '1', transform: 'scale(1) translateY(0)' },
                        },
                        swipeOut: {
                            '100%': { transform: 'translateX(-100%)', opacity: '0', height: '0', margin: '0', padding: '0' },
                        },
                        fadeOut: {
                            '0%': { opacity: '1', transform: 'scale(1)' },
                            '100%': { opacity: '0', transform: 'scale(0.95)' },
                        },
                        scaleIn: {
                            '0%': { opacity: '0', transform: 'scale(0.8)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        },
                        bounceSlight: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest" crossorigin="anonymous"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&amp;family=M+PLUS+Rounded+1c:wght@700&amp;family=Roboto+Mono:wght@500&amp;display=swap" rel="stylesheet">

    <style>
        /* Base Setup */
        body {
            font-family: "M PLUS Rounded 1c", "Noto Sans JP", sans-serif;
            background-color: #F5F5F7;
            color: #1D1D1F;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overscroll-behavior-y: none;
            -webkit-user-select: none;
            user-select: none;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .glass-float {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 4px 20px -2px rgba(0, 0, 0, 0.05);
        }

        input, select, textarea {
            font-size: 16px !important;
            -webkit-user-select: text;
            user-select: text;
        }
        
        .tap-highlight-transparent {
            -webkit-tap-highlight-color: transparent;
        }
        
        input[type="date"] {
            -webkit-appearance: none;
            appearance: none;
            min-height: 52px;
            background-color: #F9FAFB;
        }
        input[type="date"]::-webkit-date-and-time-value {
            text-align: left;
            margin-top: auto;
            margin-bottom: auto;
        }

        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }

        @media (hover: hover) {
            .hover-btn-emerald:hover {
                background-color: #d1fae5;
                color: #059669;
            }
            .hover-btn-rose:hover {
                background-color: #ffe4e6;
                color: #f43f5e;
            }
            .hover-btn-blue:hover {
                background-color: #dbeafe;
            }
            .hover-btn-close:hover {
                color: #4b5563;
            }
        }
        
        /* Custom Scrollbar for Help */
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: rgba(0,0,0,0.1);
            border-radius: 20px;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:"M PLUS Rounded 1c", "Noto Sans JP", sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:"Roboto Mono", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.relative{position:relative}.inset-0{inset:0px}.bottom-8{bottom:2rem}.left-1\/2{left:50%}.top-0{top:0px}.z-20{z-index:20}.z-40{z-index:40}.z-\[100\]{z-index:100}.mx-2{margin-left:0.5rem;margin-right:0.5rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-0{margin-left:0px}.mt-12{margin-top:3rem}.mt-2{margin-top:0.5rem}.flex{display:flex}.h-1\.5{height:0.375rem}.h-12{height:3rem}.h-6{height:1.5rem}.h-9{height:2.25rem}.min-h-screen{min-height:100vh}.w-1\.5{width:0.375rem}.w-12{width:3rem}.w-28{width:7rem}.w-6{width:1.5rem}.w-9{width:2.25rem}.w-auto{width:auto}.w-full{width:100%}.max-w-\[95vw\]{max-width:95vw}.max-w-md{max-width:28rem}.flex-shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fadeIn{0%{opacity:0;transform:scale(0.95)}100%{opacity:1;transform:scale(1)}}.animate-fade-in{animation:fadeIn 0.2s ease-out forwards}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite}@keyframes pulse{50%{opacity:.5}}.animate-pulse-slow{animation:pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;user-select:none}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.rounded-full{border-radius:9999px}.border{border-width:1px}.border-\[3px\]{border-width:3px}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-200\/80{border-color:rgb(229 231 235 / 0.8)}.border-t-emerald-400{--tw-border-opacity:1;border-top-color:rgb(52 211 153 / var(--tw-border-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-\[\#F2F2F7\]{--tw-bg-opacity:1;background-color:rgb(242 242 247 / var(--tw-bg-opacity, 1))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-emerald-400{--tw-bg-opacity:1;background-color:rgb(52 211 153 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/60{background-color:rgb(255 255 255 / 0.6)}.bg-white\/80{background-color:rgb(255 255 255 / 0.8)}.px-1\.5{padding-left:0.375rem;padding-right:0.375rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-2\.5{padding-left:0.625rem;padding-right:0.625rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.py-20{padding-top:5rem;padding-bottom:5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pb-20{padding-bottom:5rem}.pb-40{padding-bottom:10rem}.pt-20{padding-top:5rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-\[10px\]{font-size:10px}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.uppercase{text-transform:uppercase}.tracking-tight{letter-spacing:-0.025em}.tracking-wide{letter-spacing:0.025em}.tracking-widest{letter-spacing:0.1em}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.opacity-100{opacity:1}.opacity-40{opacity:0.4}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-\[0_0_5px_rgba\(52\2c 211\2c 153\2c 0\.5\)\]{--tw-shadow:0 0 5px rgba(52,211,153,0.5);--tw-shadow-colored:0 0 5px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.duration-500{transition-duration:500ms}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:text-gray-600:hover{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.active\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\:text-gray-400:active{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.active\:opacity-60:active{opacity:0.6}</style><script>"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
var _excluded = ["id"],
  _excluded2 = ["id"];
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }
function _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = "function" == typeof Symbol ? Symbol : {}, n = r.iterator || "@@iterator", o = r.toStringTag || "@@toStringTag"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, "_invoke", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError("Generator is already running"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = "next"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i["return"]) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, "constructor", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", _regeneratorDefine2(GeneratorFunctionPrototype, o, "GeneratorFunction"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, "Generator"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, "toString", function () { return "[object Generator]"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }
function _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, "", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o("next", 0), o("throw", 1), o("return", 2)); }, _regeneratorDefine2(e, r, n, t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
var _React = React,
  useState = _React.useState,
  useEffect = _React.useEffect,
  useMemo = _React.useMemo,
  useRef = _React.useRef;

// Firebase Initialization
var firebaseConfig = window.__firebase_config ? JSON.parse(window.__firebase_config) : {};
var appId = window.__app_id || 'default-app-id';
if (!firebase.apps.length) {
  firebase.initializeApp(firebaseConfig);
}
var auth = firebase.auth();
var db = firebase.firestore();

// --- Helpers ---
var Icon = function Icon(_ref) {
  var name = _ref.name,
    _ref$size = _ref.size,
    size = _ref$size === void 0 ? 24 : _ref$size,
    _ref$className = _ref.className,
    className = _ref$className === void 0 ? "" : _ref$className;
  useEffect(function () {
    if (window.lucide) window.lucide.createIcons();
  }, [name]);
  return /*#__PURE__*/React.createElement("i", {
    "data-lucide": name,
    width: size,
    height: size,
    className: className
  });
};
var getDaysDiff = function getDaysDiff(targetDate) {
  var today = new Date();
  today.setHours(0, 0, 0, 0);
  var target = new Date(targetDate);
  target.setHours(0, 0, 0, 0);
  var diffTime = target - today;
  return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
};
var formatDate = function formatDate(dateStr) {
  if (!dateStr) return "";
  var date = new Date(dateStr);
  return "".concat(date.getMonth() + 1, "/").concat(date.getDate());
};
var getTodayString = function getTodayString() {
  var now = new Date();
  var days = ['日', '月', '火', '水', '木', '金', '土'];
  return "".concat(now.getMonth() + 1, "\u6708").concat(now.getDate(), "\u65E5 (").concat(days[now.getDay()], ")");
};
var getUrgencyStatus = function getUrgencyStatus(days) {
  if (days < 0) return {
    color: "bg-rose-500",
    text: "text-rose-600",
    bg: "bg-rose-50",
    label: "期限切れ"
  };
  if (days === 0) return {
    color: "bg-orange-500",
    text: "text-orange-600",
    bg: "bg-orange-50",
    label: "今日まで"
  };
  if (days <= 2) return {
    color: "bg-amber-400",
    text: "text-amber-600",
    bg: "bg-amber-50",
    label: "あと" + days + "日"
  };
  if (days <= 5) return {
    color: "bg-yellow-400",
    text: "text-yellow-700",
    bg: "bg-yellow-50",
    label: "あと" + days + "日"
  };
  return {
    color: "bg-emerald-400",
    text: "text-emerald-600",
    bg: "bg-emerald-50",
    label: "あと" + days + "日"
  };
};
var generateGroupId = function generateGroupId() {
  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
  var result = '';
  for (var i = 0; i < 6; i++) {
    result += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  return result;
};
var generateDeviceId = function generateDeviceId() {
  return 'dev_' + Math.random().toString(36).substring(2, 15);
};

// --- Main App Component ---
var App = function App() {
  var _useState = useState(null),
    _useState2 = _slicedToArray(_useState, 2),
    user = _useState2[0],
    setUser = _useState2[1];

  // --- ID Management with Migration Logic ---
  var _useState3 = useState(function () {
      var id = localStorage.getItem('freshkeeper_my_id');
      // Recovery logic for lost data after update
      if (!id) {
        var legacyGroupId = localStorage.getItem('freshkeeper_groupId');
        if (legacyGroupId) {
          id = legacyGroupId; // Recover old ID!
        } else {
          id = generateGroupId();
        }
        localStorage.setItem('freshkeeper_my_id', id);
      }
      return id;
    }),
    _useState4 = _slicedToArray(_useState3, 2),
    myId = _useState4[0],
    setMyId = _useState4[1];
  var _useState5 = useState(function () {
      var saved = localStorage.getItem('freshkeeper_current_id');
      if (!saved) {
        // Fallback to legacy groupId if available
        var legacyGroupId = localStorage.getItem('freshkeeper_groupId');
        if (legacyGroupId) {
          saved = legacyGroupId;
        } else {
          saved = myId;
        }
        localStorage.setItem('freshkeeper_current_id', saved);
      }
      return saved;
    }),
    _useState6 = _slicedToArray(_useState5, 2),
    currentId = _useState6[0],
    setCurrentId = _useState6[1];
  var isShared = myId !== currentId;
  var _useState7 = useState(function () {
      var id = localStorage.getItem('freshkeeper_deviceId');
      if (!id) {
        id = generateDeviceId();
        localStorage.setItem('freshkeeper_deviceId', id);
      }
      return id;
    }),
    _useState8 = _slicedToArray(_useState7, 2),
    deviceId = _useState8[0],
    setDeviceId = _useState8[1];
  var _useState9 = useState('stock'),
    _useState0 = _slicedToArray(_useState9, 2),
    currentView = _useState0[0],
    setCurrentView = _useState0[1];
  var _useState1 = useState([]),
    _useState10 = _slicedToArray(_useState1, 2),
    items = _useState10[0],
    setItems = _useState10[1];
  var _useState11 = useState([]),
    _useState12 = _slicedToArray(_useState11, 2),
    shoppingItems = _useState12[0],
    setShoppingItems = _useState12[1];

  // Loading State
  var _useState13 = useState(true),
    _useState14 = _slicedToArray(_useState13, 2),
    isLoading = _useState14[0],
    setIsLoading = _useState14[1];
  var _useState15 = useState(false),
    _useState16 = _slicedToArray(_useState15, 2),
    isItemsLoaded = _useState16[0],
    setIsItemsLoaded = _useState16[1];
  var _useState17 = useState(false),
    _useState18 = _slicedToArray(_useState17, 2),
    isShoppingLoaded = _useState18[0],
    setIsShoppingLoaded = _useState18[1];
  var _useState19 = useState(false),
    _useState20 = _slicedToArray(_useState19, 2),
    isMigrating = _useState20[0],
    setIsMigrating = _useState20[1];

  // Notification States
  var _useState21 = useState(0),
    _useState22 = _slicedToArray(_useState21, 2),
    newStockCount = _useState22[0],
    setNewStockCount = _useState22[1];
  var _useState23 = useState(0),
    _useState24 = _slicedToArray(_useState23, 2),
    newShoppingCount = _useState24[0],
    setNewShoppingCount = _useState24[1];
  var _useState25 = useState(false),
    _useState26 = _slicedToArray(_useState25, 2),
    showUpdateToast = _useState26[0],
    setShowUpdateToast = _useState26[1];
  var _useState27 = useState(false),
    _useState28 = _slicedToArray(_useState27, 2),
    isUpdateToastExiting = _useState28[0],
    setIsUpdateToastExiting = _useState28[1];
  var prevStockCountRef = useRef(0);
  var prevShoppingCountRef = useRef(0);
  var lastVisitRef = useRef(localStorage.getItem('freshkeeper_last_visit') || new Date(0).toISOString());

  // Modal & Input States
  var _useState29 = useState(null),
    _useState30 = _slicedToArray(_useState29, 2),
    modalMode = _useState30[0],
    setModalMode = _useState30[1];
  var _useState31 = useState(null),
    _useState32 = _slicedToArray(_useState31, 2),
    editingItem = _useState32[0],
    setEditingItem = _useState32[1];
  var _useState33 = useState(''),
    _useState34 = _slicedToArray(_useState33, 2),
    inputName = _useState34[0],
    setInputName = _useState34[1];
  var _useState35 = useState(''),
    _useState36 = _slicedToArray(_useState35, 2),
    inputLabel = _useState36[0],
    setInputLabel = _useState36[1];
  var _useState37 = useState(''),
    _useState38 = _slicedToArray(_useState37, 2),
    inputDate = _useState38[0],
    setInputDate = _useState38[1];

  // UI States
  var _useState39 = useState(false),
    _useState40 = _slicedToArray(_useState39, 2),
    isCalcOpen = _useState40[0],
    setIsCalcOpen = _useState40[1];
  var _useState41 = useState(false),
    _useState42 = _slicedToArray(_useState41, 2),
    isShareModalOpen = _useState42[0],
    setIsShareModalOpen = _useState42[1];
  var _useState43 = useState({
      message: null,
      actions: []
    }),
    _useState44 = _slicedToArray(_useState43, 2),
    toast = _useState44[0],
    setToast = _useState44[1];
  var _useState45 = useState(0),
    _useState46 = _slicedToArray(_useState45, 2),
    footerTapCount = _useState46[0],
    setFooterTapCount = _useState46[1];

  // Auth Initialization
  useEffect(function () {
    var initAuth = /*#__PURE__*/function () {
      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {
        return _regenerator().w(function (_context) {
          while (1) switch (_context.n) {
            case 0:
              if (!window.__initial_auth_token) {
                _context.n = 2;
                break;
              }
              _context.n = 1;
              return auth.signInWithCustomToken(window.__initial_auth_token);
            case 1:
              _context.n = 3;
              break;
            case 2:
              _context.n = 3;
              return auth.signInAnonymously();
            case 3:
              return _context.a(2);
          }
        }, _callee);
      }));
      return function initAuth() {
        return _ref2.apply(this, arguments);
      };
    }();
    initAuth();
    var unsubscribe = auth.onAuthStateChanged(function (u) {
      if (u) {
        setUser(u);
        // Ensure legacy groupId is preserved for recovery if needed
        if (!localStorage.getItem('freshkeeper_groupId')) {
          localStorage.setItem('freshkeeper_groupId', myId);
        }
      }
    });
    localStorage.setItem('freshkeeper_last_visit', new Date().toISOString());
    return function () {
      return unsubscribe();
    };
  }, []);

  // Handle Loading State
  useEffect(function () {
    if (isItemsLoaded && isShoppingLoaded) {
      var timer = setTimeout(function () {
        return setIsLoading(false);
      }, 500);
      return function () {
        return clearTimeout(timer);
      };
    }
  }, [isItemsLoaded, isShoppingLoaded]);

  // Firestore Subscriptions
  useEffect(function () {
    if (!user || !currentId) return;
    var lastVisit = lastVisitRef.current;

    // Items Collection
    var itemsRef = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items');
    var unsubscribeItems = itemsRef.onSnapshot(function (snapshot) {
      var fetchedItems = [];
      var newCount = 0;
      snapshot.forEach(function (doc) {
        var data = doc.data();
        if (data.groupId === currentId) {
          fetchedItems.push(_objectSpread({
            id: doc.id
          }, data));
          var isNew = data.createdAt > lastVisit;
          var isNotMine = data.deviceId ? data.deviceId !== deviceId : data.createdBy !== user.uid;
          if (isNew && isNotMine) {
            newCount++;
          }
        }
      });
      setItems(fetchedItems);
      setIsItemsLoaded(true);
      setNewStockCount(newCount);
    }, function (error) {
      return console.error("Items fetch error:", error);
    });

    // Shopping Items Collection
    var shoppingRef = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping');
    var unsubscribeShopping = shoppingRef.onSnapshot(function (snapshot) {
      var fetchedShopping = [];
      var newCount = 0;
      snapshot.forEach(function (doc) {
        var data = doc.data();
        if (data.groupId === currentId) {
          fetchedShopping.push(_objectSpread({
            id: doc.id
          }, data));
          var isNew = data.createdAt > lastVisit;
          var isNotMine = data.deviceId ? data.deviceId !== deviceId : data.createdBy !== user.uid;
          if (isNew && isNotMine) {
            newCount++;
          }
        }
      });
      setShoppingItems(fetchedShopping);
      setIsShoppingLoaded(true);
      setNewShoppingCount(newCount);
    }, function (error) {
      return console.error("Shopping fetch error:", error);
    });
    return function () {
      unsubscribeItems();
      unsubscribeShopping();
    };
  }, [user, currentId, deviceId]);

  // Handle Notification Toast (ONLY when counts increase)
  useEffect(function () {
    var prevStock = prevStockCountRef.current;
    var prevShopping = prevShoppingCountRef.current;
    var isStockIncreased = newStockCount > prevStock;
    var isShoppingIncreased = newShoppingCount > prevShopping;
    prevStockCountRef.current = newStockCount;
    prevShoppingCountRef.current = newShoppingCount;
    if (isStockIncreased && newStockCount > 0 || isShoppingIncreased && newShoppingCount > 0) {
      setShowUpdateToast(true);
      setIsUpdateToastExiting(false);
      var displayTimer = setTimeout(function () {
        setIsUpdateToastExiting(true);
      }, 2500);
      var removeTimer = setTimeout(function () {
        setShowUpdateToast(false);
        setIsUpdateToastExiting(false);
      }, 3000);
      return function () {
        clearTimeout(displayTimer);
        clearTimeout(removeTimer);
      };
    }
  }, [newStockCount, newShoppingCount]);
  useEffect(function () {
    if (window.lucide) window.lucide.createIcons();
  }, [items, shoppingItems, modalMode, isCalcOpen, isShareModalOpen, showUpdateToast, isLoading]);

  // --- Actions ---

  var handleSaveItem = /*#__PURE__*/function () {
    var _ref3 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {
      var needsDate, commonData, _t;
      return _regenerator().w(function (_context2) {
        while (1) switch (_context2.p = _context2.n) {
          case 0:
            if (!(!inputName || !user || !currentId)) {
              _context2.n = 1;
              break;
            }
            return _context2.a(2);
          case 1:
            needsDate = !modalMode.includes('Shopping') || modalMode === 'moveFromShopping';
            if (!(needsDate && !inputDate)) {
              _context2.n = 2;
              break;
            }
            return _context2.a(2);
          case 2:
            commonData = {
              groupId: currentId,
              // Save to current view
              createdBy: user.uid,
              deviceId: deviceId,
              name: inputName,
              label: inputLabel,
              createdAt: new Date().toISOString()
            };
            _context2.p = 3;
            if (!(modalMode === 'add')) {
              _context2.n = 5;
              break;
            }
            _context2.n = 4;
            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items').add(_objectSpread(_objectSpread({}, commonData), {}, {
              date: inputDate
            }));
          case 4:
            showToast("食材を追加しました");
            window.scrollTo({
              top: 0,
              behavior: 'smooth'
            });
            _context2.n = 14;
            break;
          case 5:
            if (!(modalMode === 'edit' && editingItem)) {
              _context2.n = 7;
              break;
            }
            _context2.n = 6;
            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items').doc(editingItem.id).update({
              name: inputName,
              label: inputLabel,
              date: inputDate
            });
          case 6:
            showToast("情報を更新しました");
            _context2.n = 14;
            break;
          case 7:
            if (!(modalMode === 'addShopping')) {
              _context2.n = 9;
              break;
            }
            _context2.n = 8;
            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').add(commonData);
          case 8:
            showToast("買い物メモに追加しました");
            window.scrollTo({
              top: 0,
              behavior: 'smooth'
            });
            _context2.n = 14;
            break;
          case 9:
            if (!(modalMode === 'editShopping' && editingItem)) {
              _context2.n = 11;
              break;
            }
            _context2.n = 10;
            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').doc(editingItem.id).update({
              name: inputName,
              label: inputLabel
            });
          case 10:
            showToast("メモを更新しました");
            _context2.n = 14;
            break;
          case 11:
            if (!(modalMode === 'moveFromShopping' && editingItem)) {
              _context2.n = 14;
              break;
            }
            _context2.n = 12;
            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items').add(_objectSpread(_objectSpread({}, commonData), {}, {
              date: inputDate
            }));
          case 12:
            _context2.n = 13;
            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').doc(editingItem.id)["delete"]();
          case 13:
            showToast("食材リストに移動しました！🧊");
            window.scrollTo({
              top: 0,
              behavior: 'smooth'
            });
          case 14:
            _context2.n = 16;
            break;
          case 15:
            _context2.p = 15;
            _t = _context2.v;
            console.error("Error saving:", _t);
            showToast("エラーが発生しました");
          case 16:
            closeModal();
          case 17:
            return _context2.a(2);
        }
      }, _callee2, null, [[3, 15]]);
    }));
    return function handleSaveItem() {
      return _ref3.apply(this, arguments);
    };
  }();
  var handleDeleteItem = /*#__PURE__*/function () {
    var _ref4 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6(id) {
      var isShopping,
        collectionName,
        itemToDelete,
        message,
        randomMsg,
        _args6 = arguments,
        _t2;
      return _regenerator().w(function (_context6) {
        while (1) switch (_context6.p = _context6.n) {
          case 0:
            isShopping = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : false;
            if (user) {
              _context6.n = 1;
              break;
            }
            return _context6.a(2);
          case 1:
            _context6.p = 1;
            collectionName = isShopping ? 'freshkeeper_shopping' : 'freshkeeper_items';
            itemToDelete = isShopping ? shoppingItems.find(function (i) {
              return i.id === id;
            }) : items.find(function (i) {
              return i.id === id;
            });
            _context6.n = 2;
            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection(collectionName).doc(id)["delete"]();
          case 2:
            window.scrollTo({
              top: 0,
              behavior: 'smooth'
            });
            if (isShopping) {
              message = "リストから削除しました";
              setToast({
                message: message,
                type: "info",
                actions: [{
                  label: "元に戻す",
                  handler: function () {
                    var _handler = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {
                      var id, data;
                      return _regenerator().w(function (_context3) {
                        while (1) switch (_context3.n) {
                          case 0:
                            id = itemToDelete.id, data = _objectWithoutProperties(itemToDelete, _excluded);
                            _context3.n = 1;
                            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection(collectionName).add(data);
                          case 1:
                            setToast({
                              message: "取り消しました",
                              actions: []
                            });
                            setTimeout(function () {
                              return setToast({
                                message: null,
                                actions: []
                              });
                            }, 2000);
                          case 2:
                            return _context3.a(2);
                        }
                      }, _callee3);
                    }));
                    function handler() {
                      return _handler.apply(this, arguments);
                    }
                    return handler;
                  }()
                }]
              });
              setTimeout(function () {
                return setToast(function (prev) {
                  return prev.message === message ? {
                    message: null,
                    actions: []
                  } : prev;
                });
              }, 2500);
            } else {
              randomMsg = "使い切りました！👏";
              setToast({
                message: randomMsg,
                type: "success",
                showCloseText: true,
                actions: [{
                  label: "元に戻す",
                  style: "secondary",
                  handler: function () {
                    var _handler2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4() {
                      var id, data;
                      return _regenerator().w(function (_context4) {
                        while (1) switch (_context4.n) {
                          case 0:
                            id = itemToDelete.id, data = _objectWithoutProperties(itemToDelete, _excluded2);
                            _context4.n = 1;
                            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection(collectionName).add(data);
                          case 1:
                            setToast({
                              message: "取り消しました",
                              actions: []
                            });
                            setTimeout(function () {
                              return setToast({
                                message: null,
                                actions: []
                              });
                            }, 2000);
                          case 2:
                            return _context4.a(2);
                        }
                      }, _callee4);
                    }));
                    function handler() {
                      return _handler2.apply(this, arguments);
                    }
                    return handler;
                  }()
                }, {
                  label: "買い物メモに追加",
                  style: "primary",
                  handler: function () {
                    var _handler3 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5() {
                      return _regenerator().w(function (_context5) {
                        while (1) switch (_context5.n) {
                          case 0:
                            _context5.n = 1;
                            return db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').add({
                              groupId: currentId,
                              createdBy: user.uid,
                              deviceId: deviceId,
                              // Track device
                              name: itemToDelete.name,
                              label: itemToDelete.label,
                              createdAt: new Date().toISOString()
                            });
                          case 1:
                            showToast("買い物メモに追加しました");
                          case 2:
                            return _context5.a(2);
                        }
                      }, _callee5);
                    }));
                    function handler() {
                      return _handler3.apply(this, arguments);
                    }
                    return handler;
                  }()
                }]
              });
              setTimeout(function () {
                return setToast(function (prev) {
                  return prev.message === randomMsg ? {
                    message: null,
                    actions: []
                  } : prev;
                });
              }, 5000);
            }
            _context6.n = 4;
            break;
          case 3:
            _context6.p = 3;
            _t2 = _context6.v;
            console.error("Delete error:", _t2);
          case 4:
            return _context6.a(2);
        }
      }, _callee6, null, [[1, 3]]);
    }));
    return function handleDeleteItem(_x) {
      return _ref4.apply(this, arguments);
    };
  }();
  var openAddModal = function openAddModal() {
    setEditingItem(null);
    setInputName('');
    setInputLabel('');
    if (currentView === 'stock') {
      setModalMode('add');
      setInputDate('');
    } else {
      setModalMode('addShopping');
    }
  };
  var openEditModal = function openEditModal(item) {
    var isShopping = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    setEditingItem(item);
    setInputName(item.name);
    setInputLabel(item.label || '');
    if (isShopping) {
      setModalMode('editShopping');
    } else {
      setModalMode('edit');
      setInputDate(item.date);
    }
  };
  var openMoveModal = function openMoveModal(item) {
    setEditingItem(item);
    setInputName(item.name);
    setInputLabel(item.label || '');
    setInputDate('');
    setModalMode('moveFromShopping');
  };
  var closeModal = function closeModal(e) {
    if (e && e.stopPropagation) e.stopPropagation();
    setModalMode(null);
    setEditingItem(null);
  };
  var showToast = function showToast(message) {
    setToast({
      message: message,
      actions: [],
      isExiting: false
    });
    setTimeout(function () {
      setToast(function (prev) {
        return prev.message === message ? _objectSpread(_objectSpread({}, prev), {}, {
          isExiting: true
        }) : prev;
      });
      setTimeout(function () {
        setToast(function (prev) {
          return prev.message === message && prev.isExiting ? {
            message: null,
            actions: []
          } : prev;
        });
      }, 300);
    }, 1500);
  };
  var sortedItems = useMemo(function () {
    return _toConsumableArray(items).sort(function (a, b) {
      return new Date(a.date) - new Date(b.date);
    });
  }, [items]);
  var handleFooterTap = function handleFooterTap() {
    var now = Date.now();
    if (window.lastTap && now - window.lastTap < 500) {
      var newCount = footerTapCount + 1;
      setFooterTapCount(newCount);
      if (newCount >= 3) {
        downloadHtml();
        setFooterTapCount(0);
      }
    } else {
      setFooterTapCount(1);
    }
    window.lastTap = now;
  };
  var downloadHtml = function downloadHtml() {
    var htmlContent = document.documentElement.outerHTML;
    var blob = new Blob([htmlContent], {
      type: 'text/html'
    });
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a');
    a.href = url;
    a.download = 'Mottainainer_Backup.html';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    showToast("バックアップを作成しました");
  };
  var handleJoinGroup = function handleJoinGroup(targetGroupId) {
    if (targetGroupId && targetGroupId.length >= 4) {
      if (targetGroupId === myId) {
        alert("自分のIDには参加できません");
        return;
      }
      setCurrentId(targetGroupId);
      localStorage.setItem('freshkeeper_current_id', targetGroupId);
      setIsItemsLoaded(false);
      setIsShoppingLoaded(false);
      showToast("グループに参加しました");
      setIsShareModalOpen(false);
    } else {
      alert("IDは4文字以上で入力してください");
    }
  };

  // ID再発行＆データ移行
  var handleRegenerateId = /*#__PURE__*/function () {
    var _ref5 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee7() {
      var newId, batch, count, _t3;
      return _regenerator().w(function (_context7) {
        while (1) switch (_context7.p = _context7.n) {
          case 0:
            newId = generateGroupId();
            if (!confirm("\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u306E\u305F\u3081\u3001ID\u3092\u65B0\u3057\u304F\u300C".concat(newId, "\u300D\u306B\u5909\u66F4\u3057\u307E\u3059\u3002\n\u65E2\u5B58\u306E\u30C7\u30FC\u30BF\u3082\u65B0\u3057\u3044ID\u306B\u5F15\u304D\u7D99\u304C\u308C\u307E\u3059\u3002\n\n\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F"))) {
              _context7.n = 6;
              break;
            }
            setIsMigrating(true);
            _context7.p = 1;
            batch = db.batch();
            count = 0;
            if (!(currentId !== myId)) {
              _context7.n = 2;
              break;
            }
            alert("自分のリストを表示している時のみ、IDの再発行が可能です。");
            setIsMigrating(false);
            return _context7.a(2);
          case 2:
            // Update Stock Items in State
            items.forEach(function (item) {
              if (item.groupId === myId) {
                var ref = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items').doc(item.id);
                batch.update(ref, {
                  groupId: newId
                });
                count++;
              }
            });

            // Update Shopping Items
            shoppingItems.forEach(function (item) {
              if (item.groupId === myId) {
                var ref = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').doc(item.id);
                batch.update(ref, {
                  groupId: newId
                });
                count++;
              }
            });
            if (!(count > 0)) {
              _context7.n = 3;
              break;
            }
            _context7.n = 3;
            return batch.commit();
          case 3:
            // Update Local State
            setMyId(newId);
            localStorage.setItem('freshkeeper_my_id', newId);
            setCurrentId(newId);
            localStorage.setItem('freshkeeper_current_id', newId);
            showToast("IDを新しく再発行しました");
            setIsShareModalOpen(false);
            _context7.n = 5;
            break;
          case 4:
            _context7.p = 4;
            _t3 = _context7.v;
            console.error("Migration error:", _t3);
            alert("IDの変更中にエラーが発生しました。");
          case 5:
            _context7.p = 5;
            setIsMigrating(false);
            return _context7.f(5);
          case 6:
            return _context7.a(2);
        }
      }, _callee7, null, [[1, 4, 5, 6]]);
    }));
    return function handleRegenerateId() {
      return _ref5.apply(this, arguments);
    };
  }();
  var handleLeaveGroup = function handleLeaveGroup() {
    if (window.confirm("共有を解除しますか？\n解除すると、自分のリスト（マイホーム）に戻ります。")) {
      setCurrentId(myId);
      localStorage.setItem('freshkeeper_current_id', myId);
      setIsItemsLoaded(false);
      setIsShoppingLoaded(false);
      showToast("自分のリストに戻りました");
      setIsShareModalOpen(false);
    }
  };

  // Reload for PWA
  var handleReload = function handleReload() {
    if (window.confirm('画面を再読み込みしますか？')) {
      window.location.reload();
    }
  };
  if (!auth) return /*#__PURE__*/React.createElement(LoadingOverlay, {
    isVisible: true
  });
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen pb-40 relative overflow-hidden bg-[#F2F2F7]"
  }, /*#__PURE__*/React.createElement(LoadingOverlay, {
    isVisible: isLoading || isMigrating
  }), /*#__PURE__*/React.createElement("header", {
    className: "fixed top-0 w-full z-20 glass px-6 py-4 flex justify-between items-center transition-all duration-300"
  }, /*#__PURE__*/React.createElement("h1", {
    onClick: handleReload,
    className: "text-base font-bold text-gray-800 tracking-tight flex items-center gap-2 cursor-pointer active:opacity-60 transition-opacity ml-0",
    title: "\u30BF\u30C3\u30D7\u3057\u3066\u518D\u8AAD\u307F\u8FBC\u307F"
  }, "\u30E2\u30C3\u30BF\u30A4\u30CA\u30A4\u30CA\u30FC"), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setIsShareModalOpen(true);
    },
    className: "w-9 h-9 rounded-full border shadow-sm flex items-center justify-center active:scale-95 transition-all ".concat(isShared ? 'bg-blue-50 border-blue-200 text-blue-500' : 'bg-white/80 border-gray-200/80 text-gray-400 hover:text-gray-600'),
    "aria-label": "\u5171\u6709\u8A2D\u5B9A"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "users",
    size: 16
  })), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setIsCalcOpen(true);
    },
    className: "w-9 h-9 rounded-full bg-white/80 border border-gray-200/80 shadow-sm flex items-center justify-center text-gray-500 hover:bg-gray-50 active:scale-95 transition-all",
    "aria-label": "\u5272\u5F15\u8A08\u7B97"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "percent",
    size: 16
  })))), /*#__PURE__*/React.createElement("main", {
    className: "pt-20 px-4 max-w-md mx-auto min-h-screen"
  }, currentView === 'stock' && /*#__PURE__*/React.createElement("div", {
    className: "animate-fade-in"
  }, /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center px-2 mb-3"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xs font-bold text-gray-400 uppercase tracking-widest"
  }, "\u98DF\u6750\u30EA\u30B9\u30C8 (", items.length, ")"), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2 bg-white/60 px-2.5 py-1 rounded-full border border-gray-100 shadow-sm"
  }, /*#__PURE__*/React.createElement("span", {
    className: "w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse shadow-[0_0_5px_rgba(52,211,153,0.5)]"
  }), /*#__PURE__*/React.createElement("span", {
    className: "text-[10px] font-bold text-gray-500 tracking-wide"
  }, getTodayString()))), sortedItems.length === 0 ? /*#__PURE__*/React.createElement("div", {
    className: "text-center py-20 opacity-40"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "package-open",
    size: 48,
    className: "mx-auto mb-4 text-gray-400"
  }), /*#__PURE__*/React.createElement("p", {
    className: "text-sm font-medium text-gray-500"
  }, "\u98DF\u6750\u30EA\u30B9\u30C8\u306F\u7A7A\u3063\u307D\u3067\u3059"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs mt-2 text-gray-400"
  }, "\u304A\u8CB7\u3044\u7269\u3092\u3057\u305F\u3089\u8FFD\u52A0\u3057\u307E\u3057\u3087\u3046")) : sortedItems.map(function (item) {
    return /*#__PURE__*/React.createElement(FoodItem, {
      key: item.id,
      item: item,
      onConsume: function onConsume() {
        return handleDeleteItem(item.id, false);
      },
      onEdit: function onEdit() {
        return openEditModal(item);
      }
    });
  }))), currentView === 'shopping' && /*#__PURE__*/React.createElement("div", {
    className: "animate-fade-in"
  }, /*#__PURE__*/React.createElement("div", {
    className: "px-2 mb-4"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-gray-800 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "shopping-cart",
    className: "text-gray-600"
  }), "\u8CB7\u3044\u7269\u30E1\u30E2"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-gray-400 mt-1"
  }, "\u5FC5\u8981\u306A\u3082\u306E\u3092\u30E1\u30E2\u3057\u3066\u304A\u304D\u307E\u3057\u3087\u3046")), /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, shoppingItems.length === 0 ? /*#__PURE__*/React.createElement("div", {
    className: "text-center py-20 opacity-40"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "clipboard-list",
    size: 48,
    className: "mx-auto mb-4 text-gray-400"
  }), /*#__PURE__*/React.createElement("p", {
    className: "text-sm font-medium text-gray-500"
  }, "\u8CB7\u3046\u3082\u306E\u306F\u3042\u308A\u307E\u305B\u3093"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs mt-2 text-gray-400"
  }, "\uFF0B\u30DC\u30BF\u30F3\u3067\u30E1\u30E2\u3092\u8FFD\u52A0")) : shoppingItems.map(function (item) {
    return /*#__PURE__*/React.createElement(ShoppingItem, {
      key: item.id,
      item: item,
      onEdit: function onEdit() {
        return openEditModal(item, true);
      },
      onDelete: function onDelete() {
        return handleDeleteItem(item.id, true);
      },
      onMove: function onMove() {
        return openMoveModal(item);
      }
    });
  }))), /*#__PURE__*/React.createElement("div", {
    className: "mt-12 mb-8 text-center"
  }, /*#__PURE__*/React.createElement("p", {
    onClick: handleFooterTap,
    className: "text-[10px] text-gray-300 font-medium tracking-widest uppercase cursor-pointer select-none active:text-gray-400 transition-colors"
  }, "Love food, hate waste."))), /*#__PURE__*/React.createElement("div", {
    className: "fixed bottom-8 left-1/2 transform -translate-x-1/2 z-40 w-auto max-w-[95vw]"
  }, /*#__PURE__*/React.createElement("div", {
    className: "glass-float px-1.5 py-1.5 rounded-full shadow-2xl flex items-center"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setCurrentView('stock');
    },
    className: "flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 ".concat(currentView === 'stock' ? 'bg-white text-gray-900 border border-gray-200 shadow-sm' : 'text-gray-400 hover:text-gray-600')
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "refrigerator",
    size: 20,
    strokeWidth: currentView === 'stock' ? 2.5 : 2
  }), /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold"
  }, "\u98DF\u6750\u30EA\u30B9\u30C8")), /*#__PURE__*/React.createElement("button", {
    onClick: openAddModal,
    className: "w-12 h-12 mx-2 text-white rounded-full shadow-lg flex-shrink-0 flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-300 tap-highlight-transparent ".concat(currentView === 'shopping' ? 'bg-blue-600' : 'bg-black'),
    "aria-label": "\u8FFD\u52A0"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "plus",
    size: 24,
    strokeWidth: 3
  })), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setCurrentView('shopping');
    },
    className: "flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 ".concat(currentView === 'shopping' ? 'bg-white text-blue-600 border border-blue-100 shadow-sm' : 'text-gray-400 hover:text-gray-600')
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "shopping-cart",
    size: 20,
    strokeWidth: currentView === 'shopping' ? 2.5 : 2
  }), /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold"
  }, "\u8CB7\u3044\u7269")))), /*#__PURE__*/React.createElement(UpdateToast, {
    stockCount: newStockCount,
    shoppingCount: newShoppingCount,
    isVisible: showUpdateToast,
    isExiting: isUpdateToastExiting,
    onClose: function onClose() {
      return setShowUpdateToast(false);
    }
  }), modalMode && /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-50 flex items-center justify-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity",
    onClick: closeModal
  }), /*#__PURE__*/React.createElement("div", {
    className: "bg-white w-full max-w-md rounded-[2rem] p-6 shadow-2xl animate-slide-up relative z-10 m-4 pb-6"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: closeModal,
    className: "absolute top-6 right-6 text-gray-400 hover-btn-close bg-gray-100 p-2 rounded-full transition-colors z-20 bg-transparent"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "x",
    size: 20,
    className: "pointer-events-none"
  })), /*#__PURE__*/React.createElement("div", {
    className: "w-12 h-1 bg-gray-200 rounded-full mx-auto mb-6"
  }), /*#__PURE__*/React.createElement("h3", {
    className: "text-xl font-bold text-gray-900 mb-6 flex items-center gap-2 pr-8"
  }, modalMode === 'moveFromShopping' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Icon, {
    name: "arrow-right-circle",
    size: 20,
    className: "text-blue-500"
  }), "\u98DF\u6750\u30EA\u30B9\u30C8\u3078\u79FB\u52D5") : modalMode.includes('Shopping') ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Icon, {
    name: "shopping-cart",
    size: 20
  }), modalMode === 'addShopping' ? 'メモを追加' : 'メモを編集') : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Icon, {
    name: modalMode === 'add' ? "shopping-bag" : "edit-3",
    size: 20
  }), modalMode === 'add' ? '食材を追加' : '情報を編集')), /*#__PURE__*/React.createElement("div", {
    className: "space-y-5"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide"
  }, "\u540D\u524D"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "\u4F8B\uFF1A\u725B\u4E73\u3001\u8C46\u8150...",
    className: "w-full text-lg font-medium border-b-2 border-gray-100 py-2 focus:outline-none focus:border-black bg-transparent placeholder-gray-300 transition-colors",
    value: inputName,
    onChange: function onChange(e) {
      return setInputName(e.target.value);
    },
    autoFocus: modalMode === 'add' || modalMode === 'addShopping'
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide"
  }, "\u30E9\u30D9\u30EB ", /*#__PURE__*/React.createElement("span", {
    className: "font-normal text-gray-300 ml-1"
  }, "(\u4EFB\u610F)")), /*#__PURE__*/React.createElement("div", {
    className: "relative"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "tag",
    size: 16,
    className: "absolute left-0 top-3 text-gray-300"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "\u4F8B\uFF1A\u51B7\u51CD\u3001\u958B\u5C01\u6E08\u3001\u6B8B\u308A\u534A\u5206...",
    className: "w-full text-base font-medium border-b-2 border-gray-100 py-2 pl-6 focus:outline-none focus:border-black bg-transparent placeholder-gray-300 transition-colors",
    value: inputLabel,
    onChange: function onChange(e) {
      return setInputLabel(e.target.value);
    }
  }))), (!modalMode.includes('Shopping') || modalMode === 'moveFromShopping') && /*#__PURE__*/React.createElement("div", {
    className: "animate-fade-in"
  }, /*#__PURE__*/React.createElement("label", {
    className: "block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide"
  }, "\u671F\u9650"), /*#__PURE__*/React.createElement("div", {
    className: "relative"
  }, /*#__PURE__*/React.createElement("input", {
    type: "date",
    className: "w-full text-lg font-medium bg-gray-50 rounded-xl pl-4 pr-2 py-3 focus:outline-none focus:ring-2 focus:ring-black/5 ".concat(!inputDate ? 'text-transparent' : 'text-gray-800'),
    value: inputDate,
    onChange: function onChange(e) {
      return setInputDate(e.target.value);
    }
  }), !inputDate && /*#__PURE__*/React.createElement("span", {
    className: "absolute left-4 top-1/2 -translate-y-1/2 text-gray-300 pointer-events-none text-base font-medium"
  }, "\u5E74 / \u6708 / \u65E5"))), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-3 mt-6"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: handleSaveItem,
    disabled: !inputName || (!modalMode.includes('Shopping') || modalMode === 'moveFromShopping') && !inputDate,
    className: "w-full bg-black text-white font-bold text-base py-4 rounded-xl shadow-lg shadow-black/20 disabled:opacity-50 disabled:shadow-none active:scale-[0.98] transition-all"
  }, modalMode === 'moveFromShopping' ? '食材リストへ移動' : '保存する'))))), isCalcOpen && /*#__PURE__*/React.createElement(CalculatorModal, {
    onClose: function onClose() {
      return setIsCalcOpen(false);
    }
  }), isShareModalOpen && /*#__PURE__*/React.createElement(ShareModal, {
    myId: myId,
    currentId: currentId,
    isShared: isShared,
    onClose: function onClose() {
      return setIsShareModalOpen(false);
    },
    onJoin: handleJoinGroup,
    onRegenerate: handleRegenerateId,
    onLeave: handleLeaveGroup
  }), toast.message && /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-50 flex items-center justify-center pointer-events-none"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-black/5 backdrop-blur-[1px] transition-opacity ".concat(toast.isExiting ? 'animate-fade-out' : 'animate-fade-in')
  }), /*#__PURE__*/React.createElement("div", {
    className: "relative bg-white/95 backdrop-blur-xl px-6 py-5 rounded-[2rem] shadow-2xl flex flex-col items-center gap-4 pointer-events-auto max-w-[85%] text-center border border-white/50 ".concat(toast.isExiting ? 'animate-fade-out' : 'animate-pop-in')
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-2 bg-emerald-50 rounded-full text-emerald-500 shrink-0"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: toast.type === "success" ? "check" : "info",
    size: 24,
    strokeWidth: 3
  })), /*#__PURE__*/React.createElement("span", {
    className: "text-gray-800 font-bold text-base leading-snug"
  }, toast.message)), toast.actions && toast.actions.length > 0 && /*#__PURE__*/React.createElement("div", {
    className: "flex gap-3 w-full mt-1"
  }, toast.actions.map(function (action, index) {
    return /*#__PURE__*/React.createElement("button", {
      key: index,
      onClick: action.handler,
      className: "flex-1 py-2.5 px-4 rounded-xl text-sm font-bold transition-all active:scale-95 ".concat(action.style === 'primary' ? 'bg-blue-600 text-white shadow-lg shadow-blue-200 hover:bg-blue-700' : 'bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700')
    }, action.label);
  })), toast.showCloseText && /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setToast({
        message: null,
        actions: []
      });
    },
    className: "mt-1 text-xs font-bold text-gray-400 hover:text-gray-600 py-2 px-4 transition-colors"
  }, "\u9589\u3058\u308B"))));
};

// --- Loading Overlay ---
var LoadingOverlay = function LoadingOverlay(_ref6) {
  var isVisible = _ref6.isVisible;
  if (!isVisible) return null;
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-[100] bg-[#F2F2F7] flex items-center justify-center transition-opacity duration-500 ".concat(isVisible ? 'opacity-100' : 'opacity-0 pointer-events-none')
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col items-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "text-2xl font-bold text-gray-800 tracking-tight flex items-center gap-2 mb-6 animate-pulse-slow"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "refrigerator",
    size: 28,
    strokeWidth: 2.5
  }), "\u30E2\u30C3\u30BF\u30A4\u30CA\u30A4\u30CA\u30FC"), /*#__PURE__*/React.createElement("div", {
    className: "w-6 h-6 border-[3px] border-gray-200 border-t-emerald-400 rounded-full animate-spin"
  })));
};

// --- Update Toast Component ---
var UpdateToast = function UpdateToast(_ref7) {
  var stockCount = _ref7.stockCount,
    shoppingCount = _ref7.shoppingCount,
    isVisible = _ref7.isVisible,
    isExiting = _ref7.isExiting,
    onClose = _ref7.onClose;
  if (!isVisible || stockCount === 0 && shoppingCount === 0) return null;
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed top-24 left-0 right-0 z-50 flex justify-center pointer-events-none px-4 transition-all duration-500 ".concat(isExiting ? 'opacity-0 translate-y-[-10px]' : 'opacity-100 animate-pop-in')
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-800/95 backdrop-blur-md text-white py-3 pl-5 pr-3 rounded-full shadow-2xl flex items-center gap-4 pointer-events-auto border border-white/10 ring-1 ring-black/5"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-3 text-sm font-medium"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-400 text-xs font-bold"
  }, "\u8FFD\u52A0\u3055\u308C\u307E\u3057\u305F"), /*#__PURE__*/React.createElement("div", {
    className: "w-px h-4 bg-gray-600"
  }), stockCount > 0 && /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-1.5 text-emerald-400"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "refrigerator",
    size: 16
  }), /*#__PURE__*/React.createElement("span", {
    className: "font-bold text-base"
  }, stockCount)), stockCount > 0 && shoppingCount > 0 && /*#__PURE__*/React.createElement("div", {
    className: "w-1 h-1 rounded-full bg-gray-600"
  }), shoppingCount > 0 && /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-1.5 text-blue-400"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "shopping-cart",
    size: 16
  }), /*#__PURE__*/React.createElement("span", {
    className: "font-bold text-base"
  }, shoppingCount))), /*#__PURE__*/React.createElement("button", {
    onClick: onClose,
    className: "ml-2 p-1.5 -mr-1 rounded-full bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-white transition-colors"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "x",
    size: 14
  }))));
};

// --- Share Modal ---
var ShareModal = function ShareModal(_ref8) {
  var myId = _ref8.myId,
    currentId = _ref8.currentId,
    isShared = _ref8.isShared,
    onClose = _ref8.onClose,
    onJoin = _ref8.onJoin,
    onRegenerate = _ref8.onRegenerate,
    onLeave = _ref8.onLeave;
  var _useState47 = useState(''),
    _useState48 = _slicedToArray(_useState47, 2),
    inputGroupId = _useState48[0],
    setInputGroupId = _useState48[1];
  var _useState49 = useState(false),
    _useState50 = _slicedToArray(_useState49, 2),
    isClosing = _useState50[0],
    setIsClosing = _useState50[1];
  var _useState51 = useState('main'),
    _useState52 = _slicedToArray(_useState51, 2),
    view = _useState52[0],
    setView = _useState52[1]; // 'main' or 'help'
  var _useState53 = useState(false),
    _useState54 = _slicedToArray(_useState53, 2),
    copyFeedback = _useState54[0],
    setCopyFeedback = _useState54[1];
  var handleClose = function handleClose() {
    setIsClosing(true);
    setTimeout(onClose, 300);
  };
  var handleCopy = function handleCopy() {
    var el = document.createElement('textarea');
    el.value = myId;
    document.body.appendChild(el);
    el.select();
    document.execCommand('copy');
    document.body.removeChild(el);
    setCopyFeedback(true);
    setTimeout(function () {
      return setCopyFeedback(false);
    }, 2000);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-50 flex items-center justify-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity ".concat(isClosing ? 'animate-fade-out' : 'animate-fade-in'),
    onClick: handleClose
  }), /*#__PURE__*/React.createElement("div", {
    className: "bg-white w-full max-w-md rounded-[2rem] p-0 shadow-2xl relative z-10 m-4 overflow-hidden border border-white/50 animate-pop-in ".concat(isClosing ? 'animate-fade-out' : '')
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-50 p-4 flex justify-between items-center border-b border-gray-100 relative"
  }, view === 'help' && /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setView('main');
    },
    className: "absolute left-4 p-1.5 -ml-1.5 text-gray-500 hover:text-gray-800 rounded-full hover:bg-gray-200 transition-colors"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "chevron-left",
    size: 24
  })), /*#__PURE__*/React.createElement("h3", {
    className: "font-bold text-gray-800 flex items-center gap-2 ".concat(view === 'help' ? 'mx-auto' : '')
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-blue-100 p-1.5 rounded-lg text-blue-600"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: view === 'main' ? "users" : "help-circle",
    size: 18
  })), view === 'main' ? '共有設定' : 'ヘルプ'), /*#__PURE__*/React.createElement("button", {
    onClick: handleClose,
    className: "p-2 text-gray-400 hover:text-gray-600 bg-white rounded-full hover:bg-gray-100 transition-colors shadow-sm z-10"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "x",
    size: 18
  }))), /*#__PURE__*/React.createElement("div", {
    className: "p-6 max-h-[70vh] overflow-y-auto custom-scrollbar"
  }, view === 'main' ? /*#__PURE__*/React.createElement("div", {
    key: "main",
    className: "animate-fade-in space-y-8"
  }, /*#__PURE__*/React.createElement("div", {
    className: "space-y-2"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-end px-1"
  }, /*#__PURE__*/React.createElement("label", {
    className: "text-xs font-bold text-gray-400 uppercase tracking-widest"
  }, "\u3042\u306A\u305F\u306EID"), /*#__PURE__*/React.createElement("button", {
    onClick: onRegenerate,
    className: "text-[10px] text-gray-400 hover:text-gray-600 flex items-center gap-1 hover:bg-gray-100 px-2 py-1 rounded transition-colors",
    title: "ID\u3092\u65B0\u3057\u304F\u4F5C\u308A\u76F4\u3059"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "refresh-cw",
    size: 10
  }), " \u518D\u767A\u884C")), /*#__PURE__*/React.createElement("div", {
    onClick: handleCopy,
    className: "relative bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100 rounded-2xl p-5 text-center cursor-pointer group hover:shadow-md transition-all active:scale-[0.98]"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-blue-400 mb-1"
  }, "\u3053\u306EID\u3092\u30D1\u30FC\u30C8\u30CA\u30FC\u306B\u4F1D\u3048\u3066\u304F\u3060\u3055\u3044"), /*#__PURE__*/React.createElement("div", {
    className: "text-3xl font-mono font-bold text-blue-600 tracking-widest mb-1 group-hover:scale-105 transition-transform"
  }, myId), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-center items-center gap-1 text-xs font-bold text-blue-400/80"
  }, copyFeedback ? /*#__PURE__*/React.createElement("span", {
    className: "flex items-center gap-1 text-emerald-500 animate-pop-in"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "check",
    size: 12
  }), " \u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F") : /*#__PURE__*/React.createElement("span", {
    className: "flex items-center gap-1 group-hover:text-blue-500"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "copy",
    size: 12
  }), " \u30BF\u30C3\u30D7\u3057\u3066\u30B3\u30D4\u30FC")))), /*#__PURE__*/React.createElement("div", {
    className: "relative"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 flex items-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-full border-t border-gray-100"
  })), /*#__PURE__*/React.createElement("div", {
    className: "relative flex justify-center text-xs"
  }, /*#__PURE__*/React.createElement("span", {
    className: "px-3 bg-white text-gray-400 font-medium"
  }, "\u307E\u305F\u306F"))), isShared ? /*#__PURE__*/React.createElement("div", {
    className: "bg-emerald-50 border border-emerald-100 rounded-2xl p-5 text-center space-y-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "inline-flex items-center justify-center p-2 bg-white rounded-full text-emerald-500 shadow-sm"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "link",
    size: 24
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h4", {
    className: "font-bold text-gray-800"
  }, "\u5171\u6709\u4E2D"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-emerald-600 mt-1"
  }, "\u73FE\u5728\u3001\u30D1\u30FC\u30C8\u30CA\u30FC\u306EID ", /*#__PURE__*/React.createElement("span", {
    className: "font-mono font-bold"
  }, currentId), " \u306B", /*#__PURE__*/React.createElement("br", null), "\u53C2\u52A0\u3057\u3066\u30EA\u30B9\u30C8\u3092\u5171\u6709\u3057\u3066\u3044\u307E\u3059\u3002")), /*#__PURE__*/React.createElement("button", {
    onClick: onLeave,
    className: "text-xs font-bold text-rose-400 hover:text-rose-600 bg-white border border-rose-100 hover:bg-rose-50 py-2.5 px-4 rounded-xl transition-colors w-full flex items-center justify-center gap-2 mt-2 shadow-sm"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "log-out",
    size: 14
  }), "\u5171\u6709\u3092\u89E3\u9664\u3057\u3066\u81EA\u5206\u306E\u30EA\u30B9\u30C8\u306B\u623B\u308B")) : /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, /*#__PURE__*/React.createElement("label", {
    className: "block text-xs font-bold text-gray-400 uppercase tracking-widest px-1"
  }, "\u30D1\u30FC\u30C8\u30CA\u30FC\u306EID\u306B\u53C2\u52A0"), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-2"
  }, /*#__PURE__*/React.createElement("div", {
    className: "relative flex-1"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "log-in",
    size: 16
  })), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "ID\u3092\u5165\u529B",
    className: "w-full pl-9 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-lg font-mono font-bold text-gray-800 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all uppercase placeholder-gray-300",
    value: inputGroupId,
    onChange: function onChange(e) {
      return setInputGroupId(e.target.value.toUpperCase());
    }
  })), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return onJoin(inputGroupId);
    },
    disabled: !inputGroupId,
    className: "bg-black text-white font-bold text-sm px-5 rounded-xl shadow-lg shadow-gray-200 disabled:opacity-50 disabled:shadow-none active:scale-95 transition-all"
  }, "\u53C2\u52A0"))), /*#__PURE__*/React.createElement("div", {
    className: "pt-2 flex flex-col gap-2 text-center"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setView('help');
    },
    className: "text-xs text-gray-400 hover:text-gray-600 underline decoration-gray-300 underline-offset-2 transition-colors"
  }, "\u5171\u6709\u306E\u4ED5\u7D44\u307F\u30FB\u89E3\u9664\u306B\u3064\u3044\u3066"), /*#__PURE__*/React.createElement("div", {
    className: "border-t border-gray-100 my-2"
  }), /*#__PURE__*/React.createElement("div", {
    className: "text-[10px] text-gray-400 bg-gray-50 p-2 rounded-lg"
  }, "\u30C7\u30FC\u30BF\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u304B\uFF1F", /*#__PURE__*/React.createElement("br", null), "\u3082\u3057\u4EE5\u524D\u306EID\u3092\u899A\u3048\u3066\u3044\u308B\u5834\u5408\u306F", /*#__PURE__*/React.createElement("br", null), "\u300C\u30D1\u30FC\u30C8\u30CA\u30FC\u306EID\u306B\u53C2\u52A0\u300D\u306B\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002", /*#__PURE__*/React.createElement("br", null)))) : /*#__PURE__*/React.createElement("div", {
    key: "help",
    className: "animate-fade-in"
  }, /*#__PURE__*/React.createElement("div", {
    className: "mb-6"
  }, /*#__PURE__*/React.createElement("h4", {
    className: "text-lg font-bold text-gray-800 mb-2"
  }, "\u5171\u6709\u6A5F\u80FD\u306E\u4ED5\u7D44\u307F"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-gray-500 leading-relaxed"
  }, "\u300C\u3042\u306A\u305F\u306EID\u300D\u306F\u3042\u306A\u305F\u306E\u5BB6\u306E\u4F4F\u6240\u306E\u3088\u3046\u306A\u3082\u306E\u3067\u3059\u3002", /*#__PURE__*/React.createElement("br", null), "\u5909\u308F\u308B\u3053\u3068\u306F\u3042\u308A\u307E\u305B\u3093\u3002")), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-50 p-4 rounded-xl border border-gray-100 flex gap-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-2 rounded-full h-fit text-blue-500 shadow-sm border border-blue-100"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "log-in",
    size: 20
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h5", {
    className: "font-bold text-sm text-gray-800 mb-1"
  }, "\u53C2\u52A0\u3059\u308B\u3068\u3069\u3046\u306A\u308B\uFF1F"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-gray-500 leading-relaxed"
  }, "\u30D1\u30FC\u30C8\u30CA\u30FC\u306E\u5BB6\uFF08ID\uFF09\u306B\u304A\u90AA\u9B54\u3059\u308B\u72B6\u614B\u306B\u306A\u308A\u307E\u3059\u3002\u81EA\u5206\u306E\u30EA\u30B9\u30C8\u306F\u898B\u3048\u306A\u304F\u306A\u308A\u307E\u3059\u304C\u3001\u30C7\u30FC\u30BF\u306F\u6D88\u3048\u305A\u306B\u6B8B\u3063\u3066\u3044\u307E\u3059\u3002"))), /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-50 p-4 rounded-xl border border-gray-100 flex gap-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-2 rounded-full h-fit text-rose-500 shadow-sm border border-rose-100"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "log-out",
    size: 20
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h5", {
    className: "font-bold text-sm text-gray-800 mb-1"
  }, "\u89E3\u9664\u3059\u308B\u3068\u3069\u3046\u306A\u308B\uFF1F"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-gray-500 leading-relaxed"
  }, "\u81EA\u5206\u306E\u5BB6\uFF08ID\uFF09\u306B\u623B\u308A\u307E\u3059\u3002\u81EA\u5206\u304C\u4EE5\u524D\u8A18\u9332\u3057\u3066\u3044\u305F\u30EA\u30B9\u30C8\u304C\u518D\u3073\u8868\u793A\u3055\u308C\u307E\u3059\u3002"))), /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-50 p-4 rounded-xl border border-gray-100 flex gap-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-2 rounded-full h-fit text-emerald-500 shadow-sm border border-emerald-100"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "shield-check",
    size: 20
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h5", {
    className: "font-bold text-sm text-gray-800 mb-1"
  }, "\u30C7\u30FC\u30BF\u306F\u5B89\u5168\u3067\u3059"), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-gray-500 leading-relaxed"
  }, "\u53C2\u52A0\u3084\u89E3\u9664\u3092\u884C\u3063\u3066\u3082\u3001\u30C7\u30FC\u30BF\u304C\u6D88\u3048\u305F\u308A\u6DF7\u3056\u3063\u305F\u308A\u3059\u308B\u3053\u3068\u306F\u3042\u308A\u307E\u305B\u3093\u3002\u3044\u3064\u3067\u3082\u81EA\u7531\u306B\u884C\u304D\u6765\u3067\u304D\u307E\u3059\u3002"))))))));
};

// --- NEW COMPONENT: Calculator Modal (Existing) ---
var CalculatorModal = function CalculatorModal(_ref9) {
  var onClose = _ref9.onClose;
  var _useState55 = useState(''),
    _useState56 = _slicedToArray(_useState55, 2),
    price = _useState56[0],
    setPrice = _useState56[1];
  var _useState57 = useState(null),
    _useState58 = _slicedToArray(_useState57, 2),
    selectedDiscount = _useState58[0],
    setSelectedDiscount = _useState58[1];
  var _useState59 = useState(''),
    _useState60 = _slicedToArray(_useState59, 2),
    customDiscount = _useState60[0],
    setCustomDiscount = _useState60[1];
  var _useState61 = useState(false),
    _useState62 = _slicedToArray(_useState61, 2),
    isClosing = _useState62[0],
    setIsClosing = _useState62[1];
  var inputRef = useRef(null);
  useEffect(function () {
    if (inputRef.current) inputRef.current.focus();
  }, []);
  var handleClose = function handleClose() {
    setIsClosing(true);
    setTimeout(function () {
      onClose();
    }, 300);
  };
  var basePrice = parseInt(price, 10);
  var discountRate = selectedDiscount !== null ? selectedDiscount : customDiscount ? parseInt(customDiscount, 10) : 0;
  var hasValidPrice = !isNaN(basePrice) && basePrice > 0;
  var hasValidDiscount = !isNaN(discountRate) && discountRate > 0;
  var finalPrice = hasValidPrice && hasValidDiscount ? Math.floor(basePrice * (1 - discountRate / 100)) : null;
  var savedAmount = hasValidPrice && hasValidDiscount ? basePrice - finalPrice : null;
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-50 flex items-end sm:items-center justify-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity ".concat(isClosing ? 'animate-fade-out' : 'animate-fade-in'),
    onClick: handleClose
  }), /*#__PURE__*/React.createElement("div", {
    className: "bg-white/95 w-full max-w-md rounded-t-[2rem] sm:rounded-[2rem] p-6 shadow-2xl relative z-10 sm:m-4 pb-8 border border-white/50 backdrop-blur-xl ".concat(isClosing ? 'animate-slide-down' : 'animate-slide-up')
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-12 h-1 bg-gray-300 rounded-full mx-auto mb-6 opacity-50"
  }), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center mb-6 px-2"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-bold text-gray-500 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-orange-100 p-1.5 rounded-lg text-orange-500"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "calculator",
    size: 18
  })), "\u5272\u5F15\u8A08\u7B97"), /*#__PURE__*/React.createElement("button", {
    onClick: handleClose,
    className: "p-2 bg-gray-100 rounded-full text-gray-400 hover:text-gray-600 transition-colors"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "x",
    size: 20
  }))), /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-50 rounded-2xl p-5 mb-6 shadow-inner border border-gray-100"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-baseline gap-2 mb-2"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-sm font-bold text-gray-400"
  }, "\u5B9A\u4FA1"), /*#__PURE__*/React.createElement("div", {
    className: "flex-1 relative flex items-center"
  }, /*#__PURE__*/React.createElement("span", {
    className: "absolute left-0 top-1/2 -translate-y-1/2 text-lg font-bold text-gray-400"
  }, "\xA5"), /*#__PURE__*/React.createElement("input", {
    ref: inputRef,
    type: "number",
    value: price,
    onChange: function onChange(e) {
      return setPrice(e.target.value);
    },
    placeholder: "0",
    className: "w-full bg-transparent text-4xl font-bold text-gray-800 focus:outline-none pl-6 py-2 font-mono tracking-tight placeholder-gray-300"
  }), price && /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setPrice('');
    },
    className: "absolute right-0 top-1/2 -translate-y-1/2 text-gray-300 p-1"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "x-circle",
    size: 16
  })))), /*#__PURE__*/React.createElement("div", {
    className: "h-px bg-gray-200 w-full my-4"
  }), /*#__PURE__*/React.createElement("div", {
    className: "flex items-end justify-between"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold text-gray-400 block mb-1"
  }, "\u5272\u5F15\u5F8C"), /*#__PURE__*/React.createElement("div", {
    className: "text-4xl font-bold font-mono tracking-tight transition-all duration-300 ".concat(finalPrice !== null ? 'text-blue-600 scale-100' : 'text-gray-300 scale-95 origin-left')
  }, "\xA5 ", finalPrice !== null ? finalPrice.toLocaleString() : '---')), savedAmount !== null && /*#__PURE__*/React.createElement("div", {
    className: "text-right animate-scale-in"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-[10px] font-bold text-emerald-500 bg-emerald-50 px-2 py-1 rounded-full border border-emerald-100"
  }, "\u304A\u5F97"), /*#__PURE__*/React.createElement("div", {
    className: "text-sm font-bold text-emerald-600 mt-1"
  }, "-\xA5", savedAmount.toLocaleString())))), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, /*#__PURE__*/React.createElement("label", {
    className: "text-xs font-bold text-gray-400 uppercase tracking-widest pl-2"
  }, "\u5272\u5F15\u7387\u3092\u9078\u629E"), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-4 gap-3"
  }, [{
    val: 5,
    label: '5%'
  }, {
    val: 10,
    label: '10%'
  }, {
    val: 20,
    label: '20%'
  }, {
    val: 30,
    label: '30%'
  }, {
    val: 40,
    label: '40%'
  }, {
    val: 50,
    label: '50%'
  }, {
    val: 60,
    label: '60%'
  }, {
    val: 70,
    label: '70%'
  }].map(function (d) {
    var isSelected = selectedDiscount === d.val;
    return /*#__PURE__*/React.createElement("button", {
      key: d.val,
      onClick: function onClick() {
        setSelectedDiscount(d.val);
        setCustomDiscount('');
      },
      className: "relative overflow-hidden rounded-xl py-3 font-bold text-sm transition-all duration-200 active:scale-95 shadow-sm ".concat(isSelected ? 'bg-gray-800 text-white shadow-lg' : 'bg-white text-gray-600 border border-gray-100 hover:bg-gray-50')
    }, d.label, isSelected && /*#__PURE__*/React.createElement("span", {
      className: "absolute inset-0 bg-white/20 animate-pulse"
    }));
  })), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-4 gap-3"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      setSelectedDiscount(80);
      setCustomDiscount('');
    },
    className: "rounded-xl py-3 font-bold text-sm transition-all duration-200 active:scale-95 shadow-sm border ".concat(selectedDiscount === 80 ? 'bg-gray-800 text-white border-transparent' : 'bg-white text-gray-600 border-gray-100 hover:bg-gray-50')
  }, "80%"), /*#__PURE__*/React.createElement("div", {
    className: "col-span-3 relative h-[46px]"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 rounded-xl border transition-colors pointer-events-none ".concat(customDiscount ? 'border-blue-500 bg-blue-50/50' : 'border-gray-100 bg-white')
  }), /*#__PURE__*/React.createElement("input", {
    type: "number",
    placeholder: "\u305D\u306E\u4ED6 %",
    value: customDiscount,
    onChange: function onChange(e) {
      setCustomDiscount(e.target.value);
      setSelectedDiscount(null);
    },
    className: "absolute inset-0 w-full h-full bg-transparent text-center font-bold text-gray-700 placeholder-gray-300 focus:outline-none z-10",
    style: {
      lineHeight: '46px'
    }
  }), customDiscount && /*#__PURE__*/React.createElement("span", {
    className: "absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-xs pointer-events-none"
  }, "%"))))));
};
var FoodItem = function FoodItem(_ref0) {
  var item = _ref0.item,
    onConsume = _ref0.onConsume,
    onEdit = _ref0.onEdit;
  var days = getDaysDiff(item.date);
  var status = getUrgencyStatus(days);
  var _useState63 = useState(false),
    _useState64 = _slicedToArray(_useState63, 2),
    isExiting = _useState64[0],
    setIsExiting = _useState64[1];
  var handleComplete = function handleComplete(e) {
    e.stopPropagation();
    setIsExiting(true);
    setTimeout(function () {
      return onConsume(item.id);
    }, 300);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "relative group ".concat(isExiting ? 'animate-swipe-out' : 'animate-fade-in')
  }, /*#__PURE__*/React.createElement("div", {
    onClick: onEdit,
    className: "glass-card rounded-xl p-4 flex items-center justify-between shadow-sm transition-transform active:scale-[0.99] cursor-pointer"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-4 flex-1"
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-1.5 h-12 rounded-full ".concat(status.color)
  }), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2 flex-wrap"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-bold text-gray-800 text-lg leading-tight"
  }, item.name), item.label && /*#__PURE__*/React.createElement("span", {
    className: "text-[10px] font-medium text-gray-500 bg-gray-100 border border-gray-200 px-2 py-0.5 rounded-full whitespace-nowrap"
  }, item.label)), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2 mt-1"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold px-2 py-0.5 rounded-md ".concat(status.bg, " ").concat(status.text)
  }, status.label), /*#__PURE__*/React.createElement("span", {
    className: "text-xs text-gray-400 font-medium tracking-wide"
  }, formatDate(item.date), "\u307E\u3067")))), /*#__PURE__*/React.createElement("button", {
    onClick: handleComplete,
    className: "w-10 h-10 rounded-full bg-gray-100 flex-shrink-0 flex items-center justify-center text-gray-400 hover-btn-emerald active:bg-emerald-500 active:text-white transition-all tap-highlight-transparent z-10",
    "aria-label": "\u98DF\u3079\u304D\u3063\u305F"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "check",
    size: 20
  }))));
};
var ShoppingItem = function ShoppingItem(_ref1) {
  var item = _ref1.item,
    onEdit = _ref1.onEdit,
    onDelete = _ref1.onDelete,
    onMove = _ref1.onMove;
  return /*#__PURE__*/React.createElement("div", {
    className: "glass-card rounded-xl p-4 flex items-center justify-between shadow-sm animate-fade-in cursor-pointer active:scale-[0.99] transition-transform",
    onClick: onEdit
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-2 bg-gray-100 rounded-lg text-gray-500"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "shopping-bag",
    size: 20
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-bold text-gray-800 text-lg"
  }, item.name), item.label && /*#__PURE__*/React.createElement("span", {
    className: "text-[10px] font-medium text-gray-500 bg-gray-100 border border-gray-200 px-2 py-0.5 rounded-full whitespace-nowrap"
  }, item.label)))), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick(e) {
      e.stopPropagation();
      onMove();
    },
    className: "w-10 h-10 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center hover-btn-blue transition-colors",
    "aria-label": "\u98DF\u6750\u30EA\u30B9\u30C8\u3078\u79FB\u52D5"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "arrow-right",
    size: 20
  })), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick(e) {
      e.stopPropagation();
      onDelete();
    },
    className: "w-10 h-10 rounded-full bg-gray-50 text-gray-400 flex items-center justify-center hover-btn-rose transition-colors",
    "aria-label": "\u524A\u9664"
  }, /*#__PURE__*/React.createElement(Icon, {
    name: "trash-2",
    size: 18
  }))));
};
var root = ReactDOM.createRoot(document.getElementById('root'));
root.render(/*#__PURE__*/React.createElement(App, null));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlIiwidCIsInIiLCJTeW1ib2wiLCJuIiwiaXRlcmF0b3IiLCJvIiwidG9TdHJpbmdUYWciLCJpIiwiYyIsInByb3RvdHlwZSIsIkdlbmVyYXRvciIsInUiLCJPYmplY3QiLCJjcmVhdGUiLCJfcmVnZW5lcmF0b3JEZWZpbmUyIiwiZiIsInAiLCJ5IiwiRyIsInYiLCJhIiwiZCIsImJpbmQiLCJsZW5ndGgiLCJsIiwiVHlwZUVycm9yIiwiY2FsbCIsImRvbmUiLCJ2YWx1ZSIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZGlzcGxheU5hbWUiLCJfcmVnZW5lcmF0b3IiLCJ3IiwibSIsImRlZmluZVByb3BlcnR5IiwiX3JlZ2VuZXJhdG9yRGVmaW5lIiwiX2ludm9rZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfbmV4dCIsIl90aHJvdyIsIl9zbGljZWRUb0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIl9hcnJheUxpa2VUb0FycmF5IiwidG9TdHJpbmciLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJuZXh0IiwicHVzaCIsImlzQXJyYXkiLCJfUmVhY3QiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsImZpcmViYXNlQ29uZmlnIiwid2luZG93IiwiX19maXJlYmFzZV9jb25maWciLCJKU09OIiwicGFyc2UiLCJhcHBJZCIsIl9fYXBwX2lkIiwiZmlyZWJhc2UiLCJhcHBzIiwiaW5pdGlhbGl6ZUFwcCIsImF1dGgiLCJkYiIsImZpcmVzdG9yZSIsIkljb24iLCJfcmVmIiwiX3JlZiRzaXplIiwic2l6ZSIsIl9yZWYkY2xhc3NOYW1lIiwiY2xhc3NOYW1lIiwibHVjaWRlIiwiY3JlYXRlSWNvbnMiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJnZXREYXlzRGlmZiIsInRhcmdldERhdGUiLCJ0b2RheSIsIkRhdGUiLCJzZXRIb3VycyIsInRhcmdldCIsImRpZmZUaW1lIiwiTWF0aCIsImNlaWwiLCJmb3JtYXREYXRlIiwiZGF0ZVN0ciIsImRhdGUiLCJjb25jYXQiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRUb2RheVN0cmluZyIsIm5vdyIsImRheXMiLCJnZXREYXkiLCJnZXRVcmdlbmN5U3RhdHVzIiwiY29sb3IiLCJ0ZXh0IiwiYmciLCJsYWJlbCIsImdlbmVyYXRlR3JvdXBJZCIsImNoYXJzIiwicmVzdWx0IiwiY2hhckF0IiwiZmxvb3IiLCJyYW5kb20iLCJnZW5lcmF0ZURldmljZUlkIiwic3Vic3RyaW5nIiwiQXBwIiwiX3VzZVN0YXRlIiwiX3VzZVN0YXRlMiIsInVzZXIiLCJzZXRVc2VyIiwiX3VzZVN0YXRlMyIsImlkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImxlZ2FjeUdyb3VwSWQiLCJzZXRJdGVtIiwiX3VzZVN0YXRlNCIsIm15SWQiLCJzZXRNeUlkIiwiX3VzZVN0YXRlNSIsInNhdmVkIiwiX3VzZVN0YXRlNiIsImN1cnJlbnRJZCIsInNldEN1cnJlbnRJZCIsImlzU2hhcmVkIiwiX3VzZVN0YXRlNyIsIl91c2VTdGF0ZTgiLCJkZXZpY2VJZCIsInNldERldmljZUlkIiwiX3VzZVN0YXRlOSIsIl91c2VTdGF0ZTAiLCJjdXJyZW50VmlldyIsInNldEN1cnJlbnRWaWV3IiwiX3VzZVN0YXRlMSIsIl91c2VTdGF0ZTEwIiwiaXRlbXMiLCJzZXRJdGVtcyIsIl91c2VTdGF0ZTExIiwiX3VzZVN0YXRlMTIiLCJzaG9wcGluZ0l0ZW1zIiwic2V0U2hvcHBpbmdJdGVtcyIsIl91c2VTdGF0ZTEzIiwiX3VzZVN0YXRlMTQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJfdXNlU3RhdGUxNSIsIl91c2VTdGF0ZTE2IiwiaXNJdGVtc0xvYWRlZCIsInNldElzSXRlbXNMb2FkZWQiLCJfdXNlU3RhdGUxNyIsIl91c2VTdGF0ZTE4IiwiaXNTaG9wcGluZ0xvYWRlZCIsInNldElzU2hvcHBpbmdMb2FkZWQiLCJfdXNlU3RhdGUxOSIsIl91c2VTdGF0ZTIwIiwiaXNNaWdyYXRpbmciLCJzZXRJc01pZ3JhdGluZyIsIl91c2VTdGF0ZTIxIiwiX3VzZVN0YXRlMjIiLCJuZXdTdG9ja0NvdW50Iiwic2V0TmV3U3RvY2tDb3VudCIsIl91c2VTdGF0ZTIzIiwiX3VzZVN0YXRlMjQiLCJuZXdTaG9wcGluZ0NvdW50Iiwic2V0TmV3U2hvcHBpbmdDb3VudCIsIl91c2VTdGF0ZTI1IiwiX3VzZVN0YXRlMjYiLCJzaG93VXBkYXRlVG9hc3QiLCJzZXRTaG93VXBkYXRlVG9hc3QiLCJfdXNlU3RhdGUyNyIsIl91c2VTdGF0ZTI4IiwiaXNVcGRhdGVUb2FzdEV4aXRpbmciLCJzZXRJc1VwZGF0ZVRvYXN0RXhpdGluZyIsInByZXZTdG9ja0NvdW50UmVmIiwicHJldlNob3BwaW5nQ291bnRSZWYiLCJsYXN0VmlzaXRSZWYiLCJ0b0lTT1N0cmluZyIsIl91c2VTdGF0ZTI5IiwiX3VzZVN0YXRlMzAiLCJtb2RhbE1vZGUiLCJzZXRNb2RhbE1vZGUiLCJfdXNlU3RhdGUzMSIsIl91c2VTdGF0ZTMyIiwiZWRpdGluZ0l0ZW0iLCJzZXRFZGl0aW5nSXRlbSIsIl91c2VTdGF0ZTMzIiwiX3VzZVN0YXRlMzQiLCJpbnB1dE5hbWUiLCJzZXRJbnB1dE5hbWUiLCJfdXNlU3RhdGUzNSIsIl91c2VTdGF0ZTM2IiwiaW5wdXRMYWJlbCIsInNldElucHV0TGFiZWwiLCJfdXNlU3RhdGUzNyIsIl91c2VTdGF0ZTM4IiwiaW5wdXREYXRlIiwic2V0SW5wdXREYXRlIiwiX3VzZVN0YXRlMzkiLCJfdXNlU3RhdGU0MCIsImlzQ2FsY09wZW4iLCJzZXRJc0NhbGNPcGVuIiwiX3VzZVN0YXRlNDEiLCJfdXNlU3RhdGU0MiIsImlzU2hhcmVNb2RhbE9wZW4iLCJzZXRJc1NoYXJlTW9kYWxPcGVuIiwiX3VzZVN0YXRlNDMiLCJtZXNzYWdlIiwiYWN0aW9ucyIsIl91c2VTdGF0ZTQ0IiwidG9hc3QiLCJzZXRUb2FzdCIsIl91c2VTdGF0ZTQ1IiwiX3VzZVN0YXRlNDYiLCJmb290ZXJUYXBDb3VudCIsInNldEZvb3RlclRhcENvdW50IiwiaW5pdEF1dGgiLCJfcmVmMiIsIl9jYWxsZWUiLCJfY29udGV4dCIsIl9faW5pdGlhbF9hdXRoX3Rva2VuIiwic2lnbkluV2l0aEN1c3RvbVRva2VuIiwic2lnbkluQW5vbnltb3VzbHkiLCJ1bnN1YnNjcmliZSIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImxhc3RWaXNpdCIsImN1cnJlbnQiLCJpdGVtc1JlZiIsImNvbGxlY3Rpb24iLCJkb2MiLCJ1bnN1YnNjcmliZUl0ZW1zIiwib25TbmFwc2hvdCIsInNuYXBzaG90IiwiZmV0Y2hlZEl0ZW1zIiwibmV3Q291bnQiLCJmb3JFYWNoIiwiZGF0YSIsImdyb3VwSWQiLCJfb2JqZWN0U3ByZWFkIiwiaXNOZXciLCJjcmVhdGVkQXQiLCJpc05vdE1pbmUiLCJjcmVhdGVkQnkiLCJ1aWQiLCJlcnJvciIsImNvbnNvbGUiLCJzaG9wcGluZ1JlZiIsInVuc3Vic2NyaWJlU2hvcHBpbmciLCJmZXRjaGVkU2hvcHBpbmciLCJwcmV2U3RvY2siLCJwcmV2U2hvcHBpbmciLCJpc1N0b2NrSW5jcmVhc2VkIiwiaXNTaG9wcGluZ0luY3JlYXNlZCIsImRpc3BsYXlUaW1lciIsInJlbW92ZVRpbWVyIiwiaGFuZGxlU2F2ZUl0ZW0iLCJfcmVmMyIsIl9jYWxsZWUyIiwibmVlZHNEYXRlIiwiY29tbW9uRGF0YSIsIl90IiwiX2NvbnRleHQyIiwiaW5jbHVkZXMiLCJhZGQiLCJzaG93VG9hc3QiLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwidXBkYXRlIiwiY2xvc2VNb2RhbCIsImhhbmRsZURlbGV0ZUl0ZW0iLCJfcmVmNCIsIl9jYWxsZWU2IiwiaXNTaG9wcGluZyIsImNvbGxlY3Rpb25OYW1lIiwiaXRlbVRvRGVsZXRlIiwicmFuZG9tTXNnIiwiX2FyZ3M2IiwiX3QyIiwiX2NvbnRleHQ2IiwidW5kZWZpbmVkIiwiZmluZCIsInR5cGUiLCJoYW5kbGVyIiwiX2hhbmRsZXIiLCJfY2FsbGVlMyIsIl9jb250ZXh0MyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsIl9leGNsdWRlZCIsInByZXYiLCJzaG93Q2xvc2VUZXh0Iiwic3R5bGUiLCJfaGFuZGxlcjIiLCJfY2FsbGVlNCIsIl9jb250ZXh0NCIsIl9leGNsdWRlZDIiLCJfaGFuZGxlcjMiLCJfY2FsbGVlNSIsIl9jb250ZXh0NSIsIl94Iiwib3BlbkFkZE1vZGFsIiwib3BlbkVkaXRNb2RhbCIsIml0ZW0iLCJvcGVuTW92ZU1vZGFsIiwic3RvcFByb3BhZ2F0aW9uIiwiaXNFeGl0aW5nIiwic29ydGVkSXRlbXMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJzb3J0IiwiYiIsImhhbmRsZUZvb3RlclRhcCIsImxhc3RUYXAiLCJkb3dubG9hZEh0bWwiLCJodG1sQ29udGVudCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwib3V0ZXJIVE1MIiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJocmVmIiwiZG93bmxvYWQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwicmV2b2tlT2JqZWN0VVJMIiwiaGFuZGxlSm9pbkdyb3VwIiwidGFyZ2V0R3JvdXBJZCIsImFsZXJ0IiwiaGFuZGxlUmVnZW5lcmF0ZUlkIiwiX3JlZjUiLCJfY2FsbGVlNyIsIm5ld0lkIiwiYmF0Y2giLCJjb3VudCIsIl90MyIsIl9jb250ZXh0NyIsImNvbmZpcm0iLCJyZWYiLCJjb21taXQiLCJoYW5kbGVMZWF2ZUdyb3VwIiwiaGFuZGxlUmVsb2FkIiwibG9jYXRpb24iLCJyZWxvYWQiLCJMb2FkaW5nT3ZlcmxheSIsImlzVmlzaWJsZSIsIm9uQ2xpY2siLCJ0aXRsZSIsIm1hcCIsIkZvb2RJdGVtIiwia2V5Iiwib25Db25zdW1lIiwib25FZGl0IiwiU2hvcHBpbmdJdGVtIiwib25EZWxldGUiLCJvbk1vdmUiLCJzdHJva2VXaWR0aCIsIlVwZGF0ZVRvYXN0Iiwic3RvY2tDb3VudCIsInNob3BwaW5nQ291bnQiLCJvbkNsb3NlIiwiRnJhZ21lbnQiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiYXV0b0ZvY3VzIiwiZGlzYWJsZWQiLCJDYWxjdWxhdG9yTW9kYWwiLCJTaGFyZU1vZGFsIiwib25Kb2luIiwib25SZWdlbmVyYXRlIiwib25MZWF2ZSIsImFjdGlvbiIsImluZGV4IiwiX3JlZjYiLCJfcmVmNyIsIl9yZWY4IiwiX3VzZVN0YXRlNDciLCJfdXNlU3RhdGU0OCIsImlucHV0R3JvdXBJZCIsInNldElucHV0R3JvdXBJZCIsIl91c2VTdGF0ZTQ5IiwiX3VzZVN0YXRlNTAiLCJpc0Nsb3NpbmciLCJzZXRJc0Nsb3NpbmciLCJfdXNlU3RhdGU1MSIsIl91c2VTdGF0ZTUyIiwidmlldyIsInNldFZpZXciLCJfdXNlU3RhdGU1MyIsIl91c2VTdGF0ZTU0IiwiY29weUZlZWRiYWNrIiwic2V0Q29weUZlZWRiYWNrIiwiaGFuZGxlQ2xvc2UiLCJoYW5kbGVDb3B5IiwiZWwiLCJzZWxlY3QiLCJleGVjQ29tbWFuZCIsInRvVXBwZXJDYXNlIiwiX3JlZjkiLCJfdXNlU3RhdGU1NSIsIl91c2VTdGF0ZTU2IiwicHJpY2UiLCJzZXRQcmljZSIsIl91c2VTdGF0ZTU3IiwiX3VzZVN0YXRlNTgiLCJzZWxlY3RlZERpc2NvdW50Iiwic2V0U2VsZWN0ZWREaXNjb3VudCIsIl91c2VTdGF0ZTU5IiwiX3VzZVN0YXRlNjAiLCJjdXN0b21EaXNjb3VudCIsInNldEN1c3RvbURpc2NvdW50IiwiX3VzZVN0YXRlNjEiLCJfdXNlU3RhdGU2MiIsImlucHV0UmVmIiwiZm9jdXMiLCJiYXNlUHJpY2UiLCJwYXJzZUludCIsImRpc2NvdW50UmF0ZSIsImhhc1ZhbGlkUHJpY2UiLCJpc05hTiIsImhhc1ZhbGlkRGlzY291bnQiLCJmaW5hbFByaWNlIiwic2F2ZWRBbW91bnQiLCJ0b0xvY2FsZVN0cmluZyIsInZhbCIsImlzU2VsZWN0ZWQiLCJsaW5lSGVpZ2h0IiwiX3JlZjAiLCJzdGF0dXMiLCJfdXNlU3RhdGU2MyIsIl91c2VTdGF0ZTY0Iiwic2V0SXNFeGl0aW5nIiwiaGFuZGxlQ29tcGxldGUiLCJfcmVmMSIsInJvb3QiLCJSZWFjdERPTSIsImNyZWF0ZVJvb3QiLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlciJdLCJzb3VyY2VzIjpbIklubGluZSBCYWJlbCBzY3JpcHQiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgICAgIGNvbnN0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmIH0gPSBSZWFjdDtcblxuICAgICAgICAvLyBGaXJlYmFzZSBJbml0aWFsaXphdGlvblxuICAgICAgICBjb25zdCBmaXJlYmFzZUNvbmZpZyA9IHdpbmRvdy5fX2ZpcmViYXNlX2NvbmZpZyA/IEpTT04ucGFyc2Uod2luZG93Ll9fZmlyZWJhc2VfY29uZmlnKSA6IHt9O1xuICAgICAgICBjb25zdCBhcHBJZCA9IHdpbmRvdy5fX2FwcF9pZCB8fCAnZGVmYXVsdC1hcHAtaWQnO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFmaXJlYmFzZS5hcHBzLmxlbmd0aCkge1xuICAgICAgICAgICAgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXV0aCA9IGZpcmViYXNlLmF1dGgoKTtcbiAgICAgICAgY29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTtcblxuICAgICAgICAvLyAtLS0gSGVscGVycyAtLS1cbiAgICAgICAgY29uc3QgSWNvbiA9ICh7IG5hbWUsIHNpemUgPSAyNCwgY2xhc3NOYW1lID0gXCJcIiB9KSA9PiB7XG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubHVjaWRlKSB3aW5kb3cubHVjaWRlLmNyZWF0ZUljb25zKCk7XG4gICAgICAgICAgICB9LCBbbmFtZV0pO1xuICAgICAgICAgICAgcmV0dXJuIDxpIGRhdGEtbHVjaWRlPXtuYW1lfSB3aWR0aD17c2l6ZX0gaGVpZ2h0PXtzaXplfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+PC9pPjtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZXREYXlzRGlmZiA9ICh0YXJnZXREYXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IG5ldyBEYXRlKHRhcmdldERhdGUpO1xuICAgICAgICAgICAgdGFyZ2V0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgY29uc3QgZGlmZlRpbWUgPSB0YXJnZXQgLSB0b2RheTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdERhdGUgPSAoZGF0ZVN0cikgPT4ge1xuICAgICAgICAgICAgaWYgKCFkYXRlU3RyKSByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcbiAgICAgICAgICAgIHJldHVybiBgJHtkYXRlLmdldE1vbnRoKCkgKyAxfS8ke2RhdGUuZ2V0RGF0ZSgpfWA7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0VG9kYXlTdHJpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgZGF5cyA9IFsn5pelJywgJ+aciCcsICfngasnLCAn5rC0JywgJ+acqCcsICfph5EnLCAn5ZyfJ107XG4gICAgICAgICAgICByZXR1cm4gYCR7bm93LmdldE1vbnRoKCkgKyAxfeaciCR7bm93LmdldERhdGUoKX3ml6UgKCR7ZGF5c1tub3cuZ2V0RGF5KCldfSlgO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldFVyZ2VuY3lTdGF0dXMgPSAoZGF5cykgPT4ge1xuICAgICAgICAgICAgaWYgKGRheXMgPCAwKSByZXR1cm4geyBjb2xvcjogXCJiZy1yb3NlLTUwMFwiLCB0ZXh0OiBcInRleHQtcm9zZS02MDBcIiwgYmc6IFwiYmctcm9zZS01MFwiLCBsYWJlbDogXCLmnJ/pmZDliIfjgoxcIiB9O1xuICAgICAgICAgICAgaWYgKGRheXMgPT09IDApIHJldHVybiB7IGNvbG9yOiBcImJnLW9yYW5nZS01MDBcIiwgdGV4dDogXCJ0ZXh0LW9yYW5nZS02MDBcIiwgYmc6IFwiYmctb3JhbmdlLTUwXCIsIGxhYmVsOiBcIuS7iuaXpeOBvuOBp1wiIH07XG4gICAgICAgICAgICBpZiAoZGF5cyA8PSAyKSByZXR1cm4geyBjb2xvcjogXCJiZy1hbWJlci00MDBcIiwgdGV4dDogXCJ0ZXh0LWFtYmVyLTYwMFwiLCBiZzogXCJiZy1hbWJlci01MFwiLCBsYWJlbDogXCLjgYLjgahcIiArIGRheXMgKyBcIuaXpVwiIH07XG4gICAgICAgICAgICBpZiAoZGF5cyA8PSA1KSByZXR1cm4geyBjb2xvcjogXCJiZy15ZWxsb3ctNDAwXCIsIHRleHQ6IFwidGV4dC15ZWxsb3ctNzAwXCIsIGJnOiBcImJnLXllbGxvdy01MFwiLCBsYWJlbDogXCLjgYLjgahcIiArIGRheXMgKyBcIuaXpVwiIH07XG4gICAgICAgICAgICByZXR1cm4geyBjb2xvcjogXCJiZy1lbWVyYWxkLTQwMFwiLCB0ZXh0OiBcInRleHQtZW1lcmFsZC02MDBcIiwgYmc6IFwiYmctZW1lcmFsZC01MFwiLCBsYWJlbDogXCLjgYLjgahcIiArIGRheXMgKyBcIuaXpVwiIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVHcm91cElkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5JztcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSAnJztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGNoYXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVEZXZpY2VJZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAnZGV2XycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIC0tLSBNYWluIEFwcCBDb21wb25lbnQgLS0tXG4gICAgICAgIGNvbnN0IEFwcCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyAtLS0gSUQgTWFuYWdlbWVudCB3aXRoIE1pZ3JhdGlvbiBMb2dpYyAtLS1cbiAgICAgICAgICAgIGNvbnN0IFtteUlkLCBzZXRNeUlkXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZnJlc2hrZWVwZXJfbXlfaWQnKTtcbiAgICAgICAgICAgICAgICAvLyBSZWNvdmVyeSBsb2dpYyBmb3IgbG9zdCBkYXRhIGFmdGVyIHVwZGF0ZVxuICAgICAgICAgICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVnYWN5R3JvdXBJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmcmVzaGtlZXBlcl9ncm91cElkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWdhY3lHcm91cElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGxlZ2FjeUdyb3VwSWQ7IC8vIFJlY292ZXIgb2xkIElEIVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSBnZW5lcmF0ZUdyb3VwSWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZnJlc2hrZWVwZXJfbXlfaWQnLCBpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBbY3VycmVudElkLCBzZXRDdXJyZW50SWRdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmcmVzaGtlZXBlcl9jdXJyZW50X2lkJyk7XG4gICAgICAgICAgICAgICAgaWYgKCFzYXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBsZWdhY3kgZ3JvdXBJZCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVnYWN5R3JvdXBJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmcmVzaGtlZXBlcl9ncm91cElkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWdhY3lHcm91cElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlZCA9IGxlZ2FjeUdyb3VwSWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlZCA9IG15SWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZyZXNoa2VlcGVyX2N1cnJlbnRfaWQnLCBzYXZlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzYXZlZDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBpc1NoYXJlZCA9IG15SWQgIT09IGN1cnJlbnRJZDtcblxuICAgICAgICAgICAgY29uc3QgW2RldmljZUlkLCBzZXREZXZpY2VJZF0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZyZXNoa2VlcGVyX2RldmljZUlkJyk7XG4gICAgICAgICAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgICAgICAgICBpZCA9IGdlbmVyYXRlRGV2aWNlSWQoKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZyZXNoa2VlcGVyX2RldmljZUlkJywgaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgW2N1cnJlbnRWaWV3LCBzZXRDdXJyZW50Vmlld10gPSB1c2VTdGF0ZSgnc3RvY2snKTtcbiAgICAgICAgICAgIGNvbnN0IFtpdGVtcywgc2V0SXRlbXNdID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgY29uc3QgW3Nob3BwaW5nSXRlbXMsIHNldFNob3BwaW5nSXRlbXNdID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBMb2FkaW5nIFN0YXRlXG4gICAgICAgICAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBbaXNJdGVtc0xvYWRlZCwgc2V0SXNJdGVtc0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBbaXNTaG9wcGluZ0xvYWRlZCwgc2V0SXNTaG9wcGluZ0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBbaXNNaWdyYXRpbmcsIHNldElzTWlncmF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgICAgICAgICAgLy8gTm90aWZpY2F0aW9uIFN0YXRlc1xuICAgICAgICAgICAgY29uc3QgW25ld1N0b2NrQ291bnQsIHNldE5ld1N0b2NrQ291bnRdID0gdXNlU3RhdGUoMCk7XG4gICAgICAgICAgICBjb25zdCBbbmV3U2hvcHBpbmdDb3VudCwgc2V0TmV3U2hvcHBpbmdDb3VudF0gPSB1c2VTdGF0ZSgwKTtcbiAgICAgICAgICAgIGNvbnN0IFtzaG93VXBkYXRlVG9hc3QsIHNldFNob3dVcGRhdGVUb2FzdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBbaXNVcGRhdGVUb2FzdEV4aXRpbmcsIHNldElzVXBkYXRlVG9hc3RFeGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcHJldlN0b2NrQ291bnRSZWYgPSB1c2VSZWYoMCk7XG4gICAgICAgICAgICBjb25zdCBwcmV2U2hvcHBpbmdDb3VudFJlZiA9IHVzZVJlZigwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbGFzdFZpc2l0UmVmID0gdXNlUmVmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmcmVzaGtlZXBlcl9sYXN0X3Zpc2l0JykgfHwgbmV3IERhdGUoMCkudG9JU09TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIC8vIE1vZGFsICYgSW5wdXQgU3RhdGVzXG4gICAgICAgICAgICBjb25zdCBbbW9kYWxNb2RlLCBzZXRNb2RhbE1vZGVdID0gdXNlU3RhdGUobnVsbCk7IFxuICAgICAgICAgICAgY29uc3QgW2VkaXRpbmdJdGVtLCBzZXRFZGl0aW5nSXRlbV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFtpbnB1dE5hbWUsIHNldElucHV0TmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgICAgICAgICBjb25zdCBbaW5wdXRMYWJlbCwgc2V0SW5wdXRMYWJlbF0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgICAgICAgICBjb25zdCBbaW5wdXREYXRlLCBzZXRJbnB1dERhdGVdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVSSBTdGF0ZXNcbiAgICAgICAgICAgIGNvbnN0IFtpc0NhbGNPcGVuLCBzZXRJc0NhbGNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFtpc1NoYXJlTW9kYWxPcGVuLCBzZXRJc1NoYXJlTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFt0b2FzdCwgc2V0VG9hc3RdID0gdXNlU3RhdGUoeyBtZXNzYWdlOiBudWxsLCBhY3Rpb25zOiBbXSB9KTtcbiAgICAgICAgICAgIGNvbnN0IFtmb290ZXJUYXBDb3VudCwgc2V0Rm9vdGVyVGFwQ291bnRdID0gdXNlU3RhdGUoMCk7XG5cbiAgICAgICAgICAgIC8vIEF1dGggSW5pdGlhbGl6YXRpb25cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdEF1dGggPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuX19pbml0aWFsX2F1dGhfdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGF1dGguc2lnbkluV2l0aEN1c3RvbVRva2VuKHdpbmRvdy5fX2luaXRpYWxfYXV0aF90b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhdXRoLnNpZ25JbkFub255bW91c2x5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGluaXRBdXRoKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBhdXRoLm9uQXV0aFN0YXRlQ2hhbmdlZCgodSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXNlcih1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBsZWdhY3kgZ3JvdXBJZCBpcyBwcmVzZXJ2ZWQgZm9yIHJlY292ZXJ5IGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZnJlc2hrZWVwZXJfZ3JvdXBJZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZyZXNoa2VlcGVyX2dyb3VwSWQnLCBteUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmcmVzaGtlZXBlcl9sYXN0X3Zpc2l0JywgbmV3IERhdGUoKS50b0lTT1N0cmluZygpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfSwgW10pO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgTG9hZGluZyBTdGF0ZVxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNJdGVtc0xvYWRlZCAmJiBpc1Nob3BwaW5nTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBzZXRJc0xvYWRpbmcoZmFsc2UpLCA1MDApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBbaXNJdGVtc0xvYWRlZCwgaXNTaG9wcGluZ0xvYWRlZF0pO1xuXG4gICAgICAgICAgICAvLyBGaXJlc3RvcmUgU3Vic2NyaXB0aW9uc1xuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIgfHwgIWN1cnJlbnRJZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFZpc2l0ID0gbGFzdFZpc2l0UmVmLmN1cnJlbnQ7XG5cbiAgICAgICAgICAgICAgICAvLyBJdGVtcyBDb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXNSZWYgPSBkYi5jb2xsZWN0aW9uKCdhcnRpZmFjdHMnKS5kb2MoYXBwSWQpLmNvbGxlY3Rpb24oJ3B1YmxpYycpLmRvYygnZGF0YScpLmNvbGxlY3Rpb24oJ2ZyZXNoa2VlcGVyX2l0ZW1zJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVJdGVtcyA9IGl0ZW1zUmVmLm9uU25hcHNob3QoKHNuYXBzaG90KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZldGNoZWRJdGVtcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmdyb3VwSWQgPT09IGN1cnJlbnRJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoZWRJdGVtcy5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZGF0YSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc05ldyA9IGRhdGEuY3JlYXRlZEF0ID4gbGFzdFZpc2l0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTm90TWluZSA9IGRhdGEuZGV2aWNlSWQgPyAoZGF0YS5kZXZpY2VJZCAhPT0gZGV2aWNlSWQpIDogKGRhdGEuY3JlYXRlZEJ5ICE9PSB1c2VyLnVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3ICYmIGlzTm90TWluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEl0ZW1zKGZldGNoZWRJdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgIHNldElzSXRlbXNMb2FkZWQodHJ1ZSk7IFxuICAgICAgICAgICAgICAgICAgICBzZXROZXdTdG9ja0NvdW50KG5ld0NvdW50KTtcbiAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoXCJJdGVtcyBmZXRjaCBlcnJvcjpcIiwgZXJyb3IpKTtcblxuICAgICAgICAgICAgICAgIC8vIFNob3BwaW5nIEl0ZW1zIENvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICBjb25zdCBzaG9wcGluZ1JlZiA9IGRiLmNvbGxlY3Rpb24oJ2FydGlmYWN0cycpLmRvYyhhcHBJZCkuY29sbGVjdGlvbigncHVibGljJykuZG9jKCdkYXRhJykuY29sbGVjdGlvbignZnJlc2hrZWVwZXJfc2hvcHBpbmcnKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZVNob3BwaW5nID0gc2hvcHBpbmdSZWYub25TbmFwc2hvdCgoc25hcHNob3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hlZFNob3BwaW5nID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZ3JvdXBJZCA9PT0gY3VycmVudElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hlZFNob3BwaW5nLnB1c2goeyBpZDogZG9jLmlkLCAuLi5kYXRhIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTmV3ID0gZGF0YS5jcmVhdGVkQXQgPiBsYXN0VmlzaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNOb3RNaW5lID0gZGF0YS5kZXZpY2VJZCA/IChkYXRhLmRldmljZUlkICE9PSBkZXZpY2VJZCkgOiAoZGF0YS5jcmVhdGVkQnkgIT09IHVzZXIudWlkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ldyAmJiBpc05vdE1pbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG9wcGluZ0l0ZW1zKGZldGNoZWRTaG9wcGluZyk7XG4gICAgICAgICAgICAgICAgICAgIHNldElzU2hvcHBpbmdMb2FkZWQodHJ1ZSk7IFxuICAgICAgICAgICAgICAgICAgICBzZXROZXdTaG9wcGluZ0NvdW50KG5ld0NvdW50KTtcbiAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoXCJTaG9wcGluZyBmZXRjaCBlcnJvcjpcIiwgZXJyb3IpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlSXRlbXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVTaG9wcGluZygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCBbdXNlciwgY3VycmVudElkLCBkZXZpY2VJZF0pO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgTm90aWZpY2F0aW9uIFRvYXN0IChPTkxZIHdoZW4gY291bnRzIGluY3JlYXNlKVxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2U3RvY2sgPSBwcmV2U3RvY2tDb3VudFJlZi5jdXJyZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZTaG9wcGluZyA9IHByZXZTaG9wcGluZ0NvdW50UmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgaXNTdG9ja0luY3JlYXNlZCA9IG5ld1N0b2NrQ291bnQgPiBwcmV2U3RvY2s7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNTaG9wcGluZ0luY3JlYXNlZCA9IG5ld1Nob3BwaW5nQ291bnQgPiBwcmV2U2hvcHBpbmc7XG5cbiAgICAgICAgICAgICAgICBwcmV2U3RvY2tDb3VudFJlZi5jdXJyZW50ID0gbmV3U3RvY2tDb3VudDtcbiAgICAgICAgICAgICAgICBwcmV2U2hvcHBpbmdDb3VudFJlZi5jdXJyZW50ID0gbmV3U2hvcHBpbmdDb3VudDtcblxuICAgICAgICAgICAgICAgIGlmICgoaXNTdG9ja0luY3JlYXNlZCAmJiBuZXdTdG9ja0NvdW50ID4gMCkgfHwgKGlzU2hvcHBpbmdJbmNyZWFzZWQgJiYgbmV3U2hvcHBpbmdDb3VudCA+IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dVcGRhdGVUb2FzdCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNVcGRhdGVUb2FzdEV4aXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzcGxheVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1VwZGF0ZVRvYXN0RXhpdGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMjUwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dVcGRhdGVUb2FzdChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1VwZGF0ZVRvYXN0RXhpdGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMDApOyBcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRpc3BsYXlUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocmVtb3ZlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIFtuZXdTdG9ja0NvdW50LCBuZXdTaG9wcGluZ0NvdW50XSk7XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sdWNpZGUpIHdpbmRvdy5sdWNpZGUuY3JlYXRlSWNvbnMoKTtcbiAgICAgICAgICAgIH0sIFtpdGVtcywgc2hvcHBpbmdJdGVtcywgbW9kYWxNb2RlLCBpc0NhbGNPcGVuLCBpc1NoYXJlTW9kYWxPcGVuLCBzaG93VXBkYXRlVG9hc3QsIGlzTG9hZGluZ10pO1xuXG5cbiAgICAgICAgICAgIC8vIC0tLSBBY3Rpb25zIC0tLVxuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVTYXZlSXRlbSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0TmFtZSB8fCAhdXNlciB8fCAhY3VycmVudElkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgbmVlZHNEYXRlID0gKCFtb2RhbE1vZGUuaW5jbHVkZXMoJ1Nob3BwaW5nJykgfHwgbW9kYWxNb2RlID09PSAnbW92ZUZyb21TaG9wcGluZycpO1xuICAgICAgICAgICAgICAgIGlmIChuZWVkc0RhdGUgJiYgIWlucHV0RGF0ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29tbW9uRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogY3VycmVudElkLCAvLyBTYXZlIHRvIGN1cnJlbnQgdmlld1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IHVzZXIudWlkLFxuICAgICAgICAgICAgICAgICAgICBkZXZpY2VJZDogZGV2aWNlSWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGlucHV0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGlucHV0TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbE1vZGUgPT09ICdhZGQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCdhcnRpZmFjdHMnKS5kb2MoYXBwSWQpLmNvbGxlY3Rpb24oJ3B1YmxpYycpLmRvYygnZGF0YScpLmNvbGxlY3Rpb24oJ2ZyZXNoa2VlcGVyX2l0ZW1zJykuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jb21tb25EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IGlucHV0RGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwi6aOf5p2Q44KS6L+95Yqg44GX44G+44GX44GfXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RhbE1vZGUgPT09ICdlZGl0JyAmJiBlZGl0aW5nSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbignYXJ0aWZhY3RzJykuZG9jKGFwcElkKS5jb2xsZWN0aW9uKCdwdWJsaWMnKS5kb2MoJ2RhdGEnKS5jb2xsZWN0aW9uKCdmcmVzaGtlZXBlcl9pdGVtcycpLmRvYyhlZGl0aW5nSXRlbS5pZCkudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpbnB1dE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGlucHV0TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogaW5wdXREYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuaDheWgseOCkuabtOaWsOOBl+OBvuOBl+OBn1wiKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGFsTW9kZSA9PT0gJ2FkZFNob3BwaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbignYXJ0aWZhY3RzJykuZG9jKGFwcElkKS5jb2xsZWN0aW9uKCdwdWJsaWMnKS5kb2MoJ2RhdGEnKS5jb2xsZWN0aW9uKCdmcmVzaGtlZXBlcl9zaG9wcGluZycpLmFkZChjb21tb25EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuiyt+OBhOeJqeODoeODouOBq+i/veWKoOOBl+OBvuOBl+OBn1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kYWxNb2RlID09PSAnZWRpdFNob3BwaW5nJyAmJiBlZGl0aW5nSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbignYXJ0aWZhY3RzJykuZG9jKGFwcElkKS5jb2xsZWN0aW9uKCdwdWJsaWMnKS5kb2MoJ2RhdGEnKS5jb2xsZWN0aW9uKCdmcmVzaGtlZXBlcl9zaG9wcGluZycpLmRvYyhlZGl0aW5nSXRlbS5pZCkudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpbnB1dE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGlucHV0TGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwi44Oh44Oi44KS5pu05paw44GX44G+44GX44GfXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kYWxNb2RlID09PSAnbW92ZUZyb21TaG9wcGluZycgJiYgZWRpdGluZ0l0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2FydGlmYWN0cycpLmRvYyhhcHBJZCkuY29sbGVjdGlvbigncHVibGljJykuZG9jKCdkYXRhJykuY29sbGVjdGlvbignZnJlc2hrZWVwZXJfaXRlbXMnKS5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbW1vbkRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogaW5wdXREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCdhcnRpZmFjdHMnKS5kb2MoYXBwSWQpLmNvbGxlY3Rpb24oJ3B1YmxpYycpLmRvYygnZGF0YScpLmNvbGxlY3Rpb24oJ2ZyZXNoa2VlcGVyX3Nob3BwaW5nJykuZG9jKGVkaXRpbmdJdGVtLmlkKS5kZWxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwi6aOf5p2Q44Oq44K544OI44Gr56e75YuV44GX44G+44GX44Gf77yB8J+nilwiKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNhdmluZzpcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuOCqOODqeODvOOBjOeZuueUn+OBl+OBvuOBl+OBn1wiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEZWxldGVJdGVtID0gYXN5bmMgKGlkLCBpc1Nob3BwaW5nID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpIHJldHVybjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uTmFtZSA9IGlzU2hvcHBpbmcgPyAnZnJlc2hrZWVwZXJfc2hvcHBpbmcnIDogJ2ZyZXNoa2VlcGVyX2l0ZW1zJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbVRvRGVsZXRlID0gaXNTaG9wcGluZyBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2hvcHBpbmdJdGVtcy5maW5kKGkgPT4gaS5pZCA9PT0gaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBpZCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCdhcnRpZmFjdHMnKS5kb2MoYXBwSWQpLmNvbGxlY3Rpb24oJ3B1YmxpYycpLmRvYygnZGF0YScpLmNvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpLmRvYyhpZCkuZGVsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTaG9wcGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IFwi44Oq44K544OI44GL44KJ5YmK6Zmk44GX44G+44GX44GfXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImluZm9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCLlhYPjgavmiLvjgZlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgLi4uZGF0YSB9ID0gaXRlbVRvRGVsZXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbignYXJ0aWZhY3RzJykuZG9jKGFwcElkKS5jb2xsZWN0aW9uKCdwdWJsaWMnKS5kb2MoJ2RhdGEnKS5jb2xsZWN0aW9uKGNvbGxlY3Rpb25OYW1lKS5hZGQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdCh7IG1lc3NhZ2U6IFwi5Y+W44KK5raI44GX44G+44GX44GfXCIsIGFjdGlvbnM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdCh7IG1lc3NhZ2U6IG51bGwsIGFjdGlvbnM6IFtdIH0pLCAyMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0VG9hc3QocHJldiA9PiAocHJldi5tZXNzYWdlID09PSBtZXNzYWdlID8geyBtZXNzYWdlOiBudWxsLCBhY3Rpb25zOiBbXSB9IDogcHJldikpLCAyNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbU1zZyA9IFwi5L2/44GE5YiH44KK44G+44GX44Gf77yB8J+Rj1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9hc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJhbmRvbU1zZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlVGV4dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIuWFg+OBq+aIu+OBmVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwic2Vjb25kYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgLi4uZGF0YSB9ID0gaXRlbVRvRGVsZXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2FydGlmYWN0cycpLmRvYyhhcHBJZCkuY29sbGVjdGlvbigncHVibGljJykuZG9jKCdkYXRhJykuY29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSkuYWRkKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvYXN0KHsgbWVzc2FnZTogXCLlj5bjgormtojjgZfjgb7jgZfjgZ9cIiwgYWN0aW9uczogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdCh7IG1lc3NhZ2U6IG51bGwsIGFjdGlvbnM6IFtdIH0pLCAyMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwi6LK344GE54mp44Oh44Oi44Gr6L+95YqgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJwcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbignYXJ0aWZhY3RzJykuZG9jKGFwcElkKS5jb2xsZWN0aW9uKCdwdWJsaWMnKS5kb2MoJ2RhdGEnKS5jb2xsZWN0aW9uKCdmcmVzaGtlZXBlcl9zaG9wcGluZycpLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGN1cnJlbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiB1c2VyLnVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlSWQ6IGRldmljZUlkLCAvLyBUcmFjayBkZXZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbVRvRGVsZXRlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtVG9EZWxldGUubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwi6LK344GE54mp44Oh44Oi44Gr6L+95Yqg44GX44G+44GX44GfXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFRvYXN0KHByZXYgPT4gKHByZXYubWVzc2FnZSA9PT0gcmFuZG9tTXNnID8geyBtZXNzYWdlOiBudWxsLCBhY3Rpb25zOiBbXSB9IDogcHJldikpLCA1MDAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRGVsZXRlIGVycm9yOlwiLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBvcGVuQWRkTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RWRpdGluZ0l0ZW0obnVsbCk7XG4gICAgICAgICAgICAgICAgc2V0SW5wdXROYW1lKCcnKTtcbiAgICAgICAgICAgICAgICBzZXRJbnB1dExhYmVsKCcnKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZpZXcgPT09ICdzdG9jaycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TW9kYWxNb2RlKCdhZGQnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SW5wdXREYXRlKCcnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRNb2RhbE1vZGUoJ2FkZFNob3BwaW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgb3BlbkVkaXRNb2RhbCA9IChpdGVtLCBpc1Nob3BwaW5nID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nSXRlbShpdGVtKTtcbiAgICAgICAgICAgICAgICBzZXRJbnB1dE5hbWUoaXRlbS5uYW1lKTtcbiAgICAgICAgICAgICAgICBzZXRJbnB1dExhYmVsKGl0ZW0ubGFiZWwgfHwgJycpO1xuICAgICAgICAgICAgICAgIGlmIChpc1Nob3BwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldE1vZGFsTW9kZSgnZWRpdFNob3BwaW5nJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TW9kYWxNb2RlKCdlZGl0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHNldElucHV0RGF0ZShpdGVtLmRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IG9wZW5Nb3ZlTW9kYWwgPSAoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEVkaXRpbmdJdGVtKGl0ZW0pO1xuICAgICAgICAgICAgICAgIHNldElucHV0TmFtZShpdGVtLm5hbWUpO1xuICAgICAgICAgICAgICAgIHNldElucHV0TGFiZWwoaXRlbS5sYWJlbCB8fCAnJyk7XG4gICAgICAgICAgICAgICAgc2V0SW5wdXREYXRlKCcnKTtcbiAgICAgICAgICAgICAgICBzZXRNb2RhbE1vZGUoJ21vdmVGcm9tU2hvcHBpbmcnKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNsb3NlTW9kYWwgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlICYmIGUuc3RvcFByb3BhZ2F0aW9uKSBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHNldE1vZGFsTW9kZShudWxsKTtcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nSXRlbShudWxsKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHNob3dUb2FzdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VG9hc3QoeyBtZXNzYWdlLCBhY3Rpb25zOiBbXSwgaXNFeGl0aW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VG9hc3QocHJldiA9PiAocHJldi5tZXNzYWdlID09PSBtZXNzYWdlID8geyAuLi5wcmV2LCBpc0V4aXRpbmc6IHRydWUgfSA6IHByZXYpKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdChwcmV2ID0+IChwcmV2Lm1lc3NhZ2UgPT09IG1lc3NhZ2UgJiYgcHJldi5pc0V4aXRpbmcgPyB7IG1lc3NhZ2U6IG51bGwsIGFjdGlvbnM6IFtdIH0gOiBwcmV2KSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgfSwgMTUwMCk7IFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgc29ydGVkSXRlbXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWy4uLml0ZW1zXS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLmRhdGUpIC0gbmV3IERhdGUoYi5kYXRlKSk7XG4gICAgICAgICAgICB9LCBbaXRlbXNdKTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlRm9vdGVyVGFwID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sYXN0VGFwICYmIG5vdyAtIHdpbmRvdy5sYXN0VGFwIDwgNTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvdW50ID0gZm9vdGVyVGFwQ291bnQgKyAxO1xuICAgICAgICAgICAgICAgICAgICBzZXRGb290ZXJUYXBDb3VudChuZXdDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDb3VudCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEh0bWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEZvb3RlclRhcENvdW50KDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Rm9vdGVyVGFwQ291bnQoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdpbmRvdy5sYXN0VGFwID0gbm93O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgZG93bmxvYWRIdG1sID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxDb250ZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2h0bWxDb250ZW50XSwgeyB0eXBlOiAndGV4dC9odG1sJyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSAnTW90dGFpbmFpbmVyX0JhY2t1cC5odG1sJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLjg5Djg4Pjgq/jgqLjg4Pjg5fjgpLkvZzmiJDjgZfjgb7jgZfjgZ9cIik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVKb2luR3JvdXAgPSAodGFyZ2V0R3JvdXBJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRHcm91cElkICYmIHRhcmdldEdyb3VwSWQubGVuZ3RoID49IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEdyb3VwSWQgPT09IG15SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi6Ieq5YiG44GuSUTjgavjga/lj4LliqDjgafjgY3jgb7jgZvjgpNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudElkKHRhcmdldEdyb3VwSWQpO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZnJlc2hrZWVwZXJfY3VycmVudF9pZCcsIHRhcmdldEdyb3VwSWQpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNJdGVtc0xvYWRlZChmYWxzZSk7IFxuICAgICAgICAgICAgICAgICAgICBzZXRJc1Nob3BwaW5nTG9hZGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwi44Kw44Or44O844OX44Gr5Y+C5Yqg44GX44G+44GX44GfXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZXRJc1NoYXJlTW9kYWxPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIklE44GvNOaWh+Wtl+S7peS4iuOBp+WFpeWKm+OBl+OBpuOBj+OBoOOBleOBhFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBJROWGjeeZuuihjO+8huODh+ODvOOCv+enu+ihjFxuICAgICAgICAgICAgY29uc3QgaGFuZGxlUmVnZW5lcmF0ZUlkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0lkID0gZ2VuZXJhdGVHcm91cElkKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oYOOCu+OCreODpeODquODhuOCo+OBruOBn+OCgeOAgUlE44KS5paw44GX44GP44CMJHtuZXdJZH3jgI3jgavlpInmm7TjgZfjgb7jgZnjgIJcXG7ml6LlrZjjga7jg4fjg7zjgr/jgoLmlrDjgZfjgYRJROOBq+W8leOBjee2meOBjOOCjOOBvuOBmeOAglxcblxcbuOCiOOCjeOBl+OBhOOBp+OBmeOBi++8n2ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzTWlncmF0aW5nKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJZCAhPT0gbXlJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi6Ieq5YiG44Gu44Oq44K544OI44KS6KGo56S644GX44Gm44GE44KL5pmC44Gu44G/44CBSUTjga7lho3nmbrooYzjgYzlj6/og73jgafjgZnjgIJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNNaWdyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFN0b2NrIEl0ZW1zIGluIFN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmdyb3VwSWQgPT09IG15SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmID0gZGIuY29sbGVjdGlvbignYXJ0aWZhY3RzJykuZG9jKGFwcElkKS5jb2xsZWN0aW9uKCdwdWJsaWMnKS5kb2MoJ2RhdGEnKS5jb2xsZWN0aW9uKCdmcmVzaGtlZXBlcl9pdGVtcycpLmRvYyhpdGVtLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2gudXBkYXRlKHJlZiwgeyBncm91cElkOiBuZXdJZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFNob3BwaW5nIEl0ZW1zXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG9wcGluZ0l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZ3JvdXBJZCA9PT0gbXlJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWYgPSBkYi5jb2xsZWN0aW9uKCdhcnRpZmFjdHMnKS5kb2MoYXBwSWQpLmNvbGxlY3Rpb24oJ3B1YmxpYycpLmRvYygnZGF0YScpLmNvbGxlY3Rpb24oJ2ZyZXNoa2VlcGVyX3Nob3BwaW5nJykuZG9jKGl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXRjaC51cGRhdGUocmVmLCB7IGdyb3VwSWQ6IG5ld0lkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYmF0Y2guY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBMb2NhbCBTdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TXlJZChuZXdJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZnJlc2hrZWVwZXJfbXlfaWQnLCBuZXdJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJZChuZXdJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZnJlc2hrZWVwZXJfY3VycmVudF9pZCcsIG5ld0lkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwiSUTjgpLmlrDjgZfjgY/lho3nmbrooYzjgZfjgb7jgZfjgZ9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1NoYXJlTW9kYWxPcGVuKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTWlncmF0aW9uIGVycm9yOlwiLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiSUTjga7lpInmm7TkuK3jgavjgqjjg6njg7zjgYznmbrnlJ/jgZfjgb7jgZfjgZ/jgIJcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc01pZ3JhdGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVMZWF2ZUdyb3VwID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uZmlybShcIuWFseacieOCkuino+mZpOOBl+OBvuOBmeOBi++8n1xcbuino+mZpOOBmeOCi+OBqOOAgeiHquWIhuOBruODquOCueODiO+8iOODnuOCpOODm+ODvOODoO+8ieOBq+aIu+OCiuOBvuOBmeOAglwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50SWQobXlJZCk7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmcmVzaGtlZXBlcl9jdXJyZW50X2lkJywgbXlJZCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRJc0l0ZW1zTG9hZGVkKGZhbHNlKTsgXG4gICAgICAgICAgICAgICAgICAgIHNldElzU2hvcHBpbmdMb2FkZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLoh6rliIbjga7jg6rjgrnjg4jjgavmiLvjgorjgb7jgZfjgZ9cIik7XG4gICAgICAgICAgICAgICAgICAgIHNldElzU2hhcmVNb2RhbE9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFJlbG9hZCBmb3IgUFdBXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVSZWxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCfnlLvpnaLjgpLlho3oqq3jgb/ovrzjgb/jgZfjgb7jgZnjgYvvvJ8nKSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFhdXRoKSByZXR1cm4gPExvYWRpbmdPdmVybGF5IGlzVmlzaWJsZT17dHJ1ZX0gLz47XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gcGItNDAgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIGJnLVsjRjJGMkY3XVwiPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIExvYWRpbmcgT3ZlcmxheSAqL31cbiAgICAgICAgICAgICAgICAgICAgPExvYWRpbmdPdmVybGF5IGlzVmlzaWJsZT17aXNMb2FkaW5nIHx8IGlzTWlncmF0aW5nfSAvPlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICAgICAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTAgdy1mdWxsIHotMjAgZ2xhc3MgcHgtNiBweS00IGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIHRyYWNraW5nLXRpZ2h0IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGN1cnNvci1wb2ludGVyIGFjdGl2ZTpvcGFjaXR5LTYwIHRyYW5zaXRpb24tb3BhY2l0eSBtbC0wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIuOCv+ODg+ODl+OBl+OBpuWGjeiqreOBv+i+vOOBv1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg44Oi44OD44K/44Kk44OK44Kk44OK44O8XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNTaGFyZU1vZGFsT3Blbih0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy05IGgtOSByb3VuZGVkLWZ1bGwgYm9yZGVyIHNoYWRvdy1zbSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBhY3RpdmU6c2NhbGUtOTUgdHJhbnNpdGlvbi1hbGwgJHtpc1NoYXJlZCA/ICdiZy1ibHVlLTUwIGJvcmRlci1ibHVlLTIwMCB0ZXh0LWJsdWUtNTAwJyA6ICdiZy13aGl0ZS84MCBib3JkZXItZ3JheS0yMDAvODAgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi5YWx5pyJ6Kit5a6aXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJ1c2Vyc1wiIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNDYWxjT3Blbih0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy05IGgtOSByb3VuZGVkLWZ1bGwgYmctd2hpdGUvODAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMC84MCBzaGFkb3ctc20gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmF5LTUwMCBob3ZlcjpiZy1ncmF5LTUwIGFjdGl2ZTpzY2FsZS05NSB0cmFuc2l0aW9uLWFsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCLlibLlvJXoqIjnrpdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInBlcmNlbnRcIiBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogTWFpbiBDb250ZW50ICovfVxuICAgICAgICAgICAgICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJwdC0yMCBweC00IG1heC13LW1kIG14LWF1dG8gbWluLWgtc2NyZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBWSUVXOiBTVE9DSyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VmlldyA9PT0gJ3N0b2NrJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLWZhZGUtaW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHB4LTIgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlc3RcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg6aOf5p2Q44Oq44K544OIICh7aXRlbXMubGVuZ3RofSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBEYXRlIHdpdGggUGlsb3QgTGFtcCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJnLXdoaXRlLzYwIHB4LTIuNSBweS0xIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWdyYXktMTAwIHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSByb3VuZGVkLWZ1bGwgYmctZW1lcmFsZC00MDAgYW5pbWF0ZS1wdWxzZSBzaGFkb3ctWzBfMF81cHhfcmdiYSg1MiwyMTEsMTUzLDAuNSldXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSBmb250LWJvbGQgdGV4dC1ncmF5LTUwMCB0cmFja2luZy13aWRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0VG9kYXlTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzb3J0ZWRJdGVtcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS0yMCBvcGFjaXR5LTQwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJwYWNrYWdlLW9wZW5cIiBzaXplPXs0OH0gY2xhc3NOYW1lPVwibXgtYXV0byBtYi00IHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOmjn+adkOODquOCueODiOOBr+epuuOBo+OBveOBp+OBmVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMiB0ZXh0LWdyYXktNDAwXCI+44GK6LK344GE54mp44KS44GX44Gf44KJ6L+95Yqg44GX44G+44GX44KH44GGPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0ZWRJdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvb2RJdGVtIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLmlkfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW09e2l0ZW19IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25zdW1lPXsoKSA9PiBoYW5kbGVEZWxldGVJdGVtKGl0ZW0uaWQsIGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdD17KCkgPT4gb3BlbkVkaXRNb2RhbChpdGVtKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogVklFVzogU0hPUFBJTkcgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFZpZXcgPT09ICdzaG9wcGluZycgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1mYWRlLWluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMiBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwic2hvcHBpbmctY2FydFwiIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOiyt+OBhOeJqeODoeODolxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBtdC0xXCI+5b+F6KaB44Gq44KC44Gu44KS44Oh44Oi44GX44Gm44GK44GN44G+44GX44KH44GGPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3BwaW5nSXRlbXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMjAgb3BhY2l0eS00MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiY2xpcGJvYXJkLWxpc3RcIiBzaXplPXs0OH0gY2xhc3NOYW1lPVwibXgtYXV0byBtYi00IHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDBcIj7osrfjgYbjgoLjga7jga/jgYLjgorjgb7jgZvjgpM8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMiB0ZXh0LWdyYXktNDAwXCI+77yL44Oc44K/44Oz44Gn44Oh44Oi44KS6L+95YqgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wcGluZ0l0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2hvcHBpbmdJdGVtIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbT17aXRlbX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdD17KCkgPT4gb3BlbkVkaXRNb2RhbChpdGVtLCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlPXsoKSA9PiBoYW5kbGVEZWxldGVJdGVtKGl0ZW0uaWQsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3ZlPXsoKSA9PiBvcGVuTW92ZU1vZGFsKGl0ZW0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBGb290ZXIgU2VjcmV0ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xMiBtYi04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUZvb3RlclRhcH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1ncmF5LTMwMCBmb250LW1lZGl1bSB0cmFja2luZy13aWRlc3QgdXBwZXJjYXNlIGN1cnNvci1wb2ludGVyIHNlbGVjdC1ub25lIGFjdGl2ZTp0ZXh0LWdyYXktNDAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvdmUgZm9vZCwgaGF0ZSB3YXN0ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9tYWluPlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBJbnRlZ3JhdGVkIEZsb2F0aW5nIE5hdmlnYXRpb24gJiBBZGQgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS04IGxlZnQtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXgtMS8yIHotNDAgdy1hdXRvIG1heC13LVs5NXZ3XVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1mbG9hdCBweC0xLjUgcHktMS41IHJvdW5kZWQtZnVsbCBzaGFkb3ctMnhsIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFZpZXcoJ3N0b2NrJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMjggaC0xMiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIHRhcC1oaWdobGlnaHQtdHJhbnNwYXJlbnQgZ2FwLTIgJHtjdXJyZW50VmlldyA9PT0gJ3N0b2NrJyA/ICdiZy13aGl0ZSB0ZXh0LWdyYXktOTAwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgc2hhZG93LXNtJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwicmVmcmlnZXJhdG9yXCIgc2l6ZT17MjB9IHN0cm9rZVdpZHRoPXtjdXJyZW50VmlldyA9PT0gJ3N0b2NrJyA/IDIuNSA6IDJ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkXCI+6aOf5p2Q44Oq44K544OIPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b3BlbkFkZE1vZGFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTEyIGgtMTIgbXgtMiB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBob3ZlcjpzY2FsZS0xMDUgYWN0aXZlOnNjYWxlLTk1IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCB0YXAtaGlnaGxpZ2h0LXRyYW5zcGFyZW50ICR7Y3VycmVudFZpZXcgPT09ICdzaG9wcGluZycgPyAnYmctYmx1ZS02MDAnIDogJ2JnLWJsYWNrJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi6L+95YqgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJwbHVzXCIgc2l6ZT17MjR9IHN0cm9rZVdpZHRoPXszfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFZpZXcoJ3Nob3BwaW5nJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMjggaC0xMiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIHRhcC1oaWdobGlnaHQtdHJhbnNwYXJlbnQgZ2FwLTIgJHtjdXJyZW50VmlldyA9PT0gJ3Nob3BwaW5nJyA/ICdiZy13aGl0ZSB0ZXh0LWJsdWUtNjAwIGJvcmRlciBib3JkZXItYmx1ZS0xMDAgc2hhZG93LXNtJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwic2hvcHBpbmctY2FydFwiIHNpemU9ezIwfSBzdHJva2VXaWR0aD17Y3VycmVudFZpZXcgPT09ICdzaG9wcGluZycgPyAyLjUgOiAyfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtYm9sZFwiPuiyt+OBhOeJqTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogTm90aWZpY2F0aW9uIFRvYXN0ICovfVxuICAgICAgICAgICAgICAgICAgICA8VXBkYXRlVG9hc3QgXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9ja0NvdW50PXtuZXdTdG9ja0NvdW50fSBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3BwaW5nQ291bnQ9e25ld1Nob3BwaW5nQ291bnR9IFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlPXtzaG93VXBkYXRlVG9hc3R9IFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFeGl0aW5nPXtpc1VwZGF0ZVRvYXN0RXhpdGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dVcGRhdGVUb2FzdChmYWxzZSl9IFxuICAgICAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBNb2RhbCAoU2hhcmVkIGZvciBTdG9jayBBZGQvRWRpdCwgU2hvcHBpbmcgQWRkL0VkaXQsIE1vdmUpICovfVxuICAgICAgICAgICAgICAgICAgICB7bW9kYWxNb2RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay8yMCBiYWNrZHJvcC1ibHVyLXNtIHRyYW5zaXRpb24tb3BhY2l0eVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Nsb3NlTW9kYWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgdy1mdWxsIG1heC13LW1kIHJvdW5kZWQtWzJyZW1dIHAtNiBzaGFkb3ctMnhsIGFuaW1hdGUtc2xpZGUtdXAgcmVsYXRpdmUgei0xMCBtLTQgcGItNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2xvc2VNb2RhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC02IHJpZ2h0LTYgdGV4dC1ncmF5LTQwMCBob3Zlci1idG4tY2xvc2UgYmctZ3JheS0xMDAgcC0yIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyB6LTIwIGJnLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInhcIiBzaXplPXsyMH0gY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtbm9uZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEgYmctZ3JheS0yMDAgcm91bmRlZC1mdWxsIG14LWF1dG8gbWItNlwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwci04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kYWxNb2RlID09PSAnbW92ZUZyb21TaG9wcGluZycgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cImFycm93LXJpZ2h0LWNpcmNsZVwiIHNpemU9ezIwfSBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg6aOf5p2Q44Oq44K544OI44G456e75YuVXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbW9kYWxNb2RlLmluY2x1ZGVzKCdTaG9wcGluZycpID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJzaG9wcGluZy1jYXJ0XCIgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb2RhbE1vZGUgPT09ICdhZGRTaG9wcGluZycgPyAn44Oh44Oi44KS6L+95YqgJyA6ICfjg6Hjg6LjgpLnt6jpm4YnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPXttb2RhbE1vZGUgPT09ICdhZGQnID8gXCJzaG9wcGluZy1iYWdcIiA6IFwiZWRpdC0zXCJ9IHNpemU9ezIwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bW9kYWxNb2RlID09PSAnYWRkJyA/ICfpo5/mnZDjgpLov73liqAnIDogJ+aDheWgseOCkue3qOmbhid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LWdyYXktNDAwIG1iLTIgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj7lkI3liY08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLkvovvvJrniZvkubPjgIHosYbohZAuLi5cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGcgZm9udC1tZWRpdW0gYm9yZGVyLWItMiBib3JkZXItZ3JheS0xMDAgcHktMiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLWJsYWNrIGJnLXRyYW5zcGFyZW50IHBsYWNlaG9sZGVyLWdyYXktMzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0TmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXM9e21vZGFsTW9kZSA9PT0gJ2FkZCcgfHwgbW9kYWxNb2RlID09PSAnYWRkU2hvcHBpbmcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyBmb250LWJvbGQgdGV4dC1ncmF5LTQwMCBtYi0yIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOODqeODmeODqyA8c3BhbiBjbGFzc05hbWU9XCJmb250LW5vcm1hbCB0ZXh0LWdyYXktMzAwIG1sLTFcIj4o5Lu75oSPKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInRhZ1wiIHNpemU9ezE2fSBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTAgdG9wLTMgdGV4dC1ncmF5LTMwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuS+i++8muWGt+WHjeOAgemWi+Wwgea4iOOAgeaui+OCiuWNiuWIhi4uLlwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtYmFzZSBmb250LW1lZGl1bSBib3JkZXItYi0yIGJvcmRlci1ncmF5LTEwMCBweS0yIHBsLTYgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1ibGFjayBiZy10cmFuc3BhcmVudCBwbGFjZWhvbGRlci1ncmF5LTMwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXRMYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXRMYWJlbChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyghbW9kYWxNb2RlLmluY2x1ZGVzKCdTaG9wcGluZycpIHx8IG1vZGFsTW9kZSA9PT0gJ21vdmVGcm9tU2hvcHBpbmcnKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLWZhZGUtaW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS00MDAgbWItMiB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPuacn+mZkDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCB0ZXh0LWxnIGZvbnQtbWVkaXVtIGJnLWdyYXktNTAgcm91bmRlZC14bCBwbC00IHByLTIgcHktMyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmxhY2svNSAkeyFpbnB1dERhdGUgPyAndGV4dC10cmFuc3BhcmVudCcgOiAndGV4dC1ncmF5LTgwMCd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXREYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXREYXRlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IWlucHV0RGF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC00IHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktMzAwIHBvaW50ZXItZXZlbnRzLW5vbmUgdGV4dC1iYXNlIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOW5tCAvIOaciCAvIOaXpVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zIG10LTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlSXRlbX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpbnB1dE5hbWUgfHwgKCghbW9kYWxNb2RlLmluY2x1ZGVzKCdTaG9wcGluZycpIHx8IG1vZGFsTW9kZSA9PT0gJ21vdmVGcm9tU2hvcHBpbmcnKSAmJiAhaW5wdXREYXRlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJsYWNrIHRleHQtd2hpdGUgZm9udC1ib2xkIHRleHQtYmFzZSBweS00IHJvdW5kZWQteGwgc2hhZG93LWxnIHNoYWRvdy1ibGFjay8yMCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOnNoYWRvdy1ub25lIGFjdGl2ZTpzY2FsZS1bMC45OF0gdHJhbnNpdGlvbi1hbGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGFsTW9kZSA9PT0gJ21vdmVGcm9tU2hvcHBpbmcnID8gJ+mjn+adkOODquOCueODiOOBuOenu+WLlScgOiAn5L+d5a2Y44GZ44KLJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDYWxjdWxhdG9yIE1vZGFsICovfVxuICAgICAgICAgICAgICAgICAgICB7aXNDYWxjT3BlbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FsY3VsYXRvck1vZGFsIG9uQ2xvc2U9eygpID0+IHNldElzQ2FsY09wZW4oZmFsc2UpfSAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBTaGFyZSBTZXR0aW5ncyBNb2RhbCAqL31cbiAgICAgICAgICAgICAgICAgICAge2lzU2hhcmVNb2RhbE9wZW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFNoYXJlTW9kYWwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlJZD17bXlJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SWQ9e2N1cnJlbnRJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NoYXJlZD17aXNTaGFyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0SXNTaGFyZU1vZGFsT3BlbihmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Kb2luPXtoYW5kbGVKb2luR3JvdXB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWdlbmVyYXRlPXtoYW5kbGVSZWdlbmVyYXRlSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25MZWF2ZT17aGFuZGxlTGVhdmVHcm91cH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFRvYXN0ICovfVxuICAgICAgICAgICAgICAgICAgICB7dG9hc3QubWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhYnNvbHV0ZSBpbnNldC0wIGJnLWJsYWNrLzUgYmFja2Ryb3AtYmx1ci1bMXB4XSB0cmFuc2l0aW9uLW9wYWNpdHkgJHt0b2FzdC5pc0V4aXRpbmcgPyAnYW5pbWF0ZS1mYWRlLW91dCcgOiAnYW5pbWF0ZS1mYWRlLWluJ31gfT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHJlbGF0aXZlIGJnLXdoaXRlLzk1IGJhY2tkcm9wLWJsdXIteGwgcHgtNiBweS01IHJvdW5kZWQtWzJyZW1dIHNoYWRvdy0yeGwgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTQgcG9pbnRlci1ldmVudHMtYXV0byBtYXgtdy1bODUlXSB0ZXh0LWNlbnRlciBib3JkZXIgYm9yZGVyLXdoaXRlLzUwICR7dG9hc3QuaXNFeGl0aW5nID8gJ2FuaW1hdGUtZmFkZS1vdXQnIDogJ2FuaW1hdGUtcG9wLWluJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgYmctZW1lcmFsZC01MCByb3VuZGVkLWZ1bGwgdGV4dC1lbWVyYWxkLTUwMCBzaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9e3RvYXN0LnR5cGUgPT09IFwic3VjY2Vzc1wiID8gXCJjaGVja1wiIDogXCJpbmZvXCJ9IHNpemU9ezI0fSBzdHJva2VXaWR0aD17M30gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTgwMCBmb250LWJvbGQgdGV4dC1iYXNlIGxlYWRpbmctc251Z1wiPnt0b2FzdC5tZXNzYWdlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0b2FzdC5hY3Rpb25zICYmIHRvYXN0LmFjdGlvbnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTMgdy1mdWxsIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG9hc3QuYWN0aW9ucy5tYXAoKGFjdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthY3Rpb24uaGFuZGxlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSBweS0yLjUgcHgtNCByb3VuZGVkLXhsIHRleHQtc20gZm9udC1ib2xkIHRyYW5zaXRpb24tYWxsIGFjdGl2ZTpzY2FsZS05NSAke2FjdGlvbi5zdHlsZSA9PT0gJ3ByaW1hcnknID8gJ2JnLWJsdWUtNjAwIHRleHQtd2hpdGUgc2hhZG93LWxnIHNoYWRvdy1ibHVlLTIwMCBob3ZlcjpiZy1ibHVlLTcwMCcgOiAnYmctZ3JheS0xMDAgdGV4dC1ncmF5LTUwMCBob3ZlcjpiZy1ncmF5LTIwMCBob3Zlcjp0ZXh0LWdyYXktNzAwJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWN0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG9hc3Quc2hvd0Nsb3NlVGV4dCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFRvYXN0KHsgbWVzc2FnZTogbnVsbCwgYWN0aW9uczogW10gfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAgcHktMiBweC00IHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDplonjgZjjgotcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIC0tLSBMb2FkaW5nIE92ZXJsYXkgLS0tXG4gICAgICAgIGNvbnN0IExvYWRpbmdPdmVybGF5ID0gKHsgaXNWaXNpYmxlIH0pID0+IHtcbiAgICAgICAgICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZpeGVkIGluc2V0LTAgei1bMTAwXSBiZy1bI0YyRjJGN10gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTUwMCAke2lzVmlzaWJsZSA/ICdvcGFjaXR5LTEwMCcgOiAnb3BhY2l0eS0wIHBvaW50ZXItZXZlbnRzLW5vbmUnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIHRyYWNraW5nLXRpZ2h0IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTYgYW5pbWF0ZS1wdWxzZS1zbG93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInJlZnJpZ2VyYXRvclwiIHNpemU9ezI4fSBzdHJva2VXaWR0aD17Mi41fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIOODouODg+OCv+OCpOODiuOCpOODiuODvFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgYm9yZGVyLVszcHhdIGJvcmRlci1ncmF5LTIwMCBib3JkZXItdC1lbWVyYWxkLTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAtLS0gVXBkYXRlIFRvYXN0IENvbXBvbmVudCAtLS1cbiAgICAgICAgY29uc3QgVXBkYXRlVG9hc3QgPSAoeyBzdG9ja0NvdW50LCBzaG9wcGluZ0NvdW50LCBpc1Zpc2libGUsIGlzRXhpdGluZywgb25DbG9zZSB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzVmlzaWJsZSB8fCAoc3RvY2tDb3VudCA9PT0gMCAmJiBzaG9wcGluZ0NvdW50ID09PSAwKSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmaXhlZCB0b3AtMjQgbGVmdC0wIHJpZ2h0LTAgei01MCBmbGV4IGp1c3RpZnktY2VudGVyIHBvaW50ZXItZXZlbnRzLW5vbmUgcHgtNCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi01MDAgJHtpc0V4aXRpbmcgPyAnb3BhY2l0eS0wIHRyYW5zbGF0ZS15LVstMTBweF0nIDogJ29wYWNpdHktMTAwIGFuaW1hdGUtcG9wLWluJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMC85NSBiYWNrZHJvcC1ibHVyLW1kIHRleHQtd2hpdGUgcHktMyBwbC01IHByLTMgcm91bmRlZC1mdWxsIHNoYWRvdy0yeGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgcG9pbnRlci1ldmVudHMtYXV0byBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIHJpbmctMSByaW5nLWJsYWNrLzVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgdGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC14cyBmb250LWJvbGRcIj7ov73liqDjgZXjgozjgb7jgZfjgZ88L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNCBiZy1ncmF5LTYwMFwiPjwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0b2NrQ291bnQgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IHRleHQtZW1lcmFsZC00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJyZWZyaWdlcmF0b3JcIiBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWJhc2VcIj57c3RvY2tDb3VudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RvY2tDb3VudCA+IDAgJiYgc2hvcHBpbmdDb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMSBoLTEgcm91bmRlZC1mdWxsIGJnLWdyYXktNjAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG9wcGluZ0NvdW50ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSB0ZXh0LWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwic2hvcHBpbmctY2FydFwiIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtYmFzZVwiPntzaG9wcGluZ0NvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWwtMiBwLTEuNSAtbXItMSByb3VuZGVkLWZ1bGwgYmctZ3JheS03MDAvNTAgdGV4dC1ncmF5LTQwMCBob3ZlcjpiZy1ncmF5LTcwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwieFwiIHNpemU9ezE0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAtLS0gU2hhcmUgTW9kYWwgLS0tXG4gICAgICAgIGNvbnN0IFNoYXJlTW9kYWwgPSAoeyBteUlkLCBjdXJyZW50SWQsIGlzU2hhcmVkLCBvbkNsb3NlLCBvbkpvaW4sIG9uUmVnZW5lcmF0ZSwgb25MZWF2ZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbaW5wdXRHcm91cElkLCBzZXRJbnB1dEdyb3VwSWRdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgW2lzQ2xvc2luZywgc2V0SXNDbG9zaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFt2aWV3LCBzZXRWaWV3XSA9IHVzZVN0YXRlKCdtYWluJyk7IC8vICdtYWluJyBvciAnaGVscCdcbiAgICAgICAgICAgIGNvbnN0IFtjb3B5RmVlZGJhY2ssIHNldENvcHlGZWVkYmFja10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzQ2xvc2luZyh0cnVlKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KG9uQ2xvc2UsIDMwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVDb3B5ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgICAgICAgICBlbC52YWx1ZSA9IG15SWQ7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgICAgICAgICAgZWwuc2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRDb3B5RmVlZGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3B5RmVlZGJhY2soZmFsc2UpLCAyMDAwKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGFic29sdXRlIGluc2V0LTAgYmctYmxhY2svNDAgYmFja2Ryb3AtYmx1ci1zbSB0cmFuc2l0aW9uLW9wYWNpdHkgJHtpc0Nsb3NpbmcgPyAnYW5pbWF0ZS1mYWRlLW91dCcgOiAnYW5pbWF0ZS1mYWRlLWluJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BiZy13aGl0ZSB3LWZ1bGwgbWF4LXctbWQgcm91bmRlZC1bMnJlbV0gcC0wIHNoYWRvdy0yeGwgcmVsYXRpdmUgei0xMCBtLTQgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItd2hpdGUvNTAgYW5pbWF0ZS1wb3AtaW4gJHtpc0Nsb3NpbmcgPyAnYW5pbWF0ZS1mYWRlLW91dCcgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEhlYWRlciBBcmVhICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHAtNCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYm9yZGVyLWIgYm9yZGVyLWdyYXktMTAwIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3ZpZXcgPT09ICdoZWxwJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaWV3KCdtYWluJyl9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC00IHAtMS41IC1tbC0xLjUgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktODAwIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1ncmF5LTIwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJjaGV2cm9uLWxlZnRcIiBzaXplPXsyNH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPXtgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgJHt2aWV3ID09PSAnaGVscCcgPyAnbXgtYXV0bycgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTEwMCBwLTEuNSByb3VuZGVkLWxnIHRleHQtYmx1ZS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9e3ZpZXcgPT09ICdtYWluJyA/IFwidXNlcnNcIiA6IFwiaGVscC1jaXJjbGVcIn0gc2l6ZT17MTh9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dmlldyA9PT0gJ21haW4nID8gJ+WFseacieioreWumicgOiAn44OY44Or44OXJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTYwMCBiZy13aGl0ZSByb3VuZGVkLWZ1bGwgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnMgc2hhZG93LXNtIHotMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInhcIiBzaXplPXsxOH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBtYXgtaC1bNzB2aF0gb3ZlcmZsb3cteS1hdXRvIGN1c3RvbS1zY3JvbGxiYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt2aWV3ID09PSAnbWFpbicgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9XCJtYWluXCIgY2xhc3NOYW1lPVwiYW5pbWF0ZS1mYWRlLWluIHNwYWNlLXktOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDEuIE15IElEIENhcmQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWVuZCBweC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS00MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVzdFwiPuOBguOBquOBn+OBrklEPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblJlZ2VuZXJhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTYwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBob3ZlcjpiZy1ncmF5LTEwMCBweC0yIHB5LTEgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiSUTjgpLmlrDjgZfjgY/kvZzjgornm7TjgZlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInJlZnJlc2gtY3dcIiBzaXplPXsxMH0gLz4g5YaN55m66KGMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb3B5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MCB0by1pbmRpZ28tNTAgYm9yZGVyIGJvcmRlci1ibHVlLTEwMCByb3VuZGVkLTJ4bCBwLTUgdGV4dC1jZW50ZXIgY3Vyc29yLXBvaW50ZXIgZ3JvdXAgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGFjdGl2ZTpzY2FsZS1bMC45OF1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTQwMCBtYi0xXCI+44GT44GuSUTjgpLjg5Hjg7zjg4jjg4rjg7zjgavkvJ3jgYjjgabjgY/jgaDjgZXjgYQ8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LW1vbm8gZm9udC1ib2xkIHRleHQtYmx1ZS02MDAgdHJhY2tpbmctd2lkZXN0IG1iLTEgZ3JvdXAtaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtteUlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC14cyBmb250LWJvbGQgdGV4dC1ibHVlLTQwMC84MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29weUZlZWRiYWNrID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1lbWVyYWxkLTUwMCBhbmltYXRlLXBvcC1pblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJjaGVja1wiIHNpemU9ezEyfSAvPiDjgrPjg5Tjg7zjgZfjgb7jgZfjgZ9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGdyb3VwLWhvdmVyOnRleHQtYmx1ZS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiY29weVwiIHNpemU9ezEyfSAvPiDjgr/jg4Pjg5fjgZfjgabjgrPjg5Tjg7xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRGl2aWRlciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyXCI+PGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLXQgYm9yZGVyLWdyYXktMTAwXCI+PC9kaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXgganVzdGlmeS1jZW50ZXIgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTMgYmctd2hpdGUgdGV4dC1ncmF5LTQwMCBmb250LW1lZGl1bVwiPuOBvuOBn+OBrzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogMi4gSm9pbiBGb3JtIG9yIFN0YXR1cyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzU2hhcmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1lbWVyYWxkLTUwIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDAgcm91bmRlZC0yeGwgcC01IHRleHQtY2VudGVyIHNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtMiBiZy13aGl0ZSByb3VuZGVkLWZ1bGwgdGV4dC1lbWVyYWxkLTUwMCBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cImxpbmtcIiBzaXplPXsyNH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JheS04MDBcIj7lhbHmnInkuK08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZW1lcmFsZC02MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg54++5Zyo44CB44OR44O844OI44OK44O844GuSUQgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tb25vIGZvbnQtYm9sZFwiPntjdXJyZW50SWR9PC9zcGFuPiDjgas8YnIvPuWPguWKoOOBl+OBpuODquOCueODiOOCkuWFseacieOBl+OBpuOBhOOBvuOBmeOAglxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25MZWF2ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LWJvbGQgdGV4dC1yb3NlLTQwMCBob3Zlcjp0ZXh0LXJvc2UtNjAwIGJnLXdoaXRlIGJvcmRlciBib3JkZXItcm9zZS0xMDAgaG92ZXI6Ymctcm9zZS01MCBweS0yLjUgcHgtNCByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBtdC0yIHNoYWRvdy1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwibG9nLW91dFwiIHNpemU9ezE0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlhbHmnInjgpLop6PpmaTjgZfjgaboh6rliIbjga7jg6rjgrnjg4jjgavmiLvjgotcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyBmb250LWJvbGQgdGV4dC1ncmF5LTQwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXN0IHB4LTFcIj7jg5Hjg7zjg4jjg4rjg7zjga5JROOBq+WPguWKoDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LXktMCBsZWZ0LTAgcGwtMyBmbGV4IGl0ZW1zLWNlbnRlciBwb2ludGVyLWV2ZW50cy1ub25lIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwibG9nLWluXCIgc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiSUTjgpLlhaXliptcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcGwtOSBwci00IHB5LTMgYmctZ3JheS01MCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQteGwgdGV4dC1sZyBmb250LW1vbm8gZm9udC1ib2xkIHRleHQtZ3JheS04MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1ibHVlLTUwMCBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTEwMCB0cmFuc2l0aW9uLWFsbCB1cHBlcmNhc2UgcGxhY2Vob2xkZXItZ3JheS0zMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbnB1dEdyb3VwSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dEdyb3VwSWQoZS50YXJnZXQudmFsdWUudG9VcHBlckNhc2UoKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uSm9pbihpbnB1dEdyb3VwSWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpbnB1dEdyb3VwSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibGFjayB0ZXh0LXdoaXRlIGZvbnQtYm9sZCB0ZXh0LXNtIHB4LTUgcm91bmRlZC14bCBzaGFkb3ctbGcgc2hhZG93LWdyYXktMjAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6c2hhZG93LW5vbmUgYWN0aXZlOnNjYWxlLTk1IHRyYW5zaXRpb24tYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Y+C5YqgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEZvb3RlciBMaW5rcyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdC0yIGZsZXggZmxleC1jb2wgZ2FwLTIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VmlldygnaGVscCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwIHVuZGVybGluZSBkZWNvcmF0aW9uLWdyYXktMzAwIHVuZGVybGluZS1vZmZzZXQtMiB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5YWx5pyJ44Gu5LuV57WE44G/44O76Kej6Zmk44Gr44Gk44GE44GmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS0xMDAgbXktMlwiPjwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRGF0YSBSZWNvdmVyeSBTZWN0aW9uIC0gRm9yIHVzZXJzIHdobyBsb3N0IGRhdGEgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtZ3JheS00MDAgYmctZ3JheS01MCBwLTIgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOODh+ODvOOCv+OBjOimi+OBpOOBi+OCiuOBvuOBm+OCk+OBi++8nzxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg44KC44GX5Lul5YmN44GuSUTjgpLopprjgYjjgabjgYTjgovloLTlkIjjga88YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOOAjOODkeODvOODiOODiuODvOOBrklE44Gr5Y+C5Yqg44CN44Gr5YWl5Yqb44GX44Gm44GP44Gg44GV44GE44CCPGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9XCJoZWxwXCIgY2xhc3NOYW1lPVwiYW5pbWF0ZS1mYWRlLWluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItMlwiPuWFseacieapn+iDveOBruS7lee1hOOBvzwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg44CM44GC44Gq44Gf44GuSUTjgI3jga/jgYLjgarjgZ/jga7lrrbjga7kvY/miYDjga7jgojjgYbjgarjgoLjga7jgafjgZnjgII8YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWkieOCj+OCi+OBk+OBqOOBr+OBguOCiuOBvuOBm+OCk+OAglxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHAtNCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZ3JheS0xMDAgZmxleCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC0yIHJvdW5kZWQtZnVsbCBoLWZpdCB0ZXh0LWJsdWUtNTAwIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWJsdWUtMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJsb2ctaW5cIiBzaXplPXsyMH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtc20gdGV4dC1ncmF5LTgwMCBtYi0xXCI+5Y+C5Yqg44GZ44KL44Go44Gp44GG44Gq44KL77yfPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGxlYWRpbmctcmVsYXhlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg44OR44O844OI44OK44O844Gu5a6277yISUTvvInjgavjgYrpgqrprZTjgZnjgovnirbmhYvjgavjgarjgorjgb7jgZnjgILoh6rliIbjga7jg6rjgrnjg4jjga/opovjgYjjgarjgY/jgarjgorjgb7jgZnjgYzjgIHjg4fjg7zjgr/jga/mtojjgYjjgZrjgavmrovjgaPjgabjgYTjgb7jgZnjgIJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCBwLTQgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWdyYXktMTAwIGZsZXggZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtMiByb3VuZGVkLWZ1bGwgaC1maXQgdGV4dC1yb3NlLTUwMCBzaGFkb3ctc20gYm9yZGVyIGJvcmRlci1yb3NlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwibG9nLW91dFwiIHNpemU9ezIwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbSB0ZXh0LWdyYXktODAwIG1iLTFcIj7op6PpmaTjgZnjgovjgajjganjgYbjgarjgovvvJ88L2g1PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDoh6rliIbjga7lrrbvvIhJRO+8ieOBq+aIu+OCiuOBvuOBmeOAguiHquWIhuOBjOS7peWJjeiomOmMsuOBl+OBpuOBhOOBn+ODquOCueODiOOBjOWGjeOBs+ihqOekuuOBleOCjOOBvuOBmeOAglxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHAtNCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZ3JheS0xMDAgZmxleCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC0yIHJvdW5kZWQtZnVsbCBoLWZpdCB0ZXh0LWVtZXJhbGQtNTAwIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWVtZXJhbGQtMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJzaGllbGQtY2hlY2tcIiBzaXplPXsyMH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtc20gdGV4dC1ncmF5LTgwMCBtYi0xXCI+44OH44O844K/44Gv5a6J5YWo44Gn44GZPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGxlYWRpbmctcmVsYXhlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Y+C5Yqg44KE6Kej6Zmk44KS6KGM44Gj44Gm44KC44CB44OH44O844K/44GM5raI44GI44Gf44KK5re344GW44Gj44Gf44KK44GZ44KL44GT44Go44Gv44GC44KK44G+44Gb44KT44CC44GE44Gk44Gn44KC6Ieq55Sx44Gr6KGM44GN5p2l44Gn44GN44G+44GZ44CCXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIC0tLSBORVcgQ09NUE9ORU5UOiBDYWxjdWxhdG9yIE1vZGFsIChFeGlzdGluZykgLS0tXG4gICAgICAgIGNvbnN0IENhbGN1bGF0b3JNb2RhbCA9ICh7IG9uQ2xvc2UgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW3ByaWNlLCBzZXRQcmljZV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgICAgICAgICBjb25zdCBbc2VsZWN0ZWREaXNjb3VudCwgc2V0U2VsZWN0ZWREaXNjb3VudF0gPSB1c2VTdGF0ZShudWxsKTsgXG4gICAgICAgICAgICBjb25zdCBbY3VzdG9tRGlzY291bnQsIHNldEN1c3RvbURpc2NvdW50XSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICAgIGNvbnN0IFtpc0Nsb3NpbmcsIHNldElzQ2xvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuXG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGlucHV0UmVmLmN1cnJlbnQpIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICAgIH0sIFtdKTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXNDbG9zaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGJhc2VQcmljZSA9IHBhcnNlSW50KHByaWNlLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBkaXNjb3VudFJhdGUgPSBzZWxlY3RlZERpc2NvdW50ICE9PSBudWxsID8gc2VsZWN0ZWREaXNjb3VudCA6IChjdXN0b21EaXNjb3VudCA/IHBhcnNlSW50KGN1c3RvbURpc2NvdW50LCAxMCkgOiAwKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1ZhbGlkUHJpY2UgPSAhaXNOYU4oYmFzZVByaWNlKSAmJiBiYXNlUHJpY2UgPiAwO1xuICAgICAgICAgICAgY29uc3QgaGFzVmFsaWREaXNjb3VudCA9ICFpc05hTihkaXNjb3VudFJhdGUpICYmIGRpc2NvdW50UmF0ZSA+IDA7XG4gICAgICAgICAgICBjb25zdCBmaW5hbFByaWNlID0gaGFzVmFsaWRQcmljZSAmJiBoYXNWYWxpZERpc2NvdW50ID8gTWF0aC5mbG9vcihiYXNlUHJpY2UgKiAoMSAtIGRpc2NvdW50UmF0ZSAvIDEwMCkpIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkQW1vdW50ID0gaGFzVmFsaWRQcmljZSAmJiBoYXNWYWxpZERpc2NvdW50ID8gYmFzZVByaWNlIC0gZmluYWxQcmljZSA6IG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1lbmQgc206aXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay8zMCBiYWNrZHJvcC1ibHVyLXNtIHRyYW5zaXRpb24tb3BhY2l0eSAke2lzQ2xvc2luZyA/ICdhbmltYXRlLWZhZGUtb3V0JyA6ICdhbmltYXRlLWZhZGUtaW4nfWB9IG9uQ2xpY2s9e2hhbmRsZUNsb3NlfT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BiZy13aGl0ZS85NSB3LWZ1bGwgbWF4LXctbWQgcm91bmRlZC10LVsycmVtXSBzbTpyb3VuZGVkLVsycmVtXSBwLTYgc2hhZG93LTJ4bCByZWxhdGl2ZSB6LTEwIHNtOm0tNCBwYi04IGJvcmRlciBib3JkZXItd2hpdGUvNTAgYmFja2Ryb3AtYmx1ci14bCAke2lzQ2xvc2luZyA/ICdhbmltYXRlLXNsaWRlLWRvd24nIDogJ2FuaW1hdGUtc2xpZGUtdXAnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEyIGgtMSBiZy1ncmF5LTMwMCByb3VuZGVkLWZ1bGwgbXgtYXV0byBtYi02IG9wYWNpdHktNTBcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTYgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktNTAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctb3JhbmdlLTEwMCBwLTEuNSByb3VuZGVkLWxnIHRleHQtb3JhbmdlLTUwMFwiPjxJY29uIG5hbWU9XCJjYWxjdWxhdG9yXCIgc2l6ZT17MTh9IC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWJsuW8leioiOeul1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDbG9zZX0gY2xhc3NOYW1lPVwicC0yIGJnLWdyYXktMTAwIHJvdW5kZWQtZnVsbCB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIj48SWNvbiBuYW1lPVwieFwiIHNpemU9ezIwfSAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcm91bmRlZC0yeGwgcC01IG1iLTYgc2hhZG93LWlubmVyIGJvcmRlciBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtYmFzZWxpbmUgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LWdyYXktNDAwXCI+5a6a5L6hPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0wIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktNDAwXCI+wqU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgcmVmPXtpbnB1dFJlZn0gdHlwZT1cIm51bWJlclwiIHZhbHVlPXtwcmljZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXRQcmljZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiMFwiIGNsYXNzTmFtZT1cInctZnVsbCBiZy10cmFuc3BhcmVudCB0ZXh0LTR4bCBmb250LWJvbGQgdGV4dC1ncmF5LTgwMCBmb2N1czpvdXRsaW5lLW5vbmUgcGwtNiBweS0yIGZvbnQtbW9ubyB0cmFja2luZy10aWdodCBwbGFjZWhvbGRlci1ncmF5LTMwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJpY2UgJiYgKDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0UHJpY2UoJycpfSBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0wIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktMzAwIHAtMVwiPjxJY29uIG5hbWU9XCJ4LWNpcmNsZVwiIHNpemU9ezE2fSAvPjwvYnV0dG9uPil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1weCBiZy1ncmF5LTIwMCB3LWZ1bGwgbXktNFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1lbmQganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LWdyYXktNDAwIGJsb2NrIG1iLTFcIj7libLlvJXlvow8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtNHhsIGZvbnQtYm9sZCBmb250LW1vbm8gdHJhY2tpbmctdGlnaHQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwICR7ZmluYWxQcmljZSAhPT0gbnVsbCA/ICd0ZXh0LWJsdWUtNjAwIHNjYWxlLTEwMCcgOiAndGV4dC1ncmF5LTMwMCBzY2FsZS05NSBvcmlnaW4tbGVmdCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgwqUge2ZpbmFsUHJpY2UgIT09IG51bGwgPyBmaW5hbFByaWNlLnRvTG9jYWxlU3RyaW5nKCkgOiAnLS0tJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NhdmVkQW1vdW50ICE9PSBudWxsICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yaWdodCBhbmltYXRlLXNjYWxlLWluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gZm9udC1ib2xkIHRleHQtZW1lcmFsZC01MDAgYmctZW1lcmFsZC01MCBweC0yIHB5LTEgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItZW1lcmFsZC0xMDBcIj7jgYrlvpc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LWVtZXJhbGQtNjAwIG10LTFcIj4twqV7c2F2ZWRBbW91bnQudG9Mb2NhbGVTdHJpbmcoKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlc3QgcGwtMlwiPuWJsuW8leeOh+OCkumBuOaKnjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy00IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbeyB2YWw6IDUsIGxhYmVsOiAnNSUnIH0sIHsgdmFsOiAxMCwgbGFiZWw6ICcxMCUnIH0sIHsgdmFsOiAyMCwgbGFiZWw6ICcyMCUnIH0sIHsgdmFsOiAzMCwgbGFiZWw6ICczMCUnIH0sIHsgdmFsOiA0MCwgbGFiZWw6ICc0MCUnIH0sIHsgdmFsOiA1MCwgbGFiZWw6ICc1MCUnIH0sIHsgdmFsOiA2MCwgbGFiZWw6ICc2MCUnIH0sIHsgdmFsOiA3MCwgbGFiZWw6ICc3MCUnIH1dLm1hcCgoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkRGlzY291bnQgPT09IGQudmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17ZC52YWx9IG9uQ2xpY2s9eygpID0+IHsgc2V0U2VsZWN0ZWREaXNjb3VudChkLnZhbCk7IHNldEN1c3RvbURpc2NvdW50KCcnKTsgfX0gY2xhc3NOYW1lPXtgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgcHktMyBmb250LWJvbGQgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYWN0aXZlOnNjYWxlLTk1IHNoYWRvdy1zbSAke2lzU2VsZWN0ZWQgPyAnYmctZ3JheS04MDAgdGV4dC13aGl0ZSBzaGFkb3ctbGcnIDogJ2JnLXdoaXRlIHRleHQtZ3JheS02MDAgYm9yZGVyIGJvcmRlci1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTUwJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2QubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1NlbGVjdGVkICYmICg8c3BhbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLXdoaXRlLzIwIGFuaW1hdGUtcHVsc2VcIj48L3NwYW4+KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0U2VsZWN0ZWREaXNjb3VudCg4MCk7IHNldEN1c3RvbURpc2NvdW50KCcnKTsgfX0gY2xhc3NOYW1lPXtgcm91bmRlZC14bCBweS0zIGZvbnQtYm9sZCB0ZXh0LXNtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBhY3RpdmU6c2NhbGUtOTUgc2hhZG93LXNtIGJvcmRlciAke3NlbGVjdGVkRGlzY291bnQgPT09IDgwID8gJ2JnLWdyYXktODAwIHRleHQtd2hpdGUgYm9yZGVyLXRyYW5zcGFyZW50JyA6ICdiZy13aGl0ZSB0ZXh0LWdyYXktNjAwIGJvcmRlci1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTUwJ31gfT44MCU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0zIHJlbGF0aXZlIGgtWzQ2cHhdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFic29sdXRlIGluc2V0LTAgcm91bmRlZC14bCBib3JkZXIgdHJhbnNpdGlvbi1jb2xvcnMgcG9pbnRlci1ldmVudHMtbm9uZSAke2N1c3RvbURpc2NvdW50ID8gJ2JvcmRlci1ibHVlLTUwMCBiZy1ibHVlLTUwLzUwJyA6ICdib3JkZXItZ3JheS0xMDAgYmctd2hpdGUnfWB9PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBwbGFjZWhvbGRlcj1cIuOBneOBruS7liAlXCIgdmFsdWU9e2N1c3RvbURpc2NvdW50fSBvbkNoYW5nZT17KGUpID0+IHsgc2V0Q3VzdG9tRGlzY291bnQoZS50YXJnZXQudmFsdWUpOyBzZXRTZWxlY3RlZERpc2NvdW50KG51bGwpOyB9fSBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGwgYmctdHJhbnNwYXJlbnQgdGV4dC1jZW50ZXIgZm9udC1ib2xkIHRleHQtZ3JheS03MDAgcGxhY2Vob2xkZXItZ3JheS0zMDAgZm9jdXM6b3V0bGluZS1ub25lIHotMTBcIiBzdHlsZT17eyBsaW5lSGVpZ2h0OiAnNDZweCcgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXN0b21EaXNjb3VudCAmJiA8c3BhbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC00IHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwIGZvbnQtYm9sZCB0ZXh0LXhzIHBvaW50ZXItZXZlbnRzLW5vbmVcIj4lPC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IEZvb2RJdGVtID0gKHsgaXRlbSwgb25Db25zdW1lLCBvbkVkaXQgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF5cyA9IGdldERheXNEaWZmKGl0ZW0uZGF0ZSk7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBnZXRVcmdlbmN5U3RhdHVzKGRheXMpO1xuICAgICAgICAgICAgY29uc3QgW2lzRXhpdGluZywgc2V0SXNFeGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNvbXBsZXRlID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHNldElzRXhpdGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG9uQ29uc3VtZShpdGVtLmlkKSwgMzAwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgZ3JvdXAgJHtpc0V4aXRpbmcgPyAnYW5pbWF0ZS1zd2lwZS1vdXQnIDogJ2FuaW1hdGUtZmFkZS1pbid9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17b25FZGl0fSBjbGFzc05hbWU9XCJnbGFzcy1jYXJkIHJvdW5kZWQteGwgcC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBzaGFkb3ctc20gdHJhbnNpdGlvbi10cmFuc2Zvcm0gYWN0aXZlOnNjYWxlLVswLjk5XSBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMS41IGgtMTIgcm91bmRlZC1mdWxsICR7c3RhdHVzLmNvbG9yfWB9PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC13cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JheS04MDAgdGV4dC1sZyBsZWFkaW5nLXRpZ2h0XCI+e2l0ZW0ubmFtZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubGFiZWwgJiYgKDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgYmctZ3JheS0xMDAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGwgd2hpdGVzcGFjZS1ub3dyYXBcIj57aXRlbS5sYWJlbH08L3NwYW4+KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC14cyBmb250LWJvbGQgcHgtMiBweS0wLjUgcm91bmRlZC1tZCAke3N0YXR1cy5iZ30gJHtzdGF0dXMudGV4dH1gfT57c3RhdHVzLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBmb250LW1lZGl1bSB0cmFja2luZy13aWRlXCI+e2Zvcm1hdERhdGUoaXRlbS5kYXRlKX3jgb7jgac8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNvbXBsZXRlfSBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWdyYXktMTAwIGZsZXgtc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmF5LTQwMCBob3Zlci1idG4tZW1lcmFsZCBhY3RpdmU6YmctZW1lcmFsZC01MDAgYWN0aXZlOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1hbGwgdGFwLWhpZ2hsaWdodC10cmFuc3BhcmVudCB6LTEwXCIgYXJpYS1sYWJlbD1cIumjn+OBueOBjeOBo+OBn1wiPjxJY29uIG5hbWU9XCJjaGVja1wiIHNpemU9ezIwfSAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgU2hvcHBpbmdJdGVtID0gKHsgaXRlbSwgb25FZGl0LCBvbkRlbGV0ZSwgb25Nb3ZlIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1jYXJkIHJvdW5kZWQteGwgcC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBzaGFkb3ctc20gYW5pbWF0ZS1mYWRlLWluIGN1cnNvci1wb2ludGVyIGFjdGl2ZTpzY2FsZS1bMC45OV0gdHJhbnNpdGlvbi10cmFuc2Zvcm1cIiBvbkNsaWNrPXtvbkVkaXR9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgYmctZ3JheS0xMDAgcm91bmRlZC1sZyB0ZXh0LWdyYXktNTAwXCI+PEljb24gbmFtZT1cInNob3BwaW5nLWJhZ1wiIHNpemU9ezIwfSAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JheS04MDAgdGV4dC1sZ1wiPntpdGVtLm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubGFiZWwgJiYgKDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgYmctZ3JheS0xMDAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGwgd2hpdGVzcGFjZS1ub3dyYXBcIj57aXRlbS5sYWJlbH08L3NwYW4+KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IG9uTW92ZSgpOyB9fSBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWJsdWUtNTAgdGV4dC1ibHVlLTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBob3Zlci1idG4tYmx1ZSB0cmFuc2l0aW9uLWNvbG9yc1wiIGFyaWEtbGFiZWw9XCLpo5/mnZDjg6rjgrnjg4jjgbjnp7vli5VcIj48SWNvbiBuYW1lPVwiYXJyb3ctcmlnaHRcIiBzaXplPXsyMH0gLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgb25EZWxldGUoKTsgfX0gY2xhc3NOYW1lPVwidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTUwIHRleHQtZ3JheS00MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaG92ZXItYnRuLXJvc2UgdHJhbnNpdGlvbi1jb2xvcnNcIiBhcmlhLWxhYmVsPVwi5YmK6ZmkXCI+PEljb24gbmFtZT1cInRyYXNoLTJcIiBzaXplPXsxOH0gLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpO1xuICAgICAgICByb290LnJlbmRlcig8QXBwIC8+KTtcbiAgICAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBQ0EsdUtBQUFBLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLHdCQUFBQyxNQUFBLEdBQUFBLE1BQUEsT0FBQUMsQ0FBQSxHQUFBRixDQUFBLENBQUFHLFFBQUEsa0JBQUFDLENBQUEsR0FBQUosQ0FBQSxDQUFBSyxXQUFBLDhCQUFBQyxFQUFBTixDQUFBLEVBQUFFLENBQUEsRUFBQUUsQ0FBQSxFQUFBRSxDQUFBLFFBQUFDLENBQUEsR0FBQUwsQ0FBQSxJQUFBQSxDQUFBLENBQUFNLFNBQUEsWUFBQUMsU0FBQSxHQUFBUCxDQUFBLEdBQUFPLFNBQUEsRUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLE1BQUEsQ0FBQUwsQ0FBQSxDQUFBQyxTQUFBLFVBQUFLLG1CQUFBLENBQUFILENBQUEsdUJBQUFWLENBQUEsRUFBQUUsQ0FBQSxFQUFBRSxDQUFBLFFBQUFFLENBQUEsRUFBQUMsQ0FBQSxFQUFBRyxDQUFBLEVBQUFJLENBQUEsTUFBQUMsQ0FBQSxHQUFBWCxDQUFBLFFBQUFZLENBQUEsT0FBQUMsQ0FBQSxLQUFBRixDQUFBLEtBQUFiLENBQUEsS0FBQWdCLENBQUEsRUFBQXBCLENBQUEsRUFBQXFCLENBQUEsRUFBQUMsQ0FBQSxFQUFBTixDQUFBLEVBQUFNLENBQUEsQ0FBQUMsSUFBQSxDQUFBdkIsQ0FBQSxNQUFBc0IsQ0FBQSxXQUFBQSxFQUFBckIsQ0FBQSxFQUFBQyxDQUFBLFdBQUFNLENBQUEsR0FBQVAsQ0FBQSxFQUFBUSxDQUFBLE1BQUFHLENBQUEsR0FBQVosQ0FBQSxFQUFBbUIsQ0FBQSxDQUFBZixDQUFBLEdBQUFGLENBQUEsRUFBQW1CLENBQUEsZ0JBQUFDLEVBQUFw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</script></head>
<body class="bg-gray-50 min-h-screen pb-20">

    <div id="root"><div class="min-h-screen pb-40 relative overflow-hidden bg-[#F2F2F7]"><header class="fixed top-0 w-full z-20 glass px-6 py-4 flex justify-between items-center transition-all duration-300"><h1 class="text-base font-bold text-gray-800 tracking-tight flex items-center gap-2 cursor-pointer active:opacity-60 transition-opacity ml-0" title="タップして再読み込み">モッタイナイナー</h1><div class="flex items-center gap-2"><button class="w-9 h-9 rounded-full border shadow-sm flex items-center justify-center active:scale-95 transition-all bg-white/80 border-gray-200/80 text-gray-400 hover:text-gray-600" aria-label="共有設定"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="users" class="lucide lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg></button><button class="w-9 h-9 rounded-full bg-white/80 border border-gray-200/80 shadow-sm flex items-center justify-center text-gray-500 hover:bg-gray-50 active:scale-95 transition-all" aria-label="割引計算"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="percent" class="lucide lucide-percent"><line x1="19" x2="5" y1="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle></svg></button></div></header><main class="pt-20 px-4 max-w-md mx-auto min-h-screen"><div class="animate-fade-in"><div class="space-y-3"><div class="flex justify-between items-center px-2 mb-3"><h2 class="text-xs font-bold text-gray-400 uppercase tracking-widest">食材リスト (0)</h2><div class="flex items-center gap-2 bg-white/60 px-2.5 py-1 rounded-full border border-gray-100 shadow-sm"><span class="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse shadow-[0_0_5px_rgba(52,211,153,0.5)]"></span><span class="text-[10px] font-bold text-gray-500 tracking-wide">12月8日 (月)</span></div></div><div class="text-center py-20 opacity-40"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="package-open" class="lucide lucide-package-open mx-auto mb-4 text-gray-400"><path d="M12 22v-9"></path><path d="M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z"></path><path d="M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13"></path><path d="M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z"></path></svg><p class="text-sm font-medium text-gray-500">食材リストは空っぽです</p><p class="text-xs mt-2 text-gray-400">お買い物をしたら追加しましょう</p></div></div></div><div class="mt-12 mb-8 text-center"><p class="text-[10px] text-gray-300 font-medium tracking-widest uppercase cursor-pointer select-none active:text-gray-400 transition-colors">Love food, hate waste.</p></div></main><div class="fixed bottom-8 left-1/2 transform -translate-x-1/2 z-40 w-auto max-w-[95vw]"><div class="glass-float px-1.5 py-1.5 rounded-full shadow-2xl flex items-center"><button class="flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 bg-white text-gray-900 border border-gray-200 shadow-sm"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="refrigerator" class="lucide lucide-refrigerator"><path d="M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z"></path><path d="M5 10h14"></path><path d="M15 7v6"></path></svg><span class="text-xs font-bold">食材リスト</span></button><button class="w-12 h-12 mx-2 text-white rounded-full shadow-lg flex-shrink-0 flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-300 tap-highlight-transparent bg-black" aria-label="追加"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="plus" class="lucide lucide-plus"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg></button><button class="flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 text-gray-400 hover:text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="shopping-cart" class="lucide lucide-shopping-cart"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path></svg><span class="text-xs font-bold">買い物</span></button></div></div></div></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // Firebase Initialization
        const firebaseConfig = window.__firebase_config ? JSON.parse(window.__firebase_config) : {};
        const appId = window.__app_id || 'default-app-id';
        
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const auth = firebase.auth();
        const db = firebase.firestore();

        // --- Helpers ---
        const Icon = ({ name, size = 24, className = "" }) => {
            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [name]);
            return <i data-lucide={name} width={size} height={size} className={className}></i>;
        };

        const getDaysDiff = (targetDate) => {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            const target = new Date(targetDate);
            target.setHours(0, 0, 0, 0);
            const diffTime = target - today;
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        };

        const formatDate = (dateStr) => {
            if (!dateStr) return "";
            const date = new Date(dateStr);
            return `${date.getMonth() + 1}/${date.getDate()}`;
        };

        const getTodayString = () => {
            const now = new Date();
            const days = ['日', '月', '火', '水', '木', '金', '土'];
            return `${now.getMonth() + 1}月${now.getDate()}日 (${days[now.getDay()]})`;
        };

        const getUrgencyStatus = (days) => {
            if (days < 0) return { color: "bg-rose-500", text: "text-rose-600", bg: "bg-rose-50", label: "期限切れ" };
            if (days === 0) return { color: "bg-orange-500", text: "text-orange-600", bg: "bg-orange-50", label: "今日まで" };
            if (days <= 2) return { color: "bg-amber-400", text: "text-amber-600", bg: "bg-amber-50", label: "あと" + days + "日" };
            if (days <= 5) return { color: "bg-yellow-400", text: "text-yellow-700", bg: "bg-yellow-50", label: "あと" + days + "日" };
            return { color: "bg-emerald-400", text: "text-emerald-600", bg: "bg-emerald-50", label: "あと" + days + "日" };
        };

        const generateGroupId = () => {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            for (let i = 0; i < 6; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        };

        const generateDeviceId = () => {
            return 'dev_' + Math.random().toString(36).substring(2, 15);
        };

        // --- Main App Component ---
        const App = () => {
            const [user, setUser] = useState(null);
            
            // --- ID Management with Migration Logic ---
            const [myId, setMyId] = useState(() => {
                let id = localStorage.getItem('freshkeeper_my_id');
                // Recovery logic for lost data after update
                if (!id) {
                    const legacyGroupId = localStorage.getItem('freshkeeper_groupId');
                    if (legacyGroupId) {
                        id = legacyGroupId; // Recover old ID!
                    } else {
                        id = generateGroupId();
                    }
                    localStorage.setItem('freshkeeper_my_id', id);
                }
                return id;
            });

            const [currentId, setCurrentId] = useState(() => {
                let saved = localStorage.getItem('freshkeeper_current_id');
                if (!saved) {
                    // Fallback to legacy groupId if available
                    const legacyGroupId = localStorage.getItem('freshkeeper_groupId');
                    if (legacyGroupId) {
                        saved = legacyGroupId;
                    } else {
                        saved = myId;
                    }
                    localStorage.setItem('freshkeeper_current_id', saved);
                }
                return saved;
            });

            const isShared = myId !== currentId;

            const [deviceId, setDeviceId] = useState(() => {
                let id = localStorage.getItem('freshkeeper_deviceId');
                if (!id) {
                    id = generateDeviceId();
                    localStorage.setItem('freshkeeper_deviceId', id);
                }
                return id;
            });

            const [currentView, setCurrentView] = useState('stock');
            const [items, setItems] = useState([]);
            const [shoppingItems, setShoppingItems] = useState([]);
            
            // Loading State
            const [isLoading, setIsLoading] = useState(true);
            const [isItemsLoaded, setIsItemsLoaded] = useState(false);
            const [isShoppingLoaded, setIsShoppingLoaded] = useState(false);
            const [isMigrating, setIsMigrating] = useState(false);

            // Notification States
            const [newStockCount, setNewStockCount] = useState(0);
            const [newShoppingCount, setNewShoppingCount] = useState(0);
            const [showUpdateToast, setShowUpdateToast] = useState(false);
            const [isUpdateToastExiting, setIsUpdateToastExiting] = useState(false);
            
            const prevStockCountRef = useRef(0);
            const prevShoppingCountRef = useRef(0);
            
            const lastVisitRef = useRef(localStorage.getItem('freshkeeper_last_visit') || new Date(0).toISOString());

            // Modal & Input States
            const [modalMode, setModalMode] = useState(null); 
            const [editingItem, setEditingItem] = useState(null);
            const [inputName, setInputName] = useState('');
            const [inputLabel, setInputLabel] = useState('');
            const [inputDate, setInputDate] = useState('');
            
            // UI States
            const [isCalcOpen, setIsCalcOpen] = useState(false);
            const [isShareModalOpen, setIsShareModalOpen] = useState(false);
            const [toast, setToast] = useState({ message: null, actions: [] });
            const [footerTapCount, setFooterTapCount] = useState(0);

            // Auth Initialization
            useEffect(() => {
                const initAuth = async () => {
                    if (window.__initial_auth_token) {
                        await auth.signInWithCustomToken(window.__initial_auth_token);
                    } else {
                        await auth.signInAnonymously();
                    }
                };
                initAuth();
                const unsubscribe = auth.onAuthStateChanged((u) => {
                    if (u) {
                        setUser(u);
                        // Ensure legacy groupId is preserved for recovery if needed
                        if (!localStorage.getItem('freshkeeper_groupId')) {
                            localStorage.setItem('freshkeeper_groupId', myId);
                        }
                    }
                });
                
                localStorage.setItem('freshkeeper_last_visit', new Date().toISOString());

                return () => unsubscribe();
            }, []);

            // Handle Loading State
            useEffect(() => {
                if (isItemsLoaded && isShoppingLoaded) {
                    const timer = setTimeout(() => setIsLoading(false), 500);
                    return () => clearTimeout(timer);
                }
            }, [isItemsLoaded, isShoppingLoaded]);

            // Firestore Subscriptions
            useEffect(() => {
                if (!user || !currentId) return;

                const lastVisit = lastVisitRef.current;

                // Items Collection
                const itemsRef = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items');
                
                const unsubscribeItems = itemsRef.onSnapshot((snapshot) => {
                    const fetchedItems = [];
                    let newCount = 0;
                    snapshot.forEach(doc => {
                        const data = doc.data();
                        if (data.groupId === currentId) {
                            fetchedItems.push({ id: doc.id, ...data });
                            
                            const isNew = data.createdAt > lastVisit;
                            const isNotMine = data.deviceId ? (data.deviceId !== deviceId) : (data.createdBy !== user.uid);
                            
                            if (isNew && isNotMine) {
                                newCount++;
                            }
                        }
                    });
                    setItems(fetchedItems);
                    setIsItemsLoaded(true); 
                    setNewStockCount(newCount);
                }, (error) => console.error("Items fetch error:", error));

                // Shopping Items Collection
                const shoppingRef = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping');
                
                const unsubscribeShopping = shoppingRef.onSnapshot((snapshot) => {
                    const fetchedShopping = [];
                    let newCount = 0;
                    snapshot.forEach(doc => {
                        const data = doc.data();
                        if (data.groupId === currentId) {
                            fetchedShopping.push({ id: doc.id, ...data });
                            
                            const isNew = data.createdAt > lastVisit;
                            const isNotMine = data.deviceId ? (data.deviceId !== deviceId) : (data.createdBy !== user.uid);

                            if (isNew && isNotMine) {
                                newCount++;
                            }
                        }
                    });
                    setShoppingItems(fetchedShopping);
                    setIsShoppingLoaded(true); 
                    setNewShoppingCount(newCount);
                }, (error) => console.error("Shopping fetch error:", error));

                return () => {
                    unsubscribeItems();
                    unsubscribeShopping();
                };
            }, [user, currentId, deviceId]);

            // Handle Notification Toast (ONLY when counts increase)
            useEffect(() => {
                const prevStock = prevStockCountRef.current;
                const prevShopping = prevShoppingCountRef.current;
                
                const isStockIncreased = newStockCount > prevStock;
                const isShoppingIncreased = newShoppingCount > prevShopping;

                prevStockCountRef.current = newStockCount;
                prevShoppingCountRef.current = newShoppingCount;

                if ((isStockIncreased && newStockCount > 0) || (isShoppingIncreased && newShoppingCount > 0)) {
                    setShowUpdateToast(true);
                    setIsUpdateToastExiting(false);
                    
                    const displayTimer = setTimeout(() => {
                        setIsUpdateToastExiting(true);
                    }, 2500);

                    const removeTimer = setTimeout(() => {
                        setShowUpdateToast(false);
                        setIsUpdateToastExiting(false);
                    }, 3000); 

                    return () => {
                        clearTimeout(displayTimer);
                        clearTimeout(removeTimer);
                    };
                }
            }, [newStockCount, newShoppingCount]);

            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [items, shoppingItems, modalMode, isCalcOpen, isShareModalOpen, showUpdateToast, isLoading]);


            // --- Actions ---

            const handleSaveItem = async () => {
                if (!inputName || !user || !currentId) return;
                
                const needsDate = (!modalMode.includes('Shopping') || modalMode === 'moveFromShopping');
                if (needsDate && !inputDate) return;

                const commonData = {
                    groupId: currentId, // Save to current view
                    createdBy: user.uid,
                    deviceId: deviceId,
                    name: inputName,
                    label: inputLabel,
                    createdAt: new Date().toISOString()
                };

                try {
                    if (modalMode === 'add') {
                        await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items').add({
                            ...commonData,
                            date: inputDate,
                        });
                        showToast("食材を追加しました");
                        window.scrollTo({ top: 0, behavior: 'smooth' });

                    } else if (modalMode === 'edit' && editingItem) {
                        await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items').doc(editingItem.id).update({
                            name: inputName,
                            label: inputLabel,
                            date: inputDate
                        });
                        showToast("情報を更新しました");

                    } else if (modalMode === 'addShopping') {
                        await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').add(commonData);
                        showToast("買い物メモに追加しました");
                        window.scrollTo({ top: 0, behavior: 'smooth' });

                    } else if (modalMode === 'editShopping' && editingItem) {
                        await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').doc(editingItem.id).update({
                            name: inputName,
                            label: inputLabel
                        });
                        showToast("メモを更新しました");

                    } else if (modalMode === 'moveFromShopping' && editingItem) {
                        await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items').add({
                            ...commonData,
                            date: inputDate,
                        });
                        await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').doc(editingItem.id).delete();
                        
                        showToast("食材リストに移動しました！🧊"); 
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                } catch (e) {
                    console.error("Error saving:", e);
                    showToast("エラーが発生しました");
                }

                closeModal();
            };

            const handleDeleteItem = async (id, isShopping = false) => {
                if (!user) return;
                
                try {
                    const collectionName = isShopping ? 'freshkeeper_shopping' : 'freshkeeper_items';
                    const itemToDelete = isShopping 
                        ? shoppingItems.find(i => i.id === id)
                        : items.find(i => i.id === id);
                    
                    await db.collection('artifacts').doc(appId).collection('public').doc('data').collection(collectionName).doc(id).delete();
                    
                    window.scrollTo({ top: 0, behavior: 'smooth' });

                    if (isShopping) {
                        const message = "リストから削除しました";
                        setToast({
                            message: message,
                            type: "info",
                            actions: [{
                                label: "元に戻す",
                                handler: async () => {
                                    const { id, ...data } = itemToDelete;
                                    await db.collection('artifacts').doc(appId).collection('public').doc('data').collection(collectionName).add(data);
                                    setToast({ message: "取り消しました", actions: [] });
                                    setTimeout(() => setToast({ message: null, actions: [] }), 2000);
                                }
                            }]
                        });
                        setTimeout(() => setToast(prev => (prev.message === message ? { message: null, actions: [] } : prev)), 2500);
                    } else {
                        const randomMsg = "使い切りました！👏";
                        setToast({
                            message: randomMsg,
                            type: "success", 
                            showCloseText: true,
                            actions: [
                                {
                                    label: "元に戻す",
                                    style: "secondary",
                                    handler: async () => {
                                        const { id, ...data } = itemToDelete;
                                        await db.collection('artifacts').doc(appId).collection('public').doc('data').collection(collectionName).add(data);
                                        setToast({ message: "取り消しました", actions: [] });
                                        setTimeout(() => setToast({ message: null, actions: [] }), 2000);
                                    }
                                },
                                {
                                    label: "買い物メモに追加",
                                    style: "primary",
                                    handler: async () => {
                                        await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').add({
                                            groupId: currentId,
                                            createdBy: user.uid,
                                            deviceId: deviceId, // Track device
                                            name: itemToDelete.name,
                                            label: itemToDelete.label,
                                            createdAt: new Date().toISOString()
                                        });
                                        showToast("買い物メモに追加しました");
                                    }
                                }
                            ]
                        });
                        setTimeout(() => setToast(prev => (prev.message === randomMsg ? { message: null, actions: [] } : prev)), 5000);
                    }

                } catch (e) {
                    console.error("Delete error:", e);
                }
            };

            const openAddModal = () => {
                setEditingItem(null);
                setInputName('');
                setInputLabel('');
                if (currentView === 'stock') {
                    setModalMode('add');
                    setInputDate('');
                } else {
                    setModalMode('addShopping');
                }
            };

            const openEditModal = (item, isShopping = false) => {
                setEditingItem(item);
                setInputName(item.name);
                setInputLabel(item.label || '');
                if (isShopping) {
                    setModalMode('editShopping');
                } else {
                    setModalMode('edit');
                    setInputDate(item.date);
                }
            };

            const openMoveModal = (item) => {
                setEditingItem(item);
                setInputName(item.name);
                setInputLabel(item.label || '');
                setInputDate('');
                setModalMode('moveFromShopping');
            };

            const closeModal = (e) => {
                if (e && e.stopPropagation) e.stopPropagation();
                setModalMode(null);
                setEditingItem(null);
            };

            const showToast = (message) => {
                setToast({ message, actions: [], isExiting: false });
                setTimeout(() => {
                    setToast(prev => (prev.message === message ? { ...prev, isExiting: true } : prev));
                    setTimeout(() => {
                        setToast(prev => (prev.message === message && prev.isExiting ? { message: null, actions: [] } : prev));
                    }, 300);
                }, 1500); 
            };

            const sortedItems = useMemo(() => {
                return [...items].sort((a, b) => new Date(a.date) - new Date(b.date));
            }, [items]);

            const handleFooterTap = () => {
                const now = Date.now();
                if (window.lastTap && now - window.lastTap < 500) {
                    const newCount = footerTapCount + 1;
                    setFooterTapCount(newCount);
                    if (newCount >= 3) {
                        downloadHtml();
                        setFooterTapCount(0);
                    }
                } else {
                    setFooterTapCount(1);
                }
                window.lastTap = now;
            };

            const downloadHtml = () => {
                const htmlContent = document.documentElement.outerHTML;
                const blob = new Blob([htmlContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'Mottainainer_Backup.html';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                showToast("バックアップを作成しました");
            };

            const handleJoinGroup = (targetGroupId) => {
                if (targetGroupId && targetGroupId.length >= 4) {
                    if (targetGroupId === myId) {
                        alert("自分のIDには参加できません");
                        return;
                    }
                    setCurrentId(targetGroupId);
                    localStorage.setItem('freshkeeper_current_id', targetGroupId);
                    
                    setIsItemsLoaded(false); 
                    setIsShoppingLoaded(false);
                    showToast("グループに参加しました");
                    setIsShareModalOpen(false);
                } else {
                    alert("IDは4文字以上で入力してください");
                }
            };

            // ID再発行＆データ移行
            const handleRegenerateId = async () => {
                const newId = generateGroupId();
                
                if (confirm(`セキュリティのため、IDを新しく「${newId}」に変更します。\n既存のデータも新しいIDに引き継がれます。\n\nよろしいですか？`)) {
                    setIsMigrating(true);
                    try {
                        const batch = db.batch();
                        let count = 0;
                        
                        if (currentId !== myId) {
                            alert("自分のリストを表示している時のみ、IDの再発行が可能です。");
                            setIsMigrating(false);
                            return;
                        }

                        // Update Stock Items in State
                        items.forEach(item => {
                            if (item.groupId === myId) {
                                const ref = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_items').doc(item.id);
                                batch.update(ref, { groupId: newId });
                                count++;
                            }
                        });

                        // Update Shopping Items
                        shoppingItems.forEach(item => {
                            if (item.groupId === myId) {
                                const ref = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('freshkeeper_shopping').doc(item.id);
                                batch.update(ref, { groupId: newId });
                                count++;
                            }
                        });

                        if (count > 0) {
                            await batch.commit();
                        }

                        // Update Local State
                        setMyId(newId);
                        localStorage.setItem('freshkeeper_my_id', newId);
                        
                        setCurrentId(newId);
                        localStorage.setItem('freshkeeper_current_id', newId);

                        showToast("IDを新しく再発行しました");
                        setIsShareModalOpen(false);

                    } catch (e) {
                        console.error("Migration error:", e);
                        alert("IDの変更中にエラーが発生しました。");
                    } finally {
                        setIsMigrating(false);
                    }
                }
            };

            const handleLeaveGroup = () => {
                if (window.confirm("共有を解除しますか？\n解除すると、自分のリスト（マイホーム）に戻ります。")) {
                    setCurrentId(myId);
                    localStorage.setItem('freshkeeper_current_id', myId);
                    
                    setIsItemsLoaded(false); 
                    setIsShoppingLoaded(false);
                    showToast("自分のリストに戻りました");
                    setIsShareModalOpen(false);
                }
            };

            // Reload for PWA
            const handleReload = () => {
                if (window.confirm('画面を再読み込みしますか？')) {
                    window.location.reload();
                }
            };

            if (!auth) return <LoadingOverlay isVisible={true} />;

            return (
                <div className="min-h-screen pb-40 relative overflow-hidden bg-[#F2F2F7]">
                    
                    {/* Loading Overlay */}
                    <LoadingOverlay isVisible={isLoading || isMigrating} />

                    {/* Header */}
                    <header className="fixed top-0 w-full z-20 glass px-6 py-4 flex justify-between items-center transition-all duration-300">
                        <h1 
                            onClick={handleReload}
                            className="text-base font-bold text-gray-800 tracking-tight flex items-center gap-2 cursor-pointer active:opacity-60 transition-opacity ml-0"
                            title="タップして再読み込み"
                        >
                            モッタイナイナー
                        </h1>
                        <div className="flex items-center gap-2">
                            <button
                                onClick={() => setIsShareModalOpen(true)}
                                className={`w-9 h-9 rounded-full border shadow-sm flex items-center justify-center active:scale-95 transition-all ${isShared ? 'bg-blue-50 border-blue-200 text-blue-500' : 'bg-white/80 border-gray-200/80 text-gray-400 hover:text-gray-600'}`}
                                aria-label="共有設定"
                            >
                                <Icon name="users" size={16} />
                            </button>
                            <button
                                onClick={() => setIsCalcOpen(true)}
                                className="w-9 h-9 rounded-full bg-white/80 border border-gray-200/80 shadow-sm flex items-center justify-center text-gray-500 hover:bg-gray-50 active:scale-95 transition-all"
                                aria-label="割引計算"
                            >
                                <Icon name="percent" size={16} />
                            </button>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="pt-20 px-4 max-w-md mx-auto min-h-screen">
                        
                        {/* VIEW: STOCK */}
                        {currentView === 'stock' && (
                            <div className="animate-fade-in">
                                <div className="space-y-3">
                                    <div className="flex justify-between items-center px-2 mb-3">
                                        <h2 className="text-xs font-bold text-gray-400 uppercase tracking-widest">
                                            食材リスト ({items.length})
                                        </h2>
                                        {/* Date with Pilot Lamp */}
                                        <div className="flex items-center gap-2 bg-white/60 px-2.5 py-1 rounded-full border border-gray-100 shadow-sm">
                                            <span className="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse shadow-[0_0_5px_rgba(52,211,153,0.5)]"></span>
                                            <span className="text-[10px] font-bold text-gray-500 tracking-wide">
                                                {getTodayString()}
                                            </span>
                                        </div>
                                    </div>

                                    {sortedItems.length === 0 ? (
                                        <div className="text-center py-20 opacity-40">
                                            <Icon name="package-open" size={48} className="mx-auto mb-4 text-gray-400" />
                                            <p className="text-sm font-medium text-gray-500">
                                                食材リストは空っぽです
                                            </p>
                                            <p className="text-xs mt-2 text-gray-400">お買い物をしたら追加しましょう</p>
                                        </div>
                                    ) : (
                                        sortedItems.map((item) => (
                                            <FoodItem 
                                                key={item.id} 
                                                item={item} 
                                                onConsume={() => handleDeleteItem(item.id, false)}
                                                onEdit={() => openEditModal(item)}
                                            />
                                        ))
                                    )}
                                </div>
                            </div>
                        )}

                        {/* VIEW: SHOPPING */}
                        {currentView === 'shopping' && (
                            <div className="animate-fade-in">
                                <div className="px-2 mb-4">
                                    <h2 className="text-2xl font-bold text-gray-800 flex items-center gap-2">
                                        <Icon name="shopping-cart" className="text-gray-600" />
                                        買い物メモ
                                    </h2>
                                    <p className="text-xs text-gray-400 mt-1">必要なものをメモしておきましょう</p>
                                </div>

                                <div className="space-y-3">
                                    {shoppingItems.length === 0 ? (
                                        <div className="text-center py-20 opacity-40">
                                            <Icon name="clipboard-list" size={48} className="mx-auto mb-4 text-gray-400" />
                                            <p className="text-sm font-medium text-gray-500">買うものはありません</p>
                                            <p className="text-xs mt-2 text-gray-400">＋ボタンでメモを追加</p>
                                        </div>
                                    ) : (
                                        shoppingItems.map((item) => (
                                            <ShoppingItem 
                                                key={item.id}
                                                item={item}
                                                onEdit={() => openEditModal(item, true)}
                                                onDelete={() => handleDeleteItem(item.id, true)}
                                                onMove={() => openMoveModal(item)}
                                            />
                                        ))
                                    )}
                                </div>
                            </div>
                        )}
                        
                        {/* Footer Secret */}
                        <div className="mt-12 mb-8 text-center">
                            <p 
                                onClick={handleFooterTap}
                                className="text-[10px] text-gray-300 font-medium tracking-widest uppercase cursor-pointer select-none active:text-gray-400 transition-colors"
                            >
                                Love food, hate waste.
                            </p>
                        </div>
                    </main>

                    {/* Integrated Floating Navigation & Add Button */}
                    <div className="fixed bottom-8 left-1/2 transform -translate-x-1/2 z-40 w-auto max-w-[95vw]">
                        <div className="glass-float px-1.5 py-1.5 rounded-full shadow-2xl flex items-center">
                            <button 
                                onClick={() => setCurrentView('stock')}
                                className={`flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 ${currentView === 'stock' ? 'bg-white text-gray-900 border border-gray-200 shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}
                            >
                                <Icon name="refrigerator" size={20} strokeWidth={currentView === 'stock' ? 2.5 : 2} />
                                <span className="text-xs font-bold">食材リスト</span>
                            </button>

                            <button 
                                onClick={openAddModal}
                                className={`w-12 h-12 mx-2 text-white rounded-full shadow-lg flex-shrink-0 flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-300 tap-highlight-transparent ${currentView === 'shopping' ? 'bg-blue-600' : 'bg-black'}`}
                                aria-label="追加"
                            >
                                <Icon name="plus" size={24} strokeWidth={3} />
                            </button>

                            <button 
                                onClick={() => setCurrentView('shopping')}
                                className={`flex flex-row items-center justify-center w-28 h-12 rounded-full transition-all duration-300 tap-highlight-transparent gap-2 ${currentView === 'shopping' ? 'bg-white text-blue-600 border border-blue-100 shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}
                            >
                                <Icon name="shopping-cart" size={20} strokeWidth={currentView === 'shopping' ? 2.5 : 2} />
                                <span className="text-xs font-bold">買い物</span>
                            </button>
                        </div>
                    </div>

                    {/* Notification Toast */}
                    <UpdateToast 
                        stockCount={newStockCount} 
                        shoppingCount={newShoppingCount} 
                        isVisible={showUpdateToast} 
                        isExiting={isUpdateToastExiting}
                        onClose={() => setShowUpdateToast(false)} 
                    />

                    {/* Modal (Shared for Stock Add/Edit, Shopping Add/Edit, Move) */}
                    {modalMode && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center">
                            <div 
                                className="absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity"
                                onClick={closeModal}
                            ></div>
                            
                            <div className="bg-white w-full max-w-md rounded-[2rem] p-6 shadow-2xl animate-slide-up relative z-10 m-4 pb-6">
                                <button 
                                    onClick={closeModal}
                                    className="absolute top-6 right-6 text-gray-400 hover-btn-close bg-gray-100 p-2 rounded-full transition-colors z-20 bg-transparent"
                                >
                                    <Icon name="x" size={20} className="pointer-events-none" />
                                </button>

                                <div className="w-12 h-1 bg-gray-200 rounded-full mx-auto mb-6"></div>
                                
                                <h3 className="text-xl font-bold text-gray-900 mb-6 flex items-center gap-2 pr-8">
                                    {modalMode === 'moveFromShopping' ? (
                                        <>
                                            <Icon name="arrow-right-circle" size={20} className="text-blue-500" />
                                            食材リストへ移動
                                        </>
                                    ) : modalMode.includes('Shopping') ? (
                                        <>
                                            <Icon name="shopping-cart" size={20} />
                                            {modalMode === 'addShopping' ? 'メモを追加' : 'メモを編集'}
                                        </>
                                    ) : (
                                        <>
                                            <Icon name={modalMode === 'add' ? "shopping-bag" : "edit-3"} size={20} />
                                            {modalMode === 'add' ? '食材を追加' : '情報を編集'}
                                        </>
                                    )}
                                </h3>

                                <div className="space-y-5">
                                    <div>
                                        <label className="block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide">名前</label>
                                        <input 
                                            type="text" 
                                            placeholder="例：牛乳、豆腐..." 
                                            className="w-full text-lg font-medium border-b-2 border-gray-100 py-2 focus:outline-none focus:border-black bg-transparent placeholder-gray-300 transition-colors"
                                            value={inputName}
                                            onChange={(e) => setInputName(e.target.value)}
                                            autoFocus={modalMode === 'add' || modalMode === 'addShopping'}
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide">
                                            ラベル <span className="font-normal text-gray-300 ml-1">(任意)</span>
                                        </label>
                                        <div className="relative">
                                            <Icon name="tag" size={16} className="absolute left-0 top-3 text-gray-300" />
                                            <input 
                                                type="text" 
                                                placeholder="例：冷凍、開封済、残り半分..." 
                                                className="w-full text-base font-medium border-b-2 border-gray-100 py-2 pl-6 focus:outline-none focus:border-black bg-transparent placeholder-gray-300 transition-colors"
                                                value={inputLabel}
                                                onChange={(e) => setInputLabel(e.target.value)}
                                            />
                                        </div>
                                    </div>

                                    {(!modalMode.includes('Shopping') || modalMode === 'moveFromShopping') && (
                                        <div className="animate-fade-in">
                                            <label className="block text-xs font-bold text-gray-400 mb-2 uppercase tracking-wide">期限</label>
                                            <div className="relative">
                                                <input 
                                                    type="date" 
                                                    className={`w-full text-lg font-medium bg-gray-50 rounded-xl pl-4 pr-2 py-3 focus:outline-none focus:ring-2 focus:ring-black/5 ${!inputDate ? 'text-transparent' : 'text-gray-800'}`}
                                                    value={inputDate}
                                                    onChange={(e) => setInputDate(e.target.value)}
                                                />
                                                {!inputDate && (
                                                    <span className="absolute left-4 top-1/2 -translate-y-1/2 text-gray-300 pointer-events-none text-base font-medium">
                                                        年 / 月 / 日
                                                    </span>
                                                )}
                                            </div>
                                        </div>
                                    )}

                                    <div className="flex gap-3 mt-6">
                                        <button 
                                            onClick={handleSaveItem}
                                            disabled={!inputName || ((!modalMode.includes('Shopping') || modalMode === 'moveFromShopping') && !inputDate)}
                                            className="w-full bg-black text-white font-bold text-base py-4 rounded-xl shadow-lg shadow-black/20 disabled:opacity-50 disabled:shadow-none active:scale-[0.98] transition-all"
                                        >
                                            {modalMode === 'moveFromShopping' ? '食材リストへ移動' : '保存する'}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Calculator Modal */}
                    {isCalcOpen && (
                        <CalculatorModal onClose={() => setIsCalcOpen(false)} />
                    )}

                    {/* Share Settings Modal */}
                    {isShareModalOpen && (
                        <ShareModal 
                            myId={myId}
                            currentId={currentId}
                            isShared={isShared}
                            onClose={() => setIsShareModalOpen(false)}
                            onJoin={handleJoinGroup}
                            onRegenerate={handleRegenerateId}
                            onLeave={handleLeaveGroup}
                        />
                    )}

                    {/* Toast */}
                    {toast.message && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center pointer-events-none">
                            <div className={`absolute inset-0 bg-black/5 backdrop-blur-[1px] transition-opacity ${toast.isExiting ? 'animate-fade-out' : 'animate-fade-in'}`}></div>
                            <div className={`relative bg-white/95 backdrop-blur-xl px-6 py-5 rounded-[2rem] shadow-2xl flex flex-col items-center gap-4 pointer-events-auto max-w-[85%] text-center border border-white/50 ${toast.isExiting ? 'animate-fade-out' : 'animate-pop-in'}`}>
                                <div className="flex items-center gap-3">
                                    <div className="p-2 bg-emerald-50 rounded-full text-emerald-500 shrink-0">
                                        <Icon name={toast.type === "success" ? "check" : "info"} size={24} strokeWidth={3} />
                                    </div>
                                    <span className="text-gray-800 font-bold text-base leading-snug">{toast.message}</span>
                                </div>
                                {toast.actions && toast.actions.length > 0 && (
                                    <div className="flex gap-3 w-full mt-1">
                                        {toast.actions.map((action, index) => (
                                            <button 
                                                key={index}
                                                onClick={action.handler}
                                                className={`flex-1 py-2.5 px-4 rounded-xl text-sm font-bold transition-all active:scale-95 ${action.style === 'primary' ? 'bg-blue-600 text-white shadow-lg shadow-blue-200 hover:bg-blue-700' : 'bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700'}`}
                                            >
                                                {action.label}
                                            </button>
                                        ))}
                                    </div>
                                )}
                                {toast.showCloseText && (
                                    <button 
                                        onClick={() => setToast({ message: null, actions: [] })}
                                        className="mt-1 text-xs font-bold text-gray-400 hover:text-gray-600 py-2 px-4 transition-colors"
                                    >
                                        閉じる
                                    </button>
                                )}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // --- Loading Overlay ---
        const LoadingOverlay = ({ isVisible }) => {
            if (!isVisible) return null;

            return (
                <div className={`fixed inset-0 z-[100] bg-[#F2F2F7] flex items-center justify-center transition-opacity duration-500 ${isVisible ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}>
                    <div className="flex flex-col items-center">
                        <div className="text-2xl font-bold text-gray-800 tracking-tight flex items-center gap-2 mb-6 animate-pulse-slow">
                            <Icon name="refrigerator" size={28} strokeWidth={2.5} />
                            モッタイナイナー
                        </div>
                        <div className="w-6 h-6 border-[3px] border-gray-200 border-t-emerald-400 rounded-full animate-spin"></div>
                    </div>
                </div>
            );
        };

        // --- Update Toast Component ---
        const UpdateToast = ({ stockCount, shoppingCount, isVisible, isExiting, onClose }) => {
            if (!isVisible || (stockCount === 0 && shoppingCount === 0)) return null;

            return (
                <div className={`fixed top-24 left-0 right-0 z-50 flex justify-center pointer-events-none px-4 transition-all duration-500 ${isExiting ? 'opacity-0 translate-y-[-10px]' : 'opacity-100 animate-pop-in'}`}>
                    <div className="bg-gray-800/95 backdrop-blur-md text-white py-3 pl-5 pr-3 rounded-full shadow-2xl flex items-center gap-4 pointer-events-auto border border-white/10 ring-1 ring-black/5">
                        <div className="flex items-center gap-3 text-sm font-medium">
                            <span className="text-gray-400 text-xs font-bold">追加されました</span>
                            
                            <div className="w-px h-4 bg-gray-600"></div>

                            {stockCount > 0 && (
                                <div className="flex items-center gap-1.5 text-emerald-400">
                                    <Icon name="refrigerator" size={16} />
                                    <span className="font-bold text-base">{stockCount}</span>
                                </div>
                            )}

                            {stockCount > 0 && shoppingCount > 0 && (
                                <div className="w-1 h-1 rounded-full bg-gray-600"></div>
                            )}

                            {shoppingCount > 0 && (
                                <div className="flex items-center gap-1.5 text-blue-400">
                                    <Icon name="shopping-cart" size={16} />
                                    <span className="font-bold text-base">{shoppingCount}</span>
                                </div>
                            )}
                        </div>

                        <button 
                            onClick={onClose}
                            className="ml-2 p-1.5 -mr-1 rounded-full bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-white transition-colors"
                        >
                            <Icon name="x" size={14} />
                        </button>
                    </div>
                </div>
            );
        };

        // --- Share Modal ---
        const ShareModal = ({ myId, currentId, isShared, onClose, onJoin, onRegenerate, onLeave }) => {
            const [inputGroupId, setInputGroupId] = useState('');
            const [isClosing, setIsClosing] = useState(false);
            const [view, setView] = useState('main'); // 'main' or 'help'
            const [copyFeedback, setCopyFeedback] = useState(false);

            const handleClose = () => {
                setIsClosing(true);
                setTimeout(onClose, 300);
            };

            const handleCopy = () => {
                const el = document.createElement('textarea');
                el.value = myId;
                document.body.appendChild(el);
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
                
                setCopyFeedback(true);
                setTimeout(() => setCopyFeedback(false), 2000);
            };

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center">
                    <div 
                        className={`absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity ${isClosing ? 'animate-fade-out' : 'animate-fade-in'}`}
                        onClick={handleClose}
                    ></div>
                    <div className={`bg-white w-full max-w-md rounded-[2rem] p-0 shadow-2xl relative z-10 m-4 overflow-hidden border border-white/50 animate-pop-in ${isClosing ? 'animate-fade-out' : ''}`}>
                        
                        {/* Header Area */}
                        <div className="bg-gray-50 p-4 flex justify-between items-center border-b border-gray-100 relative">
                            {view === 'help' && (
                                <button 
                                    onClick={() => setView('main')} 
                                    className="absolute left-4 p-1.5 -ml-1.5 text-gray-500 hover:text-gray-800 rounded-full hover:bg-gray-200 transition-colors"
                                >
                                    <Icon name="chevron-left" size={24} />
                                </button>
                            )}
                            <h3 className={`font-bold text-gray-800 flex items-center gap-2 ${view === 'help' ? 'mx-auto' : ''}`}>
                                <div className="bg-blue-100 p-1.5 rounded-lg text-blue-600">
                                    <Icon name={view === 'main' ? "users" : "help-circle"} size={18} />
                                </div>
                                {view === 'main' ? '共有設定' : 'ヘルプ'}
                            </h3>
                            <button 
                                onClick={handleClose} 
                                className="p-2 text-gray-400 hover:text-gray-600 bg-white rounded-full hover:bg-gray-100 transition-colors shadow-sm z-10"
                            >
                                <Icon name="x" size={18} />
                            </button>
                        </div>
                        
                        <div className="p-6 max-h-[70vh] overflow-y-auto custom-scrollbar">
                        {view === 'main' ? (
                            <div key="main" className="animate-fade-in space-y-8">
                                
                                {/* 1. My ID Card */}
                                <div className="space-y-2">
                                    <div className="flex justify-between items-end px-1">
                                        <label className="text-xs font-bold text-gray-400 uppercase tracking-widest">あなたのID</label>
                                        <button 
                                            onClick={onRegenerate}
                                            className="text-[10px] text-gray-400 hover:text-gray-600 flex items-center gap-1 hover:bg-gray-100 px-2 py-1 rounded transition-colors"
                                            title="IDを新しく作り直す"
                                        >
                                            <Icon name="refresh-cw" size={10} /> 再発行
                                        </button>
                                    </div>
                                    
                                    <div 
                                        onClick={handleCopy}
                                        className="relative bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100 rounded-2xl p-5 text-center cursor-pointer group hover:shadow-md transition-all active:scale-[0.98]"
                                    >
                                        <p className="text-xs text-blue-400 mb-1">このIDをパートナーに伝えてください</p>
                                        <div className="text-3xl font-mono font-bold text-blue-600 tracking-widest mb-1 group-hover:scale-105 transition-transform">
                                            {myId}
                                        </div>
                                        <div className="flex justify-center items-center gap-1 text-xs font-bold text-blue-400/80">
                                            {copyFeedback ? (
                                                <span className="flex items-center gap-1 text-emerald-500 animate-pop-in">
                                                    <Icon name="check" size={12} /> コピーしました
                                                </span>
                                            ) : (
                                                <span className="flex items-center gap-1 group-hover:text-blue-500">
                                                    <Icon name="copy" size={12} /> タップしてコピー
                                                </span>
                                            )}
                                        </div>
                                    </div>
                                </div>

                                {/* Divider */}
                                <div className="relative">
                                    <div className="absolute inset-0 flex items-center"><div className="w-full border-t border-gray-100"></div></div>
                                    <div className="relative flex justify-center text-xs">
                                        <span className="px-3 bg-white text-gray-400 font-medium">または</span>
                                    </div>
                                </div>

                                {/* 2. Join Form or Status */}
                                {isShared ? (
                                    <div className="bg-emerald-50 border border-emerald-100 rounded-2xl p-5 text-center space-y-3">
                                        <div className="inline-flex items-center justify-center p-2 bg-white rounded-full text-emerald-500 shadow-sm">
                                            <Icon name="link" size={24} />
                                        </div>
                                        <div>
                                            <h4 className="font-bold text-gray-800">共有中</h4>
                                            <p className="text-xs text-emerald-600 mt-1">
                                                現在、パートナーのID <span className="font-mono font-bold">{currentId}</span> に<br/>参加してリストを共有しています。
                                            </p>
                                        </div>
                                        <button 
                                            onClick={onLeave}
                                            className="text-xs font-bold text-rose-400 hover:text-rose-600 bg-white border border-rose-100 hover:bg-rose-50 py-2.5 px-4 rounded-xl transition-colors w-full flex items-center justify-center gap-2 mt-2 shadow-sm"
                                        >
                                            <Icon name="log-out" size={14} />
                                            共有を解除して自分のリストに戻る
                                        </button>
                                    </div>
                                ) : (
                                    <div className="space-y-3">
                                        <label className="block text-xs font-bold text-gray-400 uppercase tracking-widest px-1">パートナーのIDに参加</label>
                                        <div className="flex gap-2">
                                            <div className="relative flex-1">
                                                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                                    <Icon name="log-in" size={16} />
                                                </div>
                                                <input 
                                                    type="text" 
                                                    placeholder="IDを入力" 
                                                    className="w-full pl-9 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-lg font-mono font-bold text-gray-800 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all uppercase placeholder-gray-300"
                                                    value={inputGroupId}
                                                    onChange={(e) => setInputGroupId(e.target.value.toUpperCase())}
                                                />
                                            </div>
                                            <button 
                                                onClick={() => onJoin(inputGroupId)}
                                                disabled={!inputGroupId}
                                                className="bg-black text-white font-bold text-sm px-5 rounded-xl shadow-lg shadow-gray-200 disabled:opacity-50 disabled:shadow-none active:scale-95 transition-all"
                                            >
                                                参加
                                            </button>
                                        </div>
                                    </div>
                                )}

                                {/* Footer Links */}
                                <div className="pt-2 flex flex-col gap-2 text-center">
                                    <button 
                                        onClick={() => setView('help')}
                                        className="text-xs text-gray-400 hover:text-gray-600 underline decoration-gray-300 underline-offset-2 transition-colors"
                                    >
                                        共有の仕組み・解除について
                                    </button>
                                    
                                    <div className="border-t border-gray-100 my-2"></div>

                                    {/* Data Recovery Section - For users who lost data */}
                                    <div className="text-[10px] text-gray-400 bg-gray-50 p-2 rounded-lg">
                                        データが見つかりませんか？<br/>
                                        もし以前のIDを覚えている場合は<br/>
                                        「パートナーのIDに参加」に入力してください。<br/>
                                    </div>
                                </div>
                            </div>
                        ) : (
                            <div key="help" className="animate-fade-in">
                                <div className="mb-6">
                                    <h4 className="text-lg font-bold text-gray-800 mb-2">共有機能の仕組み</h4>
                                    <p className="text-xs text-gray-500 leading-relaxed">
                                        「あなたのID」はあなたの家の住所のようなものです。<br/>
                                        変わることはありません。
                                    </p>
                                </div>

                                <div className="space-y-4">
                                    <div className="bg-gray-50 p-4 rounded-xl border border-gray-100 flex gap-4">
                                        <div className="bg-white p-2 rounded-full h-fit text-blue-500 shadow-sm border border-blue-100">
                                            <Icon name="log-in" size={20} />
                                        </div>
                                        <div>
                                            <h5 className="font-bold text-sm text-gray-800 mb-1">参加するとどうなる？</h5>
                                            <p className="text-xs text-gray-500 leading-relaxed">
                                                パートナーの家（ID）にお邪魔する状態になります。自分のリストは見えなくなりますが、データは消えずに残っています。
                                            </p>
                                        </div>
                                    </div>

                                    <div className="bg-gray-50 p-4 rounded-xl border border-gray-100 flex gap-4">
                                        <div className="bg-white p-2 rounded-full h-fit text-rose-500 shadow-sm border border-rose-100">
                                            <Icon name="log-out" size={20} />
                                        </div>
                                        <div>
                                            <h5 className="font-bold text-sm text-gray-800 mb-1">解除するとどうなる？</h5>
                                            <p className="text-xs text-gray-500 leading-relaxed">
                                                自分の家（ID）に戻ります。自分が以前記録していたリストが再び表示されます。
                                            </p>
                                        </div>
                                    </div>

                                    <div className="bg-gray-50 p-4 rounded-xl border border-gray-100 flex gap-4">
                                        <div className="bg-white p-2 rounded-full h-fit text-emerald-500 shadow-sm border border-emerald-100">
                                            <Icon name="shield-check" size={20} />
                                        </div>
                                        <div>
                                            <h5 className="font-bold text-sm text-gray-800 mb-1">データは安全です</h5>
                                            <p className="text-xs text-gray-500 leading-relaxed">
                                                参加や解除を行っても、データが消えたり混ざったりすることはありません。いつでも自由に行き来できます。
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                        </div>
                    </div>
                </div>
            );
        };

        // --- NEW COMPONENT: Calculator Modal (Existing) ---
        const CalculatorModal = ({ onClose }) => {
            const [price, setPrice] = useState('');
            const [selectedDiscount, setSelectedDiscount] = useState(null); 
            const [customDiscount, setCustomDiscount] = useState('');
            const [isClosing, setIsClosing] = useState(false);
            
            const inputRef = useRef(null);

            useEffect(() => {
                if(inputRef.current) inputRef.current.focus();
            }, []);

            const handleClose = () => {
                setIsClosing(true);
                setTimeout(() => {
                    onClose();
                }, 300);
            };

            const basePrice = parseInt(price, 10);
            const discountRate = selectedDiscount !== null ? selectedDiscount : (customDiscount ? parseInt(customDiscount, 10) : 0);
            const hasValidPrice = !isNaN(basePrice) && basePrice > 0;
            const hasValidDiscount = !isNaN(discountRate) && discountRate > 0;
            const finalPrice = hasValidPrice && hasValidDiscount ? Math.floor(basePrice * (1 - discountRate / 100)) : null;
            const savedAmount = hasValidPrice && hasValidDiscount ? basePrice - finalPrice : null;

            return (
                <div className="fixed inset-0 z-50 flex items-end sm:items-center justify-center">
                    <div className={`absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity ${isClosing ? 'animate-fade-out' : 'animate-fade-in'}`} onClick={handleClose}></div>
                    <div className={`bg-white/95 w-full max-w-md rounded-t-[2rem] sm:rounded-[2rem] p-6 shadow-2xl relative z-10 sm:m-4 pb-8 border border-white/50 backdrop-blur-xl ${isClosing ? 'animate-slide-down' : 'animate-slide-up'}`}>
                        <div className="w-12 h-1 bg-gray-300 rounded-full mx-auto mb-6 opacity-50"></div>
                        <div className="flex justify-between items-center mb-6 px-2">
                            <h3 className="text-lg font-bold text-gray-500 flex items-center gap-2">
                                <div className="bg-orange-100 p-1.5 rounded-lg text-orange-500"><Icon name="calculator" size={18} /></div>
                                割引計算
                            </h3>
                            <button onClick={handleClose} className="p-2 bg-gray-100 rounded-full text-gray-400 hover:text-gray-600 transition-colors"><Icon name="x" size={20} /></button>
                        </div>
                        <div className="bg-gray-50 rounded-2xl p-5 mb-6 shadow-inner border border-gray-100">
                            <div className="flex items-baseline gap-2 mb-2">
                                <span className="text-sm font-bold text-gray-400">定価</span>
                                <div className="flex-1 relative flex items-center">
                                    <span className="absolute left-0 top-1/2 -translate-y-1/2 text-lg font-bold text-gray-400">¥</span>
                                    <input ref={inputRef} type="number" value={price} onChange={(e) => setPrice(e.target.value)} placeholder="0" className="w-full bg-transparent text-4xl font-bold text-gray-800 focus:outline-none pl-6 py-2 font-mono tracking-tight placeholder-gray-300" />
                                    {price && (<button onClick={() => setPrice('')} className="absolute right-0 top-1/2 -translate-y-1/2 text-gray-300 p-1"><Icon name="x-circle" size={16} /></button>)}
                                </div>
                            </div>
                            <div className="h-px bg-gray-200 w-full my-4"></div>
                            <div className="flex items-end justify-between">
                                <div>
                                    <span className="text-xs font-bold text-gray-400 block mb-1">割引後</span>
                                    <div className={`text-4xl font-bold font-mono tracking-tight transition-all duration-300 ${finalPrice !== null ? 'text-blue-600 scale-100' : 'text-gray-300 scale-95 origin-left'}`}>
                                        ¥ {finalPrice !== null ? finalPrice.toLocaleString() : '---'}
                                    </div>
                                </div>
                                {savedAmount !== null && (
                                    <div className="text-right animate-scale-in">
                                        <span className="text-[10px] font-bold text-emerald-500 bg-emerald-50 px-2 py-1 rounded-full border border-emerald-100">お得</span>
                                        <div className="text-sm font-bold text-emerald-600 mt-1">-¥{savedAmount.toLocaleString()}</div>
                                    </div>
                                )}
                            </div>
                        </div>
                        <div className="space-y-4">
                            <label className="text-xs font-bold text-gray-400 uppercase tracking-widest pl-2">割引率を選択</label>
                            <div className="grid grid-cols-4 gap-3">
                                {[{ val: 5, label: '5%' }, { val: 10, label: '10%' }, { val: 20, label: '20%' }, { val: 30, label: '30%' }, { val: 40, label: '40%' }, { val: 50, label: '50%' }, { val: 60, label: '60%' }, { val: 70, label: '70%' }].map((d) => {
                                    const isSelected = selectedDiscount === d.val;
                                    return (
                                        <button key={d.val} onClick={() => { setSelectedDiscount(d.val); setCustomDiscount(''); }} className={`relative overflow-hidden rounded-xl py-3 font-bold text-sm transition-all duration-200 active:scale-95 shadow-sm ${isSelected ? 'bg-gray-800 text-white shadow-lg' : 'bg-white text-gray-600 border border-gray-100 hover:bg-gray-50'}`}>
                                            {d.label}
                                            {isSelected && (<span className="absolute inset-0 bg-white/20 animate-pulse"></span>)}
                                        </button>
                                    );
                                })}
                            </div>
                            <div className="grid grid-cols-4 gap-3">
                                <button onClick={() => { setSelectedDiscount(80); setCustomDiscount(''); }} className={`rounded-xl py-3 font-bold text-sm transition-all duration-200 active:scale-95 shadow-sm border ${selectedDiscount === 80 ? 'bg-gray-800 text-white border-transparent' : 'bg-white text-gray-600 border-gray-100 hover:bg-gray-50'}`}>80%</button>
                                <div className="col-span-3 relative h-[46px]">
                                    <div className={`absolute inset-0 rounded-xl border transition-colors pointer-events-none ${customDiscount ? 'border-blue-500 bg-blue-50/50' : 'border-gray-100 bg-white'}`}></div>
                                    <input type="number" placeholder="その他 %" value={customDiscount} onChange={(e) => { setCustomDiscount(e.target.value); setSelectedDiscount(null); }} className="absolute inset-0 w-full h-full bg-transparent text-center font-bold text-gray-700 placeholder-gray-300 focus:outline-none z-10" style={{ lineHeight: '46px' }} />
                                    {customDiscount && <span className="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-xs pointer-events-none">%</span>}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const FoodItem = ({ item, onConsume, onEdit }) => {
            const days = getDaysDiff(item.date);
            const status = getUrgencyStatus(days);
            const [isExiting, setIsExiting] = useState(false);
            const handleComplete = (e) => {
                e.stopPropagation();
                setIsExiting(true);
                setTimeout(() => onConsume(item.id), 300);
            };
            return (
                <div className={`relative group ${isExiting ? 'animate-swipe-out' : 'animate-fade-in'}`}>
                    <div onClick={onEdit} className="glass-card rounded-xl p-4 flex items-center justify-between shadow-sm transition-transform active:scale-[0.99] cursor-pointer">
                        <div className="flex items-center gap-4 flex-1">
                            <div className={`w-1.5 h-12 rounded-full ${status.color}`}></div>
                            <div>
                                <div className="flex items-center gap-2 flex-wrap">
                                    <h3 className="font-bold text-gray-800 text-lg leading-tight">{item.name}</h3>
                                    {item.label && (<span className="text-[10px] font-medium text-gray-500 bg-gray-100 border border-gray-200 px-2 py-0.5 rounded-full whitespace-nowrap">{item.label}</span>)}
                                </div>
                                <div className="flex items-center gap-2 mt-1">
                                    <span className={`text-xs font-bold px-2 py-0.5 rounded-md ${status.bg} ${status.text}`}>{status.label}</span>
                                    <span className="text-xs text-gray-400 font-medium tracking-wide">{formatDate(item.date)}まで</span>
                                </div>
                            </div>
                        </div>
                        <button onClick={handleComplete} className="w-10 h-10 rounded-full bg-gray-100 flex-shrink-0 flex items-center justify-center text-gray-400 hover-btn-emerald active:bg-emerald-500 active:text-white transition-all tap-highlight-transparent z-10" aria-label="食べきった"><Icon name="check" size={20} /></button>
                    </div>
                </div>
            );
        };

        const ShoppingItem = ({ item, onEdit, onDelete, onMove }) => {
            return (
                <div className="glass-card rounded-xl p-4 flex items-center justify-between shadow-sm animate-fade-in cursor-pointer active:scale-[0.99] transition-transform" onClick={onEdit}>
                    <div className="flex items-center gap-3">
                         <div className="p-2 bg-gray-100 rounded-lg text-gray-500"><Icon name="shopping-bag" size={20} /></div>
                         <div>
                            <div className="flex items-center gap-2">
                                <h3 className="font-bold text-gray-800 text-lg">{item.name}</h3>
                                {item.label && (<span className="text-[10px] font-medium text-gray-500 bg-gray-100 border border-gray-200 px-2 py-0.5 rounded-full whitespace-nowrap">{item.label}</span>)}
                            </div>
                         </div>
                    </div>
                    <div className="flex items-center gap-2">
                         <button onClick={(e) => { e.stopPropagation(); onMove(); }} className="w-10 h-10 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center hover-btn-blue transition-colors" aria-label="食材リストへ移動"><Icon name="arrow-right" size={20} /></button>
                        <button onClick={(e) => { e.stopPropagation(); onDelete(); }} className="w-10 h-10 rounded-full bg-gray-50 text-gray-400 flex items-center justify-center hover-btn-rose transition-colors" aria-label="削除"><Icon name="trash-2" size={18} /></button>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>

</body></html>